# typescripté¢è¯•é¢˜æ±‡æ€»
TypeScript æ˜¯ Microsoft å¼€å‘çš„JavaScript çš„å¼€æºè¶…é›†ï¼Œç”¨äºåœ¨ä¸ç ´åç°æœ‰ç¨‹åºçš„æƒ…å†µä¸‹æ·»åŠ é™„åŠ åŠŸèƒ½ã€‚

## 1ã€ğŸ‘Typescriptæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆéœ€è¦ TypeScriptï¼ŸTypeScriptæœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ
TypeScript æ˜¯ç”± Microsoft å¼€å‘å’Œç»´æŠ¤çš„å…è´¹å¼€æºç¼–ç¨‹è¯­è¨€ã€‚å®ƒæ˜¯ JavaScript çš„å¼ºç±»å‹è¶…é›†ï¼Œå¯ç¼–è¯‘ä¸ºçº¯ JavaScriptã€‚å®ƒæ˜¯ä¸€ç§ç”¨äºåº”ç”¨ç¨‹åºçº§ JavaScript å¼€å‘çš„è¯­è¨€ã€‚å¯¹äºç†Ÿæ‚‰ C#ã€Java å’Œæ‰€æœ‰å¼ºç±»å‹è¯­è¨€çš„å¼€å‘äººå‘˜æ¥è¯´ï¼ŒTypeScript éå¸¸å®¹æ˜“å­¦ä¹ å’Œä½¿ç”¨ã€‚

åŸºäºä»¥ä¸‹ç‰¹ç‚¹/åŸå› éœ€è¦ TypeScriptï¼š
- TypeScript å¿«é€Ÿã€ç®€å•ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œæ˜“äºå­¦ä¹ ã€‚
- TypeScript æ”¯æŒé¢å‘å¯¹è±¡çš„ç¼–ç¨‹ç‰¹æ€§ï¼Œä¾‹å¦‚ç±»ã€æ¥å£ã€ç»§æ‰¿ã€æ³›å‹ç­‰ã€‚
- TypeScript åœ¨ç¼–è¯‘æ—¶æä¾›é”™è¯¯æ£€æŸ¥åŠŸèƒ½ã€‚å®ƒå°†ç¼–è¯‘ä»£ç ï¼Œå¦‚æœå‘ç°ä»»ä½•é”™è¯¯ï¼Œå®ƒä¼šåœ¨è„šæœ¬è¿è¡Œä¹‹å‰çªå‡ºæ˜¾ç¤ºé”™è¯¯ã€‚
- TypeScript æ”¯æŒæ‰€æœ‰ JavaScript åº“ï¼Œå› ä¸ºå®ƒæ˜¯ JavaScript çš„è¶…é›†ã€‚
- TypeScript é€šè¿‡ä½¿ç”¨ç»§æ‰¿æ¥æ”¯æŒå¯é‡ç”¨æ€§ã€‚
- TypeScript ä½¿åº”ç”¨ç¨‹åºå¼€å‘å°½å¯èƒ½å¿«é€Ÿå’Œç®€å•ï¼ŒTypeScript çš„å·¥å…·æ”¯æŒä¸ºæˆ‘ä»¬æä¾›äº†è‡ªåŠ¨å®Œæˆã€ç±»å‹æ£€æŸ¥å’Œæºæ–‡æ¡£ã€‚
- TypeScript æ”¯æŒæœ€æ–°çš„ JavaScript åŠŸèƒ½ï¼ŒåŒ…æ‹¬ ECMAScript 2015ã€‚
- TypeScript æä¾›äº† ES6 çš„æ‰€æœ‰ä¼˜ç‚¹ä»¥åŠæ›´é«˜çš„ç”Ÿäº§åŠ›ã€‚
- TypeScript æ”¯æŒé™æ€ç±»å‹ã€å¼ºç±»å‹ã€æ¨¡å—ã€å¯é€‰å‚æ•°ç­‰ã€‚

ç‰¹æ€§ï¼š
- è·¨å¹³å°ï¼šTypeScript ç¼–è¯‘å™¨å¯ä»¥å®‰è£…åœ¨ä»»ä½•æ“ä½œç³»ç»Ÿä¸Šï¼ŒåŒ…æ‹¬ Windowsã€macOS å’Œ Linuxã€‚
- ES6 ç‰¹æ€§ï¼šTypeScript åŒ…å«è®¡åˆ’ä¸­çš„ ECMAScript 2015 (ES6) çš„å¤§éƒ¨åˆ†ç‰¹æ€§ï¼Œä¾‹å¦‚ç®­å¤´å‡½æ•°ã€‚
- é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼šTypeScript æä¾›æ‰€æœ‰æ ‡å‡†çš„ OOP åŠŸèƒ½ï¼Œå¦‚ç±»ã€æ¥å£å’Œæ¨¡å—ã€‚
- é™æ€ç±»å‹æ£€æŸ¥ï¼šTypeScript ä½¿ç”¨é™æ€ç±»å‹å¹¶å¸®åŠ©åœ¨ç¼–è¯‘æ—¶è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚å› æ­¤ï¼Œä½ å¯ä»¥åœ¨ç¼–å†™ä»£ç æ—¶å‘ç°ç¼–è¯‘æ—¶é”™è¯¯ï¼Œè€Œæ— éœ€è¿è¡Œè„šæœ¬ã€‚
- å¯é€‰çš„é™æ€ç±»å‹ï¼šå¦‚æœä½ ä¹ æƒ¯äº† JavaScript çš„åŠ¨æ€ç±»å‹ï¼ŒTypeScript è¿˜å…è®¸å¯é€‰çš„é™æ€ç±»å‹ã€‚
- DOM æ“ä½œï¼šæ‚¨å¯ä»¥ä½¿ç”¨ TypeScript æ¥æ“ä½œ DOM ä»¥æ·»åŠ æˆ–åˆ é™¤å®¢æˆ·ç«¯ç½‘é¡µå…ƒç´ ã€‚


## 2ã€ä½¿ç”¨ TypeScript æœ‰å“ªäº›å¥½å¤„ï¼Ÿ
- Typescriptæä¾›äº†å¯é€‰é™æ€ç±»å‹çš„å¥½å¤„ã€‚åœ¨è¿™é‡Œï¼ŒTypescript æä¾›äº†å¯ä»¥æ·»åŠ åˆ°å˜é‡ã€å‡½æ•°ã€å±æ€§ç­‰çš„ç±»å‹ã€‚
- Typescript èƒ½å¤Ÿç¼–è¯‘æˆå¯åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸Šè¿è¡Œçš„ JavaScript ç‰ˆæœ¬ã€‚
- TypeScript æ€»æ˜¯åœ¨å¼€å‘æœŸé—´åœ¨ç¼–è¯‘æ—¶çªå‡ºæ˜¾ç¤ºé”™è¯¯ï¼Œè€Œ JavaScript åœ¨è¿è¡Œæ—¶æŒ‡å‡ºé”™è¯¯ã€‚
- TypeScript æ”¯æŒå¼ºç±»å‹æˆ–é™æ€ç±»å‹ï¼Œè€Œè¿™åœ¨ JavaScript ä¸­ä¸æ”¯æŒã€‚
- TypeScriptæœ‰åŠ©äºä»£ç ç»“æ„ã€‚
- TypeScriptä½¿ç”¨åŸºäºç±»çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚
- TypeScripté€šè¿‡ IntelliSense æä¾›å‡ºè‰²çš„å·¥å…·æ”¯æŒï¼Œåœ¨æ·»åŠ ä»£ç æ—¶æä¾›ä¸»åŠ¨æç¤ºã€‚
- TypeScripté€šè¿‡å®šä¹‰æ¨¡å—ï¼Œå®ƒå…·æœ‰å‘½åç©ºé—´æ¦‚å¿µã€‚


## 3ã€TypeScript çš„å†…ç½®æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ
å†…ç½®æ•°æ®ç±»å‹åœ¨ Typescript ä¸­ä¹Ÿç§°ä¸ºåŸå§‹æ•°æ®ç±»å‹ã€‚è¿™äº›å†…ç½®ç±»å‹å¦‚ä¸‹ï¼š
- Numberç±»å‹ï¼šç”¨äºè¡¨ç¤ºæ•°å­—ç±»å‹å€¼ã€‚TypeScript ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½å­˜å‚¨ä¸ºæµ®ç‚¹å€¼ã€‚è¯­æ³•ï¼š`let identifier: number = value`;
- Stringç±»å‹ï¼šå®ƒè¡¨ç¤ºå­˜å‚¨ä¸º Unicode UTF-16 ä»£ç çš„å­—ç¬¦åºåˆ—ã€‚åœ¨è„šæœ¬ä¸­åŒ…å«å­—ç¬¦ä¸²æ–‡å­—ï¼Œæ–¹æ³•æ˜¯ç”¨å•å¼•å·æˆ–åŒå¼•å·å°†å®ƒä»¬æ‹¬èµ·æ¥ã€‚è¯­æ³•ï¼š`let identifier: string = " "`;
- Booleanç±»å‹ï¼š ç”¨äºè¡¨ç¤ºä¸€ä¸ªé€»è¾‘å€¼ã€‚å½“ä½¿ç”¨å¸ƒå°”ç±»å‹æ—¶ï¼Œåªèƒ½å¾—åˆ°falseæˆ–trueçš„è¾“å‡ºã€‚å¸ƒå°”å€¼æ˜¯æŒ‡å®šæ¡ä»¶æ˜¯å¦ä¸ºtrueçš„çœŸå€¼ã€‚è¯­æ³•ï¼š`let bool = Boolean value`;
- Nullç±»å‹ï¼š Null è¡¨ç¤ºä¸€ä¸ªå€¼æœªå®šä¹‰çš„å˜é‡ã€‚ä¸èƒ½ç›´æ¥å¼•ç”¨ null ç±»å‹å€¼æœ¬èº«ã€‚Null ç±»å‹æ²¡æœ‰ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬åªèƒ½ä¸ºå®ƒåˆ†é…ä¸€ä¸ªç©ºå€¼ã€‚è¯­æ³•ï¼š`let num: number = null`;
- Undefinedç±»å‹ï¼šå®ƒæ˜¯æœªå®šä¹‰æ–‡å­—çš„ç±»å‹ã€‚Undefined ç±»å‹è¡¨ç¤ºæ‰€æœ‰æœªåˆå§‹åŒ–çš„å˜é‡ã€‚å®ƒæ²¡æœ‰ç”¨ï¼Œå› ä¸ºåªèƒ½ä¸ºå…¶åˆ†é…ä¸€ä¸ªæœªå®šä¹‰çš„å€¼ã€‚è¿™ç§å†…ç½®ç±»å‹æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚è¯­æ³•ï¼š`let num: number = undefined`;
- voidç±»å‹ï¼švoidæ˜¯ä¸è¿”å›ä»»ä½•ç±»å‹å€¼çš„å‡½æ•°çš„è¿”å›ç±»å‹ã€‚å®ƒç”¨äºæ²¡æœ‰å¯ç”¨æ•°æ®ç±»å‹çš„åœ°æ–¹ã€‚è¯­æ³•ï¼š`let unusable: void = undefined`;

é™¤æ­¤ä¹‹å¤–ï¼ŒTypeScript è¿˜æ”¯æŒä»¥ä¸‹å¤åˆç±»å‹ï¼š
- arrayï¼šè¡¨ç¤ºä¸€ä¸ªå…ƒç´ ç±»å‹ä¸º T çš„æ•°ç»„ã€‚ä¾‹å¦‚ï¼Œnumber[] è¡¨ç¤ºä¸€ä¸ªæ•°å­—æ•°ç»„ã€‚
- tupleï¼šè¡¨ç¤ºå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ã€‚ä¾‹å¦‚ï¼Œ[string, number] è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²å’Œæ•°å­—ç»„æˆçš„å…ƒç»„ã€‚
- enumï¼šè¡¨ç¤ºä¸€ä¸ªå‘½åçš„å¸¸é‡æšä¸¾ã€‚
- anyï¼šè¡¨ç¤ºä»»æ„ç±»å‹ã€‚
- unknownï¼šä¸ any ç±»ä¼¼ï¼Œä½†æ˜¯åœ¨æ›´ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ä¸‹ä½¿ç”¨ã€‚
- objectï¼šè¡¨ç¤ºéåŸå§‹ç±»å‹çš„å¯¹è±¡ã€‚

è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ç±»å‹ï¼Œä¾‹å¦‚ neverã€union å’Œ intersectionï¼Œå®ƒä»¬å¯ä»¥ç”¨äºæè¿°æ›´å¤æ‚çš„ç±»å‹ã€‚


## 4ã€è°å¼€å‘äº†Typescriptï¼ŸTypeScript ç›®å‰çš„ç¨³å®šç‰ˆæœ¬æ˜¯ä»€ä¹ˆï¼Ÿ
Typescriptç”± Anders Hejlsberg å¼€å‘ï¼Œä»–ä¹Ÿæ˜¯ C# è¯­è¨€å¼€å‘å›¢é˜Ÿçš„æ ¸å¿ƒæˆå‘˜ä¹‹ä¸€ã€‚TypeScript 4.9ç°åœ¨å¯ç”¨ï¼Œ5.0ç›®å‰å¤„äºæµ‹è¯•é˜¶æ®µã€‚


## 5ã€TypeScript ä¸­çš„æ¥å£æ˜¯ä»€ä¹ˆï¼Ÿ
> æ¥å£æ˜¯ä¸€ç³»åˆ—æŠ½è±¡æ–¹æ³•çš„å£°æ˜ï¼Œæ˜¯ä¸€äº›æ–¹æ³•ç‰¹å¾çš„é›†åˆã€‚ï¼Œè¿™äº›æ–¹æ³•éƒ½åº”è¯¥æ˜¯æŠ½è±¡çš„ï¼Œéœ€è¦ç”±å…·ä½“çš„ã€Œç±»ã€å»å®ç°ï¼Œç„¶åç¬¬ä¸‰æ–¹å°±å¯ä»¥é€šè¿‡è¿™ç»„æŠ½è±¡æ–¹æ³•è°ƒç”¨ï¼Œè®©å…·ä½“çš„ç±»æ‰§è¡Œå…·ä½“çš„æ–¹æ³•ã€‚**ç®€å•æ¥è®²ï¼Œä¸€ä¸ªæ¥å£æ‰€æè¿°çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ç›¸å…³çš„å±æ€§å’Œæ–¹æ³•ï¼Œä½†å¹¶ä¸æä¾›å…·ä½“åˆ›å»ºæ­¤å¯¹è±¡å®ä¾‹çš„æ–¹æ³•ã€‚**

æ¥å£æ˜¯åœ¨åº”ç”¨ç¨‹åºä¸­å……å½“åˆçº¦çš„ç»“æ„ã€‚å®ƒå®šä¹‰äº†ç±»è¦éµå¾ªçš„è¯­æ³•ï¼Œè¿™æ„å‘³ç€å®ç°æ¥å£çš„ç±»å¿…é¡»å®ç°å…¶æ‰€æœ‰æˆå‘˜ã€‚å®ƒä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œä½†å¯ä»¥è¢«å®ç°å®ƒçš„ç±»å¯¹è±¡å¼•ç”¨ã€‚TypeScript ç¼–è¯‘å™¨ä½¿ç”¨æ¥å£è¿›è¡Œç±»å‹æ£€æŸ¥(ä¹Ÿç§°ä¸ºâ€œé¸­å­ç±»å‹â€æˆ–â€œç»“æ„å­ç±»å‹â€)ï¼Œæ— è®ºå¯¹è±¡æ˜¯å¦å…·æœ‰ç‰¹å®šç»“æ„ã€‚
```ts
interface IEmployee {
  empCode: number;
  empName: string;
  getSalary: (number) => number; // arrow function
  getManagerName(number): string; 
}
```
æ¥å£ä»…å£°æ˜æ–¹æ³•å’Œå­—æ®µã€‚å®ƒä¸èƒ½ç”¨äºæ„å»ºä»»ä½•ä¸œè¥¿ã€‚æ¥å£æ— éœ€è½¬æ¢ä¸º JavaScript å³å¯æ‰§è¡Œã€‚å®ƒä»¬å¯¹è¿è¡Œæ—¶ JavaScript çš„å½±å“ä¸ºé›¶ã€‚å› æ­¤ï¼Œä»–ä»¬çš„å”¯ä¸€ç›®çš„æ˜¯åœ¨å¼€å‘é˜¶æ®µæä¾›å¸®åŠ©ã€‚


## 6ã€TypeScript ä¸­çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿ
**æ¨¡å—æ˜¯typescriptç»„ç»‡ä»£ç çš„ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥åœ¨æ¨¡å—ä¸­åˆ›å»ºä¸€ç»„ç›¸å…³å˜é‡ã€å‡½æ•°ã€ç±»å’Œæ¥å£ç­‰æ•°æ®ã€‚**
> æ¨¡å—æ˜¯åœ¨å…¶è‡ªèº«çš„ä½œç”¨åŸŸé‡Œæ‰§è¡Œï¼Œå¹¶ä¸æ˜¯å…¨å±€ä½œç”¨åŸŸï¼Œæ„å‘³ç€å®šä¹‰åœ¨æ¨¡å—é‡Œçš„å˜é‡ã€å‡½æ•°å’Œç±»ç­‰æˆå‘˜åœ¨æ¨¡å—å¤–æ˜¯ä¸å¯è§çš„ï¼Œé™¤éä½¿ç”¨æ˜ç¡®çš„`export`å¯¼å‡ºä»–ä»¬ï¼Œç„¶ååœ¨å…¶ä»–æ¨¡å—ä¸­ä½¿ç”¨`import`å¯¼å…¥å˜é‡ã€å‡½æ•°å’Œç±»ç­‰æˆå‘˜ã€‚

- ä½¿ç”¨æ–¹å¼ä¸€: é€šè¿‡`module`å…³é”®å­—åˆ›å»º
  ```ts
  module IShape {
    export interface IShapeInter {
      draw()
    }
  }
  export class Circle implements IShape.IShapeInter {
    draw() {
      console.log('Circle ....')
    }
  }
  ```
- ä½¿ç”¨æ–¹å¼äºŒï¼šå•ç‹¬æŠ½ç¦»ä¸€ä¸ª`ts`æ–‡ä»¶
  ```ts
  // IShape.ts
  export interface IShapeInter {
    draw()
  }
  // Circle.ts
  import { IShapeInter } from './Ishape'
  export class Circle implements IShapeInter {
    draw() {
      console.log('Circle ....')
    }
  }
  ```


## 7ã€Typescript ä¸­çš„å‘½åç©ºé—´æ˜¯ä»€ä¹ˆï¼Ÿ å¦‚ä½•åœ¨ Typescript ä¸­å£°æ˜å‘½åç©ºé—´ï¼Ÿ
å‘½åç©ºé—´**æ˜¯ä¸€ç§ç”¨äºç»„ç»‡å’Œåˆ†ç±»ä»£ç çš„ç‰¹å®šæ–¹å¼ï¼Œä½¿ä½ èƒ½å¤Ÿå°†ç›¸å…³ä»£ç ç»„åˆåœ¨ä¸€èµ·**ã€‚å‘½åç©ºé—´å…è®¸å°†ä¸ä¸šåŠ¡è§„åˆ™ç›¸å…³çš„å˜é‡ã€å‡½æ•°ã€æ¥å£æˆ–ç±»åˆ†ç»„åˆ°ä¸€ä¸ªå‘½åç©ºé—´ï¼Œå°†å®‰å…¨æ€§åˆ†ç»„åˆ°å¦ä¸€ä¸ªå‘½åç©ºé—´ã€‚å‘½åç©ºé—´æ—©æœŸä¹Ÿç§°ä¸ºå†…éƒ¨æ¨¡å—ã€‚
> å‘½åç©ºé—´çš„ç›®çš„å°±æ˜¯è§£å†³é‡åé—®é¢˜ã€‚
- 1ã€ä½¿ç”¨å‘½åç©ºé—´æ¼”ç¤ºé‡åé—®é¢˜
  - åˆ›å»º`speak.ts`: å½“éœ€è¦åœ¨å¤–éƒ¨è°ƒç”¨å‘½åç©ºé—´ä¸­çš„ç±»å’Œæ¥å£ï¼Œåˆ™éœ€è¦åœ¨ç±»å’Œæ¥å£æ·»åŠ `export`å…³é”®å­—
    ```ts
    namespace Speak {
      export interface peopleSpeak {
        speakFun(): any;
      }
    }
    ```
  - åˆ›å»º`speak1.ts`æ–‡ä»¶
    > å‘½åç©ºé—´åœ¨ä¸€ä¸ªå•ç‹¬çš„ TypeScript æ–‡ä»¶ä¸­ï¼Œå¯ä½¿ç”¨ä¸‰æ–œæ `///`å¼•ç”¨å®ƒ
    ```ts
    /// <reference path = "speak.ts" />
    namespace Speak {
      export class SpeakTs implements peopleSpeak {
        speakFun() {
          console.log("ts")
        }
      }
    }
    ```
  - åˆ›å»º`speak2.ts`æ–‡ä»¶
    ```ts
    /// <reference path = "speak.ts" />
    namespace Speak {
      export class SpeakHello implements peopleSpeak {
        speakFun() {
          console.log("hello")
        }
      }
    }
    ```
  - åˆ›å»º`oneSpeak.ts`æ–‡ä»¶
    ```ts
    /// <reference path = "speak.ts" />   
    /// <reference path = "speak1.ts" /> 
    /// <reference path = "speak2.ts" /> 
    function speakStr (speak: Speak.peopleSpeak) {
      console.log(speak)
    }
    speakStr(new Speak.SpeakHello) // hello
    speakStr(new Speak.SpeakTs) // ts
    ```
- 2ã€åµŒå¥—å‘½åç©ºé—´çš„ç®€å•ä½¿ç”¨
  > å‘½åç©ºé—´æ”¯æŒåµŒå¥—ï¼Œå¯ä»¥å°†å‘½åç©ºé—´å®šä¹‰åœ¨å¦å¤–ä¸€ä¸ªå‘½åç©ºé—´é‡Œé¢ï¼Œä½¿ç”¨`export`å¯¼å‡ºå‘½åç©ºé—´
  - åˆ›å»º`oneNest.ts`æ–‡ä»¶
    ```ts
    namespace XiaoGuai {
      export namespace Sam {
        export class Speak {
          public speakTs(oneStr: string) {
            return oneStr;
          }
        }
      }
    }
    ```
  - åˆ›å»º`oneSpeak.ts`æ–‡ä»¶: æˆå‘˜çš„è®¿é—®ä½¿ç”¨ç‚¹å·`.`æ¥å®ç°
    ```ts
    /// <reference path = "oneNest.ts" />
    let oneStr = new XiaoGuai.Sam.Speak(); 
    console.log(oneStr.speakTs("hello ts")); //hello ts
    ```


## 8ã€TypeScript ä¸­çš„ç±»æ˜¯ä»€ä¹ˆï¼Ÿä½ å¦‚ä½•å®šä¹‰å®ƒä»¬ï¼Ÿ
**ç±»æè¿°äº†æ‰€åˆ›å»ºçš„å¯¹è±¡å…±åŒçš„å±æ€§å’Œæ–¹æ³•**ã€‚å¯ä»¥è®¤ä¸ºæ˜¯ä¸ºæè¿°æŸç§æŠ½è±¡è€Œè‡ªå®šä¹‰çš„ä¸€ç§ç±»å‹ã€‚
> è¯¥ç±»å‹é€šå¸¸ä¼šåŒ…å«ä¸‰ç§æˆå‘˜: é€šè¿‡å…³é”®å­—`class`å®šä¹‰ç±»
- å­—æ®µ: å­—æ®µæ˜¯ç±»é‡Œé¢å£°æ˜çš„å˜é‡ã€‚å­—æ®µè¡¨ç¤ºå¯¹è±¡çš„æœ‰å…³æ•°æ®ã€‚
- æ„é€ å‡½æ•°: ç±»å®ä¾‹åŒ–æ—¶è°ƒç”¨ï¼Œå¯ä»¥ä¸ºç±»çš„å¯¹è±¡åˆ†é…å†…å­˜ã€‚
- æ–¹æ³•: æ–¹æ³•ä¸ºå¯¹è±¡è¦æ‰§è¡Œçš„æ“ä½œã€‚
```ts
class Student {
  // å­—æ®µ
  studCode: number;    
  studName: string;
  // æ„é€ å‡½æ•°
  constructor(code: number, name: string) {    
    this.studName = name;    
    this.studCode = code;    
  }
  // æ–¹æ³•
  getGrade() {    
    return "A+";    
  }    
}
```
ä½¿ç”¨`new`å…³é”®å­—æ¥å®ä¾‹åŒ–ç±»çš„å¯¹è±¡
```ts
var student = new Student(1, 'å¼ ä¸‰')
```
ç±»ä¸­çš„å­—æ®µå±æ€§å’Œæ–¹æ³•å¯ä»¥ä½¿ç”¨`.`å·æ¥è®¿é—®
```ts
// è®¿é—®å±æ€§
student.studName

// è®¿é—®æ–¹æ³•
student.getGrade()
```
ç±»çš„ç‰¹ç‚¹æ˜¯:
- ç»§æ‰¿
- å°è£…
- å¤šæ€æ€§
- æŠ½è±¡


## 9ã€å¦‚ä½•åœ¨TypeScriptä¸­å®ç°ç»§æ‰¿ï¼Ÿ
ç»§æ‰¿æ˜¯ä¸€ç§ä»å¦ä¸€ä¸ªç±»è·å–ä¸€ä¸ªç±»çš„å±æ€§å’Œè¡Œä¸ºçš„æœºåˆ¶ã€‚å®ƒæ˜¯ OOP è¯­è¨€çš„ä¸€ä¸ªé‡è¦æ–¹é¢ï¼Œå…·æœ‰ä»ç°æœ‰ç±»åˆ›å»ºæ–°ç±»çš„èƒ½åŠ›ã€‚å…¶æˆå‘˜è¢«ç»§æ‰¿çš„ç±»ç§°ä¸ºåŸºç±»ï¼Œç»§æ‰¿è¿™äº›æˆå‘˜çš„ç±»ç§°ä¸ºæ´¾ç”Ÿç±»ã€‚
> å¯ä»¥ä½¿ç”¨ `extend` å…³é”®å­—æ¥å®ç°ç»§æ‰¿ã€‚
```ts
class Shape {     
  Area:number     
  constructor(area:number) {     
    this.Area = area    
  }     
}     
class Circle extends Shape {     
  display():void {     
    console.log("Area of the circle: "+this.Area)     
  }     
}    
var obj = new Circle(320);     
obj.display()  //Output: Area of the circle: 320
```


## 10ã€åœ¨TypeScriptä¸­å¦‚ä½•ä»å­ç±»è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ï¼Ÿ
ä½ å¯ä»¥ä½¿ç”¨è¯¥`super()`å‡½æ•°æ¥è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ã€‚
```ts
class Animal {
  name: string;
  constructor(theName: string) {
    this.name = theName;
  }
  move(distanceInMeters: number = 0) {
    console.log(`${this.name} moved ${distanceInMeters}m.`);
  }
}
class Snake extends Animal {
  constructor(name: string) {
    super(name);
  }
  move(distanceInMeters = 5) {
    console.log("Slithering...");
    super.move(distanceInMeters);
  }
}
```


## 11ã€TypeScript ä¸­çš„ç±»å‹æ–­è¨€æ˜¯ä»€ä¹ˆï¼Ÿ
TypeScriptå…è®¸ä½ è¦†ç›–å®ƒçš„æ¨æ–­ï¼Œå¹¶ä¸”èƒ½ä»¥ä½ ä»»ä½•ä½ æƒ³è¦çš„æ–¹å¼åˆ†æå®ƒï¼Œè¿™ç§æœºåˆ¶è¢«ç§°ä¸º**ç±»å‹æ–­è¨€**ã€‚
> **ç±»å‹æ–­è¨€ç”¨æ¥å‘Šè¯‰ç¼–è¯‘å™¨ä½ æ¯”å®ƒæ›´äº†è§£è¿™ä¸ªç±»å‹ï¼Œå¹¶ä¸”å®ƒä¸åº”è¯¥å†å‘å‡ºé”™è¯¯**ã€‚**ç±»å‹æ–­è¨€çš„å¸¸ç”¨ä¸¤ç§æ–¹å¼: `as`å’Œ`å°–æ‹¬å·`**ã€‚

ç±»å‹æ–­è¨€çš„ä¸€ä¸ªå¸¸è§ç”¨ä¾‹æ˜¯å½“ä½ ä» JavaScript è¿ç§»åˆ° TypeScript æ—¶ï¼š
```js
const foo = {};
foo.bar = 123; // Error: 'bar' å±æ€§ä¸å­˜åœ¨äº â€˜{}â€™
foo.bas = 'hello'; // Error: 'bas' å±æ€§ä¸å­˜åœ¨äº '{}'
```
è¿™é‡Œçš„ä»£ç å‘å‡ºäº†é”™è¯¯è­¦å‘Šï¼Œå› ä¸º`foo`çš„ç±»å‹æ¨æ–­ä¸º`{}`ï¼Œå³æ²¡æœ‰å±æ€§çš„å¯¹è±¡ã€‚å› æ­¤ï¼Œä½ ä¸èƒ½åœ¨å®ƒçš„å±æ€§ä¸Šæ·»åŠ `bar`æˆ–`bas`ï¼Œä½ å¯ä»¥é€šè¿‡ç±»å‹æ–­è¨€æ¥é¿å…æ­¤é—®é¢˜ï¼š
```ts
interface Foo {
  bar: number;
  bas: string;
}
const foo = {} as Foo;
foo.bar = 123;
foo.bas = 'hello';
```
é™¤äº†ä¸Šé¢çš„`as`å†™æ³•ä»¥å¤–è¿˜æœ‰ä¸€ç§`å°–æ‹¬å·`å†™æ³•
```ts
const foo = <Foo>{};
foo.bar = 123;
foo.bas = 'hello';
```


## 12ã€Typescriptä¸­çš„å˜é‡æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•åœ¨ Typescript ä¸­åˆ›å»ºå˜é‡ï¼Ÿ
å˜é‡æ˜¯å­˜å‚¨ä½ç½®ï¼Œç”¨äºå­˜å‚¨ç¨‹åºè¦å¼•ç”¨å’Œä½¿ç”¨çš„å€¼/ä¿¡æ¯ã€‚å®ƒå……å½“ç¨‹åºä¸­ä»·å€¼çš„å®¹å™¨ã€‚å¯ä»¥ä½¿ç”¨`var`å…³é”®å­—å£°æ˜å®ƒï¼Œåº”åœ¨ä½¿ç”¨å‰å£°æ˜ã€‚åœ¨ Typescript ä¸­å£°æ˜å˜é‡æ—¶ï¼Œåº”éµå¾ªæŸäº›è§„åˆ™
- å˜é‡åç§°å¿…é¡»æ˜¯å­—æ¯æˆ–æ•°å­—ã€‚
- å˜é‡åä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚
- å˜é‡åä¸èƒ½åŒ…å«ç©ºæ ¼å’Œç‰¹æ®Šå­—ç¬¦ï¼Œä¸‹åˆ’çº¿ (`_`) å’Œç¾å…ƒ (`$`) ç¬¦å·é™¤å¤–ã€‚

å¯ä»¥é€šè¿‡ä»¥ä¸‹å››ç§æ–¹å¼ä¹‹ä¸€å£°æ˜å˜é‡ï¼š
- åœ¨å•ä¸ªè¯­å¥ä¸­å£°æ˜ç±»å‹å’Œå€¼ã€‚è¯­æ³•ï¼š`var [identifier] : [type-annotation] = value;`ã€‚
- å£°æ˜æ²¡æœ‰å€¼çš„ç±»å‹ã€‚è¯­æ³•ï¼š`var [identifier] : [type-annotation]`;
- ä¸å¸¦ç±»å‹å£°æ˜å…¶å€¼ã€‚è¯­æ³•ï¼š`var [identifier] = value`;
- ä¸å¸¦å€¼å’Œç±»å‹çš„å£°æ˜ã€‚è¯­æ³•ï¼š`var [identifier]`;


## 13ã€Mixinæ˜¯ä»€ä¹ˆï¼Ÿè§£é‡Šå¦‚ä½•ä½¿ç”¨ TypeScript mixinã€‚
æ‰€è°“Mixinæ¨¡å¼ï¼Œå°±æ˜¯å¯¹è±¡ç»§æ‰¿çš„ä¸€ç§æ›¿ä»£æ–¹æ¡ˆï¼Œä¸­æ–‡è¯‘ä¸º`"æ··å…¥(mix in)"`ï¼Œæ„ä¸ºåœ¨ä¸€ä¸ªå¯¹è±¡ä¹‹ä¸­æ··å…¥å¦å¤–ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚
::: tip Typescript mixin
1. å¯¹è±¡æ··å…¥
  > å¯ä»¥ä½¿ç”¨es6çš„`Object.assign`åˆå¹¶å¤šä¸ªå¯¹è±¡ï¼›
  ```ts
  interface Name {
    name: string
  }
  interface Age {
    age: number
  }
  interface Sex {
    sex: number
  }
  let people1: Name = { name: "å°å‰‘" }
  let people2: Age = { age: 20 }
  let people3: Sex = { sex: 1 }
  const people = Object.assign(people1,people2,people3)
  ```
2. ç±»çš„æ··å…¥
  ```ts
  class A {
    type: boolean = false;
    changeType() {
      this.type = !this.type
    }
  }
  class B {
    name: string = 'å¼ ä¸‰';
    getName(): string {
      return this.name;
    }
  }
  ```
  ä¸‹é¢åˆ›å»ºä¸€ä¸ªç±»ï¼Œç»“åˆäº†è¿™ä¸¤ä¸ª`mixins`
  > æ³¨æ„: æ²¡ä½¿ç”¨`extends`è€Œæ˜¯ä½¿ç”¨`implements`ã€‚æŠŠç±»å½“æˆäº†æ¥å£
  ```ts
  class C implements A,B{
    type: boolean
    changeType: () => void;
    name: string;
    getName: () => string
  }
  ```
  æœ€åï¼Œåˆ›å»ºè¿™ä¸ªå¸®åŠ©å‡½æ•°ï¼Œå¸®æˆ‘ä»¬åšæ··å…¥æ“ä½œã€‚å®ƒä¼šéå†`mixins`ä¸Šçš„æ‰€æœ‰å±æ€§ï¼Œå¹¶å¤åˆ¶åˆ°ç›®æ ‡ä¸Šå»ï¼ŒæŠŠä¹‹å‰çš„å ä½å±æ€§æ›¿æ¢æˆçœŸæ­£çš„å®ç°ä»£ç `Object.getOwnPropertyNames()`å¯ä»¥è·å–å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œé™¤å»ä»–ç»§æ‰¿æ¥çš„å±æ€§ï¼Œå¯¹å®ƒæ‰€æœ‰çš„å±æ€§éå†ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œéå†ä¸€ä¸‹å®ƒæ‰€æœ‰çš„å±æ€§åã€‚
  ```ts
  Mixins(C, [A, B])
  function Mixins(curCls: any, itemCls: any[]) {
    itemCls.forEach(item => {
      Object.getOwnPropertyNames(item.prototype).forEach(name => {
        curCls.prototype[name] = item.prototype[name]
      })
    })
  }
  ```
:::


## 14ã€TypeScript ä¸­å¦‚ä½•æ£€æŸ¥ null å’Œ undefinedï¼Ÿ
- 1ã€ä½¿ç”¨Nullish Coalescingæ£€æŸ¥`null`å’Œ`undefined`
  > Nullish Coalescing(`??`)æ˜¯å¦ä¸€ç§è¯†åˆ«`null`å’Œ`undefined`å€¼çš„æ–¹æ³•ã€‚å½“ä¸`null`å’Œ`undefined`ç›¸å¯¹æ—¶ï¼Œå®ƒå°†è¿”å›é»˜è®¤å€¼ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œé›¶æˆ–ç©ºå­—ç¬¦ä¸²æ˜¯åº”è¯¥ä½¿ç”¨çš„å®é™…å€¼ï¼Œä½†æ˜¯å½“`||`è¢«ä½¿ç”¨ï¼Œå®ƒä¸ä¼šè¿”å›é‚£äº›å€¼ã€‚å› æ­¤ï¼Œä½¿ç”¨ Nullish Coalescing (`??`) è¿ç®—ç¬¦ï¼Œå¯ä»¥è¿”å›è¿™äº›å€¼ã€‚å› æ­¤`||`å¯ä»¥æ¢æˆ`??`å½“ä½¿ç”¨é»˜è®¤å€¼æ—¶ã€‚
  ```ts
  null ?? "Value"; // "Value"
  undefined ?? "Value"; // "Value"
  false ?? true; // false
  0 ?? 100; // 0
  "" ?? "n/a"; // ""
  NaN ?? 0; // NaN
  ```
- 2ã€ä½¿ç”¨`==`å’Œ`===`è¿ç®—ç¬¦æ£€æŸ¥`null`å’Œ`undefined`
  ```js
  var a: number;  
  var b: number = null;  
  function check(x, name) {  
    if (x == null) {  
      console.log(name + ' == null');  
    }  
    if (x === null) {  
      console.log(name + ' === null');  
    }  
    if (typeof x === 'undefined') {  
      console.log(name + ' is undefined');  
    }  
  }  
  check(a, 'a');  
  check(b, 'b');
  ```
  è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š
  ```js
  "a == null"
  "a is undefined"
  "b == null"
  "b === null"
  ```


## 15ã€TypeScript ä¸­çš„ getter/setter æ˜¯ä»€ä¹ˆï¼Ÿä½ å¦‚ä½•ä½¿ç”¨å®ƒä»¬ï¼Ÿ
`Getter`å’Œ`setter`æ˜¯ç‰¹æ®Šç±»å‹çš„æ–¹æ³•ï¼Œå­˜å–å™¨å¯ä»¥è®©æˆ‘ä»¬å¯ä»¥æœ‰æ•ˆçš„æ§åˆ¶å¯¹"å¯¹è±¡"ä¸­çš„ä¸­çš„æˆå‘˜çš„è®¿é—®ã€‚
> åœ¨è·å–å€¼çš„æ—¶å€™ä¼šæ‰§è¡Œ`get`ï¼Œåœ¨ä¿®æ”¹æˆ–è€…è¯´é‡æ–°è®¾ç½®å€¼çš„æ—¶å€™ä¼šæ‰§è¡Œ`set`
```ts
class Person{
  firstName: string //å§“æ°
  lastName: string  //åå­—
  constructor(firstName: string, lastName: string) {
    console.log('åœ¨å®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™, æ„é€ å™¨è¢«æ‰§è¡Œ')
    this.firstName = firstName
    this.lastName = lastName
  }
  // å¯¹æ•°æ®è¿›è¡Œè¯»å–
  get fullName() {
    console.log('getæ–¹æ³•è¢«æ‰§è¡Œäº†')
    return this.firstName+"-"+this.lastName
  }
  // å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹
  set fullName(str: string) {
    console.log('setæ–¹æ³•è¢«æ‰§è¡Œäº†')
    this.firstName = str.split('-')[0]
    this.lastName = str.split('-')[1]
  }
}

const per = new Person('å¼ ', 'æ— å¿Œ');
// ä¼šå»æ‰§è¡Œgetæ–¹æ³•,å› ä¸ºè·å–å€¼å—
console.log(per.fullName)
// ä¼šå»æ‰§è¡Œsetæ–¹æ³•ï¼›å› ä¸ºä½ ä¿®æ”¹äº†å€¼
per.fullName = 'æ-å››'
```


## 16ã€å¦‚ä½•å…è®¸æ¨¡å—å¤–èƒ½å¤Ÿè®¿é—®æ¨¡å—å†…å®šä¹‰çš„ç±»ï¼Ÿ
ä½ å¯ä»¥ä½¿ç”¨`export`å…³é”®å­—æ‰“å¼€æ¨¡å—ä»¥ä¾›åœ¨æ¨¡å—å¤–ä½¿ç”¨ã€‚
```ts
module Admin {
  export class Employee {
    constructor(name: string, email: string) { }
  }
  let alex = new Employee('alex', 'alex@gmail.com');
}
let nick = new Admin.Employee('nick', 'nick@yahoo.com');
```


## 17ã€å¦‚ä½•ä½¿ç”¨ Typescript å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼Ÿ
- 1ã€ä½¿ç”¨`parseInt`æˆ–`parseFloat`å‡½æ•°åˆ†åˆ«å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°æˆ–æµ®ç‚¹æ•°
  ```ts
  var x = '32'
  var y: number = parseInt(x)
  ```
- 2ã€è¿˜å¯ä»¥ä½¿ç”¨`ä¸€å…ƒè¿ç®—ç¬¦+`å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæœ€åˆé€‚çš„æ•°å­—ç±»å‹
  - `â€œ3â€`æˆä¸ºæ•´æ•°`3`
  - è€Œ`â€œ3.14â€`æˆä¸ºæµ®ç‚¹æ•°`3.14`
  ```ts
  var x = "32";
  var y: number = +x;
  ```


## 18ã€TypeScript å’Œ JavaScript æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
TypeScript åœ¨ä»¥ä¸‹æ–¹é¢ä¸ JavaScript ä¸åŒï¼š

| ç¼–å· | JavaScript | TypeScript |
| :---: | :-------: | :--------: |
| 1 | å®ƒç”± Netscape äº 1995 å¹´å¼€å‘ | å®ƒç”± Anders Hejlsberg äº 2012 å¹´å¼€å‘ |
| 2 | JavaScript æºæ–‡ä»¶çš„æ‰©å±•åä¸º`.js`ã€‚TypeScript æºæ–‡ä»¶çš„æ‰©å±•åä¸º`.ts` | TypeScript æ”¯æŒ ES6 |
| 3 | JavaScript ä¸æ”¯æŒ ES6 | TypeScript æ”¯æŒ ES6 |
| 4 | å®ƒä¸æ”¯æŒå¼ºç±»å‹æˆ–é™æ€ç±»å‹ | å®ƒæ”¯æŒå¼ºç±»å‹æˆ–é™æ€ç±»å‹åŠŸèƒ½ |
| 5 | å®ƒåªæ˜¯ä¸€ç§è„šæœ¬è¯­è¨€ | å®ƒæ”¯æŒé¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ¦‚å¿µï¼Œå¦‚ç±»ã€æ¥å£ã€ç»§æ‰¿ã€æ³›å‹ç­‰ |
| 6 | JavaScript æ²¡æœ‰å¯é€‰å‚æ•°åŠŸèƒ½ | TypeScript å…·æœ‰å¯é€‰å‚æ•°åŠŸèƒ½ |
| 7 | å®ƒæ˜¯è§£é‡Šæ€§è¯­è¨€ï¼Œè¿™å°±æ˜¯å®ƒåœ¨è¿è¡Œæ—¶çªå‡ºæ˜¾ç¤ºé”™è¯¯çš„åŸå›  | å®ƒåœ¨å¼€å‘æœŸé—´ç¼–è¯‘ä»£ç å¹¶çªå‡ºæ˜¾ç¤ºé”™è¯¯ |
| 8 | JavaScript ä¸æ”¯æŒæ¨¡å— | TypeScript æ”¯æŒæ¨¡å— |
| 9 | æ•°å­—ã€å­—ç¬¦ä¸²æ˜¯å¯¹è±¡ | æ•°å­—ã€å­—ç¬¦ä¸²æ˜¯æ¥å£ |
| 10 | JavaScript ä¸æ”¯æŒæ³›å‹ | TypeScript æ”¯æŒæ³›å‹ |



## 19ã€TypeScript ä¸­çš„ JSX æ˜¯ä»€ä¹ˆï¼Ÿå¯ä»¥åœ¨ TypeScript ä¸­ä½¿ç”¨ JSX å—ï¼Ÿ
JSXæ˜¯ä¸€ç§JavaScriptçš„è¯­æ³•æ‰©å±•ï¼Œå…¨ç§°`JavaScript XML`ï¼Œè¿ç”¨äºReactæ¶æ„ä¸­ï¼Œå…¶æ ¼å¼æ¯”è¾ƒåƒæ˜¯æ¨¡ç‰ˆè¯­è¨€ï¼Œä½†äº‹å®ä¸Šå®Œå…¨æ˜¯åœ¨JavaScriptå†…éƒ¨å®ç°çš„ã€‚

åœ¨typescriptä¸­ä½¿ç”¨JSXï¼Œå¿…é¡»åšä¸¤ä»¶äº‹:
- ä½¿ç”¨`.tsx`(æ›¿ä»£`.ts`)æ‰©å±•åå‘½åæ–‡ä»¶
- å¯ç”¨`jsx`é€‰é¡¹: `tsconfig.json`é…ç½®æ–‡ä»¶çš„`compilerOptions`é‡Œè®¾ç½®é€‰é¡¹`"jsx": "react"`


## 20ã€TypeScript æ”¯æŒå“ªäº› JSX æ¨¡å¼ï¼Ÿ
TypeScriptæœ‰å†…ç½®çš„æ”¯æŒ`preserve`ï¼Œ`react`å’Œ`react-native`ï¼Œä¸åŒçš„æ¨¡å¼ä¼šè¾“å‡ºä¸åŒçš„ç»“æœï¼Œå…·ä½“å¦‚ä¸‹ï¼š
- `preserve`ä¿æŒJSXå®Œæ•´ä»¥ç”¨äºåç»­è½¬æ¢ã€‚
  - è¾“å…¥ï¼š`<div />`
  - è¾“å‡ºï¼š`<div />`
  - è¾“å‡ºæ–‡ä»¶æ‰©å±•åï¼š`.jsx`
- `react`ä¸ç»è¿‡JSXè½¬æ¢ï¼Œè€Œæ˜¯`react.createElement`ä½œä¸º`.js`æ–‡ä»¶æ‰©å±•åå‘å‡ºå’Œè¾“å‡ºã€‚
  - è¾“å…¥ï¼š`<div />`
  - è¾“å‡ºï¼š`React.createElement("div")`
  - è¾“å‡ºæ–‡ä»¶æ‰©å±•åï¼š`.js`
- `react-native`ç»“åˆèµ·æ¥`preserve`ï¼Œ`react`å› ä¸ºå®ƒç»´æŠ¤æ‰€æœ‰JSXå’Œè¾“å‡ºä½œä¸º`.js`æ‰©å±•ã€‚
  - è¾“å…¥ï¼š`<div />`
  - è¾“å‡ºï¼š`<div />`
  - è¾“å‡ºæ–‡ä»¶æ‰©å±•åï¼š`.js`


## 21ã€å¦‚ä½•ç¼–è¯‘ TypeScript æ–‡ä»¶ï¼Ÿ
ä½ éœ€è¦è°ƒç”¨TypeScriptç¼–è¯‘å™¨`tsc`æ¥ç¼–è¯‘æ–‡ä»¶ã€‚ä½ éœ€è¦å®‰è£…TypeScriptç¼–è¯‘å™¨ï¼Œå¯ä»¥ä½¿ç”¨`npm`å®‰è£…
```sh
npm install -g typescript
tsc hello.ts
```


## 22ã€TypeScript ä¸­æœ‰å“ªäº›ä½œç”¨åŸŸå¯ç”¨ï¼Ÿè¿™ä¸JSç›¸æ¯”å¦‚ä½•ï¼Ÿ
- å…¨å±€ä½œç”¨åŸŸï¼šåœ¨ä»»ä½•ç±»ä¹‹å¤–å®šä¹‰ï¼Œå¯ä»¥åœ¨ç¨‹åºä¸­çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨ã€‚
- å‡½æ•°/ç±»èŒƒå›´ï¼šåœ¨å‡½æ•°æˆ–ç±»ä¸­å®šä¹‰çš„å˜é‡å¯ä»¥åœ¨è¯¥èŒƒå›´å†…çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨ã€‚
- å±€éƒ¨ä½œç”¨åŸŸ/ä»£ç å—ï¼šåœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­å®šä¹‰çš„å˜é‡å¯ä»¥åœ¨è¯¥å—ä¸­çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨ã€‚


## 23ã€TypeScript ä¸­çš„ç®­å¤´/lambda å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿ
ES6ç‰ˆæœ¬çš„TypeScriptæä¾›äº†ç”¨äºå®šä¹‰åŒ¿åå‡½æ•°çš„ç®€å†™è¯­æ³•ï¼Œå³å‡½æ•°è¡¨è¾¾å¼ã€‚è¿™äº›ç®­å¤´å‡½æ•°ä¹Ÿç§°ä¸º**Lambdaå‡½æ•°**ã€‚**lambdaå‡½æ•°æ˜¯æ²¡æœ‰åç§°çš„å‡½æ•°**ã€‚ç®­å¤´å‡½æ•°çœç•¥äº† `function` å…³é”®å­—ã€‚
```js
let sum = (a: number, b: number): number => {    
  return a + b;    
}    
console.log(sum(20, 30)); //returns 50
```
åœ¨ä¸Šé¢ï¼Œ`?=>?` æ˜¯ä¸€ä¸ª lambda è¿ç®—ç¬¦ï¼Œ `(a + b)` æ˜¯å‡½æ•°ä½“ï¼Œ `(a: number, b: number)`æ˜¯å†…è”å‚æ•°ã€‚


## 24ã€è§£é‡Šrestå‚æ•°å’Œå£°æ˜restå‚æ•°çš„è§„åˆ™ã€‚
ES6 å¼•å…¥`restå‚æ•°`(å½¢å¼ä¸º`...å˜é‡å`)ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨`arguments`å¯¹è±¡äº†ã€‚`restå‚æ•°`æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚

restå‚æ•°è¦éµå¾ªçš„è§„åˆ™ï¼š
- ä¸€ä¸ªå‡½æ•°ä¸­åªå…è®¸æœ‰ä¸€ä¸ªå‰©ä½™å‚æ•°ã€‚
- å®ƒå¿…é¡»æ˜¯æ•°ç»„ç±»å‹ã€‚
- å®ƒå¿…é¡»æ˜¯å‚æ•°åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå‚æ•°ã€‚
```ts
function sum(a: number, ...b: number[]) {
  console.log(b);
}
let result1 = sum(3, 5); // [5] 
let result2 = sum(3, 5, 7, 9); // [5, 7, 9]

// argumentsæ¼”ç¤º
function add () {
  console.log(arguments)
}
add(1, 2, 3) // [1, 2, 3]
```
æ³¨æ„: **`rest`å‚æ•°å¿…é¡»æ˜¯å‚æ•°å®šä¹‰çš„æœ€åä¸€ä¸ªï¼Œå¹¶ä¸”æ¯ä¸ªå‡½æ•°åªèƒ½æœ‰ä¸€ä¸ª`rest`å‚æ•°**ã€‚


## 25ã€ä»€ä¹ˆæ˜¯ä¸‰æ–œçº¿æŒ‡ä»¤ï¼Ÿæœ‰å“ªäº›ä¸‰æ–œæ æŒ‡ä»¤ï¼Ÿ
ä¸‰æ–œçº¿æŒ‡ä»¤æ˜¯å•è¡Œæ³¨é‡Šï¼ŒåŒ…å«ç”¨ä½œç¼–è¯‘å™¨æŒ‡ä»¤çš„ XML æ ‡è®°ã€‚æ¯ä¸ªæŒ‡ä»¤éƒ½è¡¨ç¤ºåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­è¦åŠ è½½çš„å†…å®¹ã€‚ä¸‰æ–œæ æŒ‡ä»¤ä»…åœ¨å…¶æ–‡ä»¶çš„é¡¶éƒ¨å·¥ä½œï¼Œå¹¶ä¸”å°†è¢«è§†ä¸ºæ–‡ä»¶ä¸­å…¶ä»–ä»»ä½•åœ°æ–¹çš„æ™®é€šæ³¨é‡Šã€‚
- `/// <reference path="..." />` æ˜¯æœ€å¸¸è§çš„æŒ‡ä»¤ï¼Œå®šä¹‰æ–‡ä»¶ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚
- `/// <reference types="..." />`ç±»ä¼¼äºpathä½†å®šä¹‰äº†åŒ…çš„ä¾èµ–é¡¹ã€‚
- `/// <reference lib="..." />`å…è®¸æ‚¨æ˜¾å¼åŒ…å«å†…ç½®libæ–‡ä»¶ã€‚


## 26ã€Omitã€Pickã€Partialç±»å‹æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ
::: tip Omit
`Omit`æ˜¯TypeScript3.5æ–°å¢çš„ä¸€ä¸ªè¾…åŠ©ç±»å‹ã€‚
> ä½œç”¨: ä»¥ä¸€ä¸ªç±»å‹ä¸ºåŸºç¡€æ”¯æŒ**å‰”é™¤**æŸäº›å±æ€§ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°ç±»å‹ã€‚
```ts
type Todo = {
  title: string;
  description: string;
  completed: boolean;
  createdAt: number;
}
type newTodo = Omit<Todo, 'title' | 'description'>;
```
åº”ç”¨äº`interface`æ¥å£
```ts
interface Todo {
  title: string;
  description: string;
  completed: boolean;
  createdAt: number;
}
type newTodo = Omit<Todo, "description">;
```
æˆ‘ä»¬ä½¿ç”¨è¿”å›çš„æ–°ç±»å‹åˆ›å»ºä¸€ä¸ªå˜é‡
```ts
const todo: newTodo = {
  title: 'ä»£åŠ1',
  completed: false,
  createdAt: Date.now()
}
console.log(todo.description)
```
ä¼šå‘ç°ï¼Œæˆ‘ä»¬åœ¨è®¿é—®`todo.description`æ—¶ç¼–è¯‘å™¨ä¼šæŠ¥é”™: `ç±»å‹â€œnewTodoâ€ä¸Šä¸å­˜åœ¨å±æ€§â€œdescriptionâ€`ã€‚
æ³¨æ„: `Omit`çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿæ¥å—é”®çš„å¹¶é›†ã€‚
```ts
type newTodo = Omit<Todo, 'description' | 'completed' | ...>;
```
:::

::: tip Pick
`Pick`ä¹Ÿæ˜¯TypeScriptçš„ä¸€ä¸ªè¾…åŠ©ç±»å‹ã€‚åªèƒ½ç”¨æ¥ç”Ÿæˆ`ç±»å‹`è€Œä¸æ˜¯`æ¥å£`ã€‚
> ä½œç”¨: ä»¥ä¸€ä¸ªç±»å‹ä¸ºåŸºç¡€æ”¯æŒ**æŒ‘é€‰**ä¸€äº›å±æ€§ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°ç±»å‹ï¼Œä¸`Omit`æ°å¥½ç›¸åã€‚
```ts
type Todo = {
  title: string;
  description: string;
  completed: boolean;
  createdAt: number;
}
type newTodo = Pick<Todo, 'title' | 'description'>;
```
ä¸`Omit`ä¸€æ ·ï¼Œåº”ç”¨äº`interface`æ¥å£
```ts
interface Todo {
  title: string;
  description: string;
  completed: boolean;
  createdAt: number;
}
type newTodo = Pick<Todo, 'title' | 'description'>;
```
æˆ‘ä»¬ä½¿ç”¨è¿”å›çš„æ–°ç±»å‹åˆ›å»ºä¸€ä¸ªå˜é‡
```ts
const todo: newTodo = {
  title: 'ä»£åŠ1',
  description: 'ä»£åŠ1çš„æè¿°'
}
console.log(todo.createdAt)
```
ä¼šå‘ç°ï¼Œæˆ‘ä»¬åœ¨è®¿é—®`todo.createdAt`æ—¶ç¼–è¯‘å™¨ä¼šæŠ¥é”™: `ç±»å‹â€œnewTodoâ€ä¸Šä¸å­˜åœ¨å±æ€§â€œcreatedAtâ€`ã€‚
```ts
interface newTodo = Pick<Todo, 'title' | 'description'>;
```
ä¸Šé¢çš„ä»£ç ä¼šæŠ¥é”™: `â€œPickâ€ä»…è¡¨ç¤ºç±»å‹ï¼Œä½†åœ¨æ­¤å¤„å´ä½œä¸ºå€¼ä½¿ç”¨`ï¼Œå³`Pick`åªèƒ½ç”¨æ¥å®šä¹‰ç±»å‹è€Œä¸æ˜¯æ¥å£ã€‚
:::

::: tip Partial
`Partial`ä¹Ÿæ˜¯TypeScriptçš„ä¸€ä¸ªè¾…åŠ©ç±»å‹ã€‚
> ä½œç”¨: å°†è¿”å›ç±»å‹çš„æ‰€æœ‰å±æ€§è®¾ç½®ä¸ºå¯é€‰çš„ã€‚
```ts
type Todo = {
  title: string;
  description: string;
  completed: boolean;
  createdAt: number;
}
type newTodo = Partial<Todo>;
```
åº”ç”¨äº`interface`
```ts
interface Todo {
  title: string;
  description: string;
  completed: boolean;
  createdAt: number;
}
type newTodo = Partial<Todo>;
```
æˆ‘ä»¬ä½¿ç”¨è¿”å›çš„æ–°ç±»å‹åˆ›å»ºä¸€ä¸ªå˜é‡
```ts
const todo: newTodo = {
  title: '123'
}
```
å¯ä»¥å‘ç°ä¸Šé¢çš„æ‰€æœ‰çš„å±æ€§éƒ½æ˜¯å¯é€‰çš„ï¼Œä»ä¸‹å›¾å¯ä»¥çœ‹å‡º
![202303191448552.png](http://img.itchenliang.club/img/202303191448552.png)
:::


## 27ã€TypeScriptä¸­å¦‚ä½•å®ç°å‡½æ•°é‡è½½ï¼Ÿ
è¦åœ¨ TypeScript ä¸­é‡è½½å‡½æ•°ï¼Œåªéœ€åˆ›å»ºä¸¤ä¸ªå‡½æ•°åç§°ç›¸åŒã€å‚æ•°æ•°é‡ç›¸åŒä½†ç±»å‹ä¸åŒã€è¿”å›å€¼ç±»å‹ä¸åŒçš„å‡½æ•°ã€‚è¿™æ˜¯ TypeScript ä¸­å¤šæ€æ€§çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚

ä¾‹å¦‚ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªaddå‡½æ•°ï¼Œå¦‚æœå®ƒä»¬æ˜¯æ•°å­—ï¼Œåˆ™å°†ä¸¤ä¸ªå‚æ•°ç›¸åŠ ï¼Œå¦‚æœå®ƒä»¬æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™å°†å®ƒä»¬è¿æ¥èµ·æ¥ã€‚
```ts
function add(a:string, b:string):string;
function add(a:number, b:number): number;
function add(a: any, b:any): any {
  return a + b;
}
add("Hello ", "Steve"); // returns "Hello Steve" 
add(10, 20); // returns 30
```


## 28ã€å¦‚ä½•è®©æ¥å£çš„æ‰€æœ‰å±æ€§éƒ½å¯é€‰ï¼Ÿ
ä½¿ç”¨`Partial`å®ç”¨ç¨‹åºç±»å‹ä½¿ä¸€ä¸ªç±»ä¸­çš„æ‰€æœ‰å±æ€§éƒ½æ˜¯å¯é€‰çš„ï¼Œä¾‹å¦‚`const emp: Partial<Employee> = {};`ã€‚ `Partial`å®ç”¨ç¨‹åºç±»å‹æ„é€ ä¸€ä¸ªæ–°ç±»å‹ï¼Œå…¶ä¸­æä¾›çš„ç±»å‹çš„æ‰€æœ‰å±æ€§éƒ½è®¾ç½®ä¸ºå¯é€‰ã€‚
```ts
interface Employee {
  id: number;
  name: string;
  salary: number;
}

const emp: Partial<Employee> = {};
emp.name = 'James';
```
ä½¿ç”¨`Partial`å®ç”¨ç¨‹åºç±»å‹æ¥æ„é€ ä¸€ä¸ªæ–°ç±»å‹ï¼Œå…¶ä¸­æä¾›çš„ç±»å‹çš„æ‰€æœ‰å±æ€§éƒ½è®¾ç½®ä¸ºå¯é€‰ã€‚
```ts
const obj = {
  id: 1,
  name: 'James',
  salary: 100,
};

// type T = {
//     id?: number | undefined;
//     name?: string | undefined;
//     salary?: number | undefined;
// }
type T = Partial<typeof obj>;
```
**æ³¨æ„**: æˆ‘ä»¬å¿…é¡»ä½¿ç”¨`typeof`ç±»å‹è¿ç®—ç¬¦ï¼Œå› ä¸º`Partial`éœ€è¦ä¸€ä¸ªç±»å‹ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ TypeScript çš„ Github å­˜å‚¨åº“ä¸­çœ‹åˆ°å†…ç½®çš„`Partial`ç±»å‹æ˜¯å¦‚ä½•å®ç°çš„ã€‚
```ts
/**
 * Make all properties in T optional
 */
type Partial<T> = {
    [P in keyof T]?: T[P];
};
```
`?: `è¯­æ³•ç§°ä¸ºæ˜ å°„ä¿®é¥°ç¬¦ï¼Œç”¨äºå½±å“å¯é€‰æ€§ã€‚æˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°`+?:`æ­£åœ¨ä½¿ç”¨ï¼Œå®ƒè¾¾åˆ°äº†ç›¸åŒçš„ç»“æœã€‚ å¦‚æœä¸æ·»åŠ å‰ç¼€ï¼Œåˆ™å‡å®šä¸º`+`ã€‚
::: tip æç¤º
å®ç”¨ç¨‹åºç±»å‹åŸºæœ¬ä¸Šé‡‡ç”¨æ‰€æä¾›ç±»å‹çš„æ‰€æœ‰å±æ€§å¹¶å°†å®ƒä»¬æ ‡è®°ä¸ºå¯é€‰ã€‚
:::
æ˜ å°„ä¿®é¥°ç¬¦å¯ä»¥ä»¥ä¸¤ç§æ–¹å¼å½±å“å¯é€‰æ€§ï¼Œä¾‹å¦‚ æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥åˆ¶ä½œæ¥å£æ‰€éœ€çš„æ‰€æœ‰å±æ€§ï¼Œæ–¹æ³•æ˜¯åœ¨`?:`å‰åŠ ä¸Šå‡å·`-?:`ã€‚
::: tip æç¤º
å¦‚æœæˆ‘ä»¬ä¸æ·»åŠ å‰ç¼€ï¼Œåˆ™å‡å®šä¸º`+`ï¼Œå°±åƒåœ¨`Partial`å®ç”¨ç¨‹åºç±»å‹ä¸­ä¸€æ ·ã€‚
:::
```ts
/**
 * Make all properties in T required
 */
type Required<T> = {
  [P in keyof T]-?: T[P];
};
```
è¿™æ˜¯`Required`å®ç”¨ç¨‹åºç±»å‹çš„ä»£ç ï¼Œå®ƒä½¿å¾—æ‰€æä¾›ç±»å‹çš„æ‰€æœ‰å±æ€§éƒ½æ˜¯å¿…éœ€çš„ã€‚
> è¯·æ³¨æ„ï¼Œå”¯ä¸€æ›´æ”¹çš„å­—ç¬¦æ˜¯é—®å·å‰é¢çš„å‡å·ï¼Œä»¥ä½¿ç”¨åˆ é™¤å¯é€‰æ€§çš„æ˜ å°„ä¿®é¥°ç¬¦ã€‚


## 29ã€ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨å…³é”®å­—unknownï¼Ÿ
`unknown`æ˜¯ä¸€ç§ç±»ä¼¼äº`any`çš„ç‰¹æ®Šç±»å‹ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š
```ts
let x: unknown;
```
**æ¨èä½¿ç”¨`unknown`è€Œä¸æ˜¯`any`ï¼Œå› ä¸ºå®ƒæä¾›äº†æ›´å®‰å…¨çš„ç±»å‹--å¦‚æœæƒ³å¯¹`unknown`è¿›è¡Œæ“ä½œï¼Œå¿…é¡»ä½¿ç”¨ç±»å‹æ–­è¨€æˆ–ç¼©å°åˆ°ä¸€ä¸ªç‰¹å®šçš„ç±»å‹ã€‚**

### unknownå’Œanyçš„åŒºåˆ«
æˆ‘ä»¬çŸ¥é“`any`ç±»å‹çš„å˜é‡å¯ä»¥è¢«èµ‹ç»™ä»»ä½•å€¼ã€‚
```ts
let myVar: any = 0;
myVar = '1';
myVar = false;
```
æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸º`unknown`ç±»å‹å˜é‡åˆ†é…ä»»ä½•å€¼ï¼š
```ts
let myVar: unknown = 0;
myVar = '1';
myVar = false;
```
ä»ä¸Šé¢ä¾‹å­è¿˜æ— æ³•çœ‹å‡ºä¸¤è€…çš„åŒºåˆ«ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹å¦å¤–çš„ä¾‹å­ã€‚

ä¸ºäº†æ›´å¥½åœ°ç†è§£`unknown`å’Œ`any`ä¹‹é—´çš„åŒºåˆ«ï¼Œæˆ‘ä»¬å…ˆä»ç¼–å†™ä¸€ä¸ªæƒ³è¦è°ƒç”¨å…¶å”¯ä¸€å‚æ•°çš„å‡½æ•°å¼€å§‹ã€‚
- anyç±»å‹
  ```ts
  function demo (callback: any) {
    callback() // Uncaught (in promise) TypeError: callback is not a function
  }
  demo(1)
  ```
  ä¸Šé¢ä»£ç ä¸­`callback`å‚æ•°æ˜¯ä»»ä½•ç±»å‹çš„ï¼Œæ‰€ä»¥è¯­å¥`callback()`ä¸ä¼šè§¦å‘ç±»å‹é”™è¯¯ã€‚æˆ‘ä»¬å¯ä»¥ç”¨`any`ç±»å‹çš„å˜é‡åšä»»ä½•äº‹æƒ…ã€‚ä½†æ˜¯è¿è¡Œä¼šæŠ›å‡ºä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯:`TypeError: callback is not a function`ã€‚`1`æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œä¸èƒ½ä½œä¸ºå‡½æ•°è°ƒç”¨ï¼ŒTypeScriptå¹¶æ²¡æœ‰ä¿æŠ¤ä»£ç é¿å…è¿™ä¸ªé”™è¯¯ã€‚
  > æ—¢å…è®¸`demo()`å‡½æ•°æ¥å—ä»»ä½•ç±»å‹çš„å‚æ•°ï¼Œåˆè¦å¼ºåˆ¶å¯¹è¯¥å‚æ•°è¿›è¡Œç±»å‹æ£€æŸ¥é˜²æ­¢ä¸Šé¢è¿™ç§æŠ¥é”™ï¼Œæ¥ä¸‹æ¥çœ‹`unknown`ç±»å‹ã€‚
- unknownç±»å‹
  ```ts
  function demo (callback: unknown) {
    callback()
  }
  demo(1)
  ```
  æ­¤æ—¶å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„ç¼–è¯‘å™¨åœ¨æŠ¥é”™ï¼Œæç¤º`æ­¤è¡¨è¾¾å¼ä¸å¯è°ƒç”¨ã€‚ç±»å‹ "{}" æ²¡æœ‰è°ƒç”¨ç­¾åã€‚`ï¼Œä¸`any`ç›¸åï¼Œå¯¹äº`unknown`ç±»å‹ï¼ŒTypeScriptä¼šä¿æŠ¤æˆ‘ä»¬ä¸è°ƒç”¨å¯èƒ½ä¸æ˜¯å‡½æ•°çš„ä¸œè¥¿ã€‚ä½†æ˜¯è¿˜æ˜¯ä¼šæŠ¥é”™ï¼Œå¦‚ä½•è§£å†³å‘¢ï¼Ÿ
  - åœ¨ä½¿ç”¨ä¸€ä¸ª`unknown`ç±»å‹çš„å˜é‡ä¹‹å‰ï¼Œä½ éœ€è¦è¿›è¡Œç±»å‹æ£€æŸ¥: æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ£€æŸ¥`callback`æ˜¯å¦æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹å³å¯ã€‚
    ```ts
    function demo (callback: unknown) {
      if (typeof callback === 'function') {
        callback()
      }
    }
    demo(1)
    ```

### unknownå’Œanyçš„å¿ƒæ™ºæ¨¡å¼
ç†è§£ä¸¤è€…åŒºåˆ«çš„è§„åˆ™:
- å¯ä»¥å°†ä»»ä½•ä¸œè¥¿èµ‹ç»™`unknown`ç±»å‹ï¼Œä½†åœ¨è¿›è¡Œç±»å‹æ£€æŸ¥æˆ–ç±»å‹æ–­è¨€ä¹‹å‰ï¼Œä¸èƒ½å¯¹`unknown`è¿›è¡Œæ“ä½œ
- å¯ä»¥æŠŠä»»ä½•ä¸œè¥¿åˆ†é…ç»™`any`ç±»å‹ï¼Œä¹Ÿå¯ä»¥å¯¹`any`ç±»å‹è¿›è¡Œä»»ä½•æ“ä½œ
  - `unknown`ç¤ºä¾‹ï¼š
    ```ts
    function demo(callback: unknown) {
      // å¯ä»¥å°†ä»»ä½•ä¸œè¥¿èµ‹ç»™ `unknown` ç±»å‹ï¼Œ
      // ä½†åœ¨è¿›è¡Œç±»å‹æ£€æŸ¥æˆ–ç±»å‹æ–­è¨€ä¹‹å‰ï¼Œä¸èƒ½å¯¹ `unknown` è¿›è¡Œæ“ä½œ
      if (typeof callback === 'function') {
        callback();
      }
    }
    demo(1); // You can assign anything to `unknown` type
    ```
    ç±»å‹æ£€æŸ¥`typeof callback === 'function'`ï¼Œæ£€æŸ¥`callback`æ˜¯å¦ä¸ºå‡½æ•°ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å¯ä»¥è°ƒç”¨ã€‚
  - `any`ç¤ºä¾‹ï¼š
    ```ts
    function demo(callback: any) {
      // å¯ä»¥å¯¹ `any` ç±»å‹æ‰§è¡Œä»»ä½•æ“ä½œ
      callback();
    }
    demo(1); // å¯ä»¥æŠŠä»»ä½•ä¸œè¥¿åˆ†é…ç»™`any`ç±»å‹
    ```
    å¦‚æœ`callback`æ˜¯`any`, TypeScriptå°±ä¸ä¼šå¼ºåˆ¶`callback()`è¯­å¥è¿›è¡Œä»»ä½•ç±»å‹æ£€æŸ¥ã€‚

å¯¹äºTypescriptå¯¹`unknown`ç±»å‹çš„é˜²å¾¡æ€§ï¼Œä½†æˆ‘ä»¬è¦å¯¹æœªçŸ¥ç±»å‹æ‰§è¡ŒæŸäº›æ“ä½œæ—¶å¦‚ä½•å¤„ç†:
- **æ–¹æ³•ä¸€:ä½¿ç”¨ç±»å‹æ–­è¨€ç¼©å°æœªçŸ¥èŒƒå›´**
  ```ts
  let notSure:unknown = "sisterAn"
  console.log((notSure as string).toLowerCase());
  ```
- **ä½¿ç”¨ç±»å‹å®ˆå«è¿›è¡Œç±»å‹æ”¶ç¼©**
  ```ts
  let notSure:unknown = "sisterAn"
  if(typeof notSure === "string"){
    console.log((notSure as string).toLowerCase());
  }
  ```


## 30ã€ä»€ä¹ˆæ˜¯è£…é¥°å™¨ï¼Œå®ƒä»¬å¯ä»¥åº”ç”¨äºä»€ä¹ˆï¼Ÿ
åœ¨TypeScriptä¸­ï¼Œè£…é¥°å™¨ï¼ˆDecoratorsï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„å£°æ˜ï¼Œå®ƒå¯ä»¥ç”¨æ¥ä¸ºç±»ã€æ–¹æ³•ã€å±æ€§æˆ–å‚æ•°ç­‰æ·»åŠ å…ƒæ•°æ®å¹¶ä¿®æ”¹å®ƒä»¬çš„è¡Œä¸ºã€‚
> è£…é¥°å™¨é€šè¿‡`@`ç¬¦å·åè·Ÿä¸€ä¸ªå‡½æ•°æ¥å®šä¹‰ï¼Œå¹¶å¯ä»¥è¢«åº”ç”¨äºç±»ã€æ–¹æ³•ã€å±æ€§æˆ–å‚æ•°ç­‰ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„è£…é¥°å™¨ç¤ºä¾‹ï¼š
```ts
function log(target: any, key: string, descriptor: PropertyDescriptor) {
  // åœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—
  console.log(`Calling "${key}" method`);
  // è¿”å›ä¿®æ”¹åçš„PropertyDescriptorå¯¹è±¡
  return descriptor;
}

class MyClass {
  @log
  greet(name: string) {
    console.log(`Hello, ${name}!`);
  }
}

let obj = new MyClass();
obj.greet("John");  // è¾“å‡ºï¼š"Calling "greet" method" å’Œ "Hello, John!"
```
åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªè£…é¥°å™¨å‡½æ•°`log`ï¼Œå®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼šç›®æ ‡å¯¹è±¡ã€å±æ€§åç§°å’Œå±æ€§æè¿°ç¬¦ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†è¯¥è£…é¥°å™¨åº”ç”¨äº`MyClass`ç±»ä¸­çš„`greet`æ–¹æ³•ä¸Šã€‚å½“æˆ‘ä»¬è°ƒç”¨`obj.greet`æ—¶ï¼Œè£…é¥°å™¨å‡½æ•°å°†è‡ªåŠ¨æ‰§è¡Œï¼Œå¹¶åœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—ï¼ŒåŒæ—¶ä»ç„¶æŒ‰é¢„æœŸæ‰§è¡Œ`greet`æ–¹æ³•ã€‚

é™¤äº†è‡ªå®šä¹‰è£…é¥°å™¨ä¹‹å¤–ï¼ŒTypeScriptè¿˜æä¾›äº†è®¸å¤šå†…ç½®çš„è£…é¥°å™¨ï¼Œä¾‹å¦‚`@deprecated`ã€`@sealed`å’Œ`@observable`ç­‰ï¼Œå¯ç”¨äºæ ‡è®°å’Œä¿®æ”¹ç±»ä¸­çš„å„ç§å±æ€§å’Œæ–¹æ³•ã€‚


## 31ã€å¦‚ä½•å°†å¤šä¸ªtsæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªjsæ–‡ä»¶
```ts
// file1.ts
function file1 () {
  console.log('file1')
}
// file2.ts
function file2 () {
  console.log('file2')
}
```
```shell
tsc --outFile merge.js file1.ts file2.ts
```
è¿™æ ·å°±å°†ä¸‰ä¸ªtsæ–‡ä»¶åˆå¹¶åˆ°`merge.js`æ–‡ä»¶ä¸­ï¼Œ`merge.js`æ–‡ä»¶å†…å®¹å¦‚ä¸‹
```js
function file1() {
  console.log('file1');
}
function file2() {
  console.log('file2');
}
```

**ç‰¹æ®Šæƒ…å†µ**
> é¦–å…ˆæˆ‘ä»¬åœ¨ä¸Šé¢ç¤ºä¾‹çš„åŸºç¡€ä¸Šæ–°å»º`file3.ts`ï¼Œå…¶å†…å®¹å¦‚ä¸‹
```ts
function file3() {
  console.log('file3');
}
```
ç„¶åä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤
```shell
tsc --outFile file3.ts file1.ts file1.ts
```
æœ€ç»ˆå¾—åˆ°çš„ç»“æœæ˜¯ï¼Œ`file2.ts`å’Œ`file3.ts`ä¼šè¢«ç¼–è¯‘ï¼Œå¹¶ä¸”è¾“å‡ºä¼šæ”¾åœ¨`file3.ts`ä¸­ã€‚
> æ‰€ä»¥ç°åœ¨çš„ `file3.ts` åŒ…å« JavaScript ä»£ç ã€‚
```js
function file1() {
  console.log('file1');
}
function file2() {
  console.log('file2');
}
```


## 32ã€å¦‚ä½•è‡ªåŠ¨ç¼–è¯‘tsæ–‡ä»¶ï¼Œå¹¶ä¸”è‡ªåŠ¨ä¿®æ”¹tsæ–‡ä»¶
å¯ä»¥é€šè¿‡ `.ts` æ–‡ä»¶ä¸­çš„å®æ—¶æ›´æ”¹è‡ªåŠ¨ç¼–è¯‘`.ts`ã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨ `--watch` ç¼–è¯‘å™¨é€‰é¡¹æ¥å®ç°ã€‚
```shell
tsc --watch file1.ts
```
ä¸Šé¢çš„å‘½ä»¤é¦–å…ˆç¼–è¯‘ `file1.js` ä¸­çš„ `file1.ts` å¹¶è§‚å¯Ÿæ–‡ä»¶çš„å˜åŒ–ã€‚å¦‚æœæ£€æµ‹åˆ°ä»»ä½•æ›´æ”¹ï¼Œå®ƒå°†å†æ¬¡ç¼–è¯‘è¯¥æ–‡ä»¶ã€‚åœ¨è¿™é‡Œï¼Œéœ€è¦ç¡®ä¿åœ¨ä½¿ç”¨ `--watch` é€‰é¡¹è¿è¡Œæ—¶ä¸èƒ½å…³é—­å‘½ä»¤æç¤ºç¬¦ã€‚


## 33ã€TypeScriptæ”¯æŒå“ªäº›é¢å‘å¯¹è±¡çš„æœ¯è¯­
TypeScript æ”¯æŒä»¥ä¸‹é¢å‘å¯¹è±¡çš„æœ¯è¯­ï¼š
- æ¨¡å—
- ç±»
- æ¥å£
- ç»§æ‰¿
- æ•°æ®ç±»å‹
- æˆå‘˜å‡½æ•°


## 34ã€TypeScriptä¸­çš„æ³›å‹
åœ¨TypeScriptä¸­ï¼Œæ³›å‹ï¼ˆGenericsï¼‰æ˜¯ä¸€ç§å°†ç±»å‹å‚æ•°åŒ–ä»¥åœ¨å¤šä¸ªåœ°æ–¹é‡å¤ä½¿ç”¨çš„æ–¹å¼ã€‚

ä½¿ç”¨æ³›å‹å¯ä»¥å†™å‡ºæ›´çµæ´»ã€å¯é‡ç”¨çš„ä»£ç ï¼Œå¹¶ä¸”å¯ä»¥å¢åŠ ç±»å‹å®‰å…¨æ€§ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„æ³›å‹å‡½æ•°ç¤ºä¾‹ï¼š
```ts
function identity<T>(arg: T): T {
  return arg;
}
let output1 = identity<string>("hello");  // ç±»å‹æ¨æ–­ä¸º string
let output2 = identity<number>(42);       // ç±»å‹æ¨æ–­ä¸º number
```
åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ`identity`å‡½æ•°æ¥å—ä¸€ä¸ªç±»å‹å‚æ•°`T`å¹¶è¿”å›è¯¥ç±»å‹çš„å€¼ã€‚é€šè¿‡ä½¿ç”¨`<T>`è¯­æ³•æ¥æŒ‡å®šæ³›å‹ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸åŒçš„è°ƒç”¨ä¸­ä¼ é€’ä¸åŒçš„ç±»å‹ï¼Œå¹¶è®©TypeScriptè¿›è¡Œç±»å‹æ¨æ–­ã€‚

**æ³¨æ„**: é™¤äº†å‡½æ•°ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ³›å‹ç±»å’Œæ³›å‹æ¥å£ï¼Œå®ƒä»¬å…·æœ‰ä¸æ³›å‹å‡½æ•°ç›¸ä¼¼çš„è¯­æ³•å’Œç›®çš„ï¼Œä½¿æ‚¨å¯ä»¥ç¼–å†™é€šç”¨çš„ä»£ç ï¼ŒåŒæ—¶ä¿æŒç±»å‹å®‰å…¨å’Œçµæ´»æ€§ã€‚


## 35ã€TypeScriptä¸­constå’Œreadonlyçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿæšä¸¾å’Œå¸¸é‡çš„åŒºåˆ«ï¼Ÿ
åœ¨TypeScriptä¸­ï¼Œ`const`å’Œ`readonly`éƒ½ç”¨äºåˆ›å»ºä¸å¯å˜çš„å˜é‡æˆ–å±æ€§ï¼Œä½†å®ƒä»¬æœ‰ç€ä¸åŒçš„ä½œç”¨å’Œä½¿ç”¨åœºæ™¯ã€‚
::: tip `const`å’Œ`readonly`çš„åŒºåˆ«
- `const`ç”¨äºå®šä¹‰å¸¸é‡ï¼Œå¸¸é‡çš„å€¼åœ¨ç¼–è¯‘æ—¶å°±å¿…é¡»å·²çŸ¥ï¼Œå¹¶ä¸”ä¸èƒ½è¢«é‡æ–°èµ‹å€¼ã€‚
- `readonly`ç”¨äºå®šä¹‰åªè¯»å±æ€§æˆ–å˜é‡ï¼Œåªèƒ½åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ï¼Œå¹¶ä¸”ä¸èƒ½è¢«é‡æ–°èµ‹å€¼ã€‚
```ts
const PI = 3.14;
PI = 3; // Error: Cannot assign to 'PI' because it is a constant.

class MyClass {
  readonly name: string;

  constructor(name: string) {
    this.name = name;
  }

  setName(name: string) {
    this.name = name;  // Error: Cannot assign to 'name' because it is a read-only property.
  }
}
```
:::
::: tip æšä¸¾å’Œå¸¸é‡çš„åŒºåˆ«
- `æšä¸¾`æ˜¯ä¸€ç»„å…·æœ‰å‘½åå€¼çš„ç›¸å…³å¸¸é‡çš„é›†åˆï¼Œä¸å¸¸é‡ä¸åŒï¼Œæšä¸¾æˆå‘˜å¯ä»¥åŒ…å«å…¶ä»–å€¼ï¼ˆä¾‹å¦‚å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼‰ã€‚
- `å¸¸é‡`æ˜¯æŒ‡åœ¨ç¼–è¯‘æ—¶å·²çŸ¥å¹¶ä¸”ä¸ä¼šæ”¹å˜çš„å€¼ï¼Œè€Œæšä¸¾åˆ™æ˜¯ä¸€ç»„ç›¸å…³çš„å¸¸é‡ã€‚
```ts
enum Color {
  Red = "#FF0000",
  Green = "#00FF00",
  Blue = "#0000FF"
}
const PI = 3.14;
```
åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª`Color`æšä¸¾ï¼Œå…¶ä¸­åŒ…å«ä¸‰ä¸ªæˆå‘˜ï¼Œå¹¶å°†å…¶ç”¨ä½œé¢œè‰²ä»£ç çš„æ˜ å°„ã€‚å¦å¤–æˆ‘ä»¬è¿˜å®šä¹‰äº†ä¸€ä¸ªå¸¸é‡`PI`ï¼Œå®ƒçš„å€¼ä¸º`3.14`ã€‚
:::


## 36ã€TypeScriptä¸­çš„æšä¸¾æ˜¯ä»€ä¹ˆï¼Ÿ
æšä¸¾æˆ–æšä¸¾æ˜¯ä¸€ç§ TypeScipt æ•°æ®ç±»å‹ï¼Œå®ƒå…è®¸æˆ‘ä»¬å®šä¹‰ä¸€ç»„å‘½åå¸¸é‡ã€‚ä½¿ç”¨æšä¸¾å¯ä»¥æ›´è½»æ¾åœ°è®°å½•æ„å›¾ï¼Œæˆ–åˆ›å»ºä¸€ç»„ä¸åŒçš„æ¡ˆä¾‹ã€‚å®ƒæ˜¯ç›¸å…³å€¼çš„é›†åˆï¼Œå¯ä»¥æ˜¯æ•°å­—æˆ–å­—ç¬¦ä¸²å€¼ã€‚
```ts
enum Gender {  
  Male,  
  Female  
  Other  
}  
console.log(Gender.Female); // Output: 1  
//We can also access an enum value by it's number value.  
console.log(Gender[1]); // Output: Female
```


## 37ã€TSä¸­çš„æ¥å£interface å’Œ type è¯­å¥æœ‰ä»€ä¹ˆåŒºåˆ«
```ts
interface X {  
  a: number  
  b: string  
}  
type X = {  
  a: number  
  b: string  
}
```
typeï¼ˆç±»åˆ«åçš„ï¼‰ å’Œ interface ï¼ˆæ¥å£ï¼‰çš„åŒºåˆ«ï¼Ÿ
1. ç±»å‹åˆ«åå¯ä»¥ä¸ºä»»ä½•ç±»å‹å¼•å…¥åç§°ã€‚ä¾‹å¦‚åŸºæœ¬ç±»å‹ï¼Œè”åˆç±»å‹ç­‰
2. ç±»å‹åˆ«åä¸æ”¯æŒç»§æ‰¿
3. ç±»å‹åˆ«åä¸ä¼šåˆ›å»ºä¸€ä¸ªçœŸæ­£çš„åå­—
4. ç±»å‹åˆ«åæ— æ³•è¢«å®ç°(implements)ï¼Œè€Œæ¥å£å¯ä»¥è¢«æ´¾ç”Ÿç±»å®ç°
5. ç±»å‹åˆ«åé‡åæ—¶ç¼–è¯‘å™¨ä¼šæŠ›å‡ºé”™è¯¯ï¼Œæ¥å£é‡åæ—¶ä¼šäº§ç”Ÿåˆå¹¶

| æ¥å£interface | typeç±»å‹ |
| :-----------: | :-------: |
| æ¥å£å£°æ˜æ€»æ˜¯å¼•å…¥æŒ‡å®šçš„å¯¹è±¡ç±»å‹ã€‚ | ç±»å‹åˆ«åå£°æ˜å¯ä»¥ä¸ºä»»ä½•ç±»å‹(åŒ…æ‹¬åŸºå…ƒç±»å‹ã€è”åˆç±»å‹å’Œäº¤é›†ç±»å‹)å¼•å…¥åç§°
| æ¥å£å¯ä»¥extendsç»§æ‰¿ã€‚ | ä¸èƒ½ç»§æ‰¿ |
| æ¥å£åˆ›å»ºä¸€ä¸ªåˆ°å¤„ä½¿ç”¨çš„æ–°åç§°ã€‚ | ç±»å‹åˆ«åä¸ä¼šåˆ›å»ºä¸€ä¸ªçœŸæ­£çš„åå­—ã€‚ |
| æ¥å£é‡åæ—¶ä¼šäº§ç”Ÿåˆå¹¶ | ç±»å‹åˆ«åé‡åæ—¶ç¼–è¯‘å™¨ä¼šæŠ›å‡ºé”™è¯¯ |


## 39ã€TypeScriptçš„asè¯­æ³•æ˜¯ä»€ä¹ˆï¼Ÿ
`as` æ˜¯ TypeScript ä¸­ç±»å‹æ–­è¨€çš„é™„åŠ è¯­æ³•ã€‚å¼•å…¥ `as-syntax` çš„åŸå› æ˜¯åŸå§‹è¯­æ³• (`<type>`) ä¸ JSX å†²çªã€‚
```ts
let empCode: any = 111;     
let employeeCode = code as number;
```
å°† TypeScript ä¸ JSX ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œåªå…è®¸ä½¿ç”¨ as æ ·å¼çš„æ–­è¨€ã€‚


## 40ã€TypeScriptçš„Enumæšä¸¾ç±»å‹ï¼Ÿ
å‚è€ƒï¼šhttps://www.jianshu.com/p/b924c9d12bfb
TypeScript åœ¨ ES åŸæœ‰ç±»å‹åŸºç¡€ä¸ŠåŠ å…¥æšä¸¾ç±»å‹ï¼Œä½¿å¾—åœ¨ TypeScript ä¸­ä¹Ÿå¯ä»¥ç»™ä¸€ç»„æ•°å€¼èµ‹äºˆåå­—ï¼Œè¿™æ ·å¯¹å¼€å‘è€…æ¯”è¾ƒå‹å¥½ï¼Œå¯ä»¥ç†è§£æšä¸¾å°±æ˜¯ä¸€ä¸ªå­—å…¸ã€‚æšä¸¾ç±»å‹ä½¿ç”¨enumæ¥å®šä¹‰ï¼š
```ts
enum Gender {  
  Male,  
  Female  
  Other  
}  
console.log(Gender.Female); // : 1  
// æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡enumå€¼çš„numberå€¼æ¥è®¿é—®å®ƒ
console.log(Gender[1]); // : Female 
```


## 41ã€TSä¸­çš„å£°æ˜åˆå¹¶
åœ¨TypeScriptä¸­ï¼Œå½“å…·æœ‰ç›¸åŒåç§°çš„å‡½æ•°ã€ç±»æˆ–å‘½åç©ºé—´ç­‰å¤šä¸ªå£°æ˜å‡ºç°æ—¶ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨åˆå¹¶ä¸ºä¸€ä¸ªå£°æ˜ã€‚è¿™ç§°ä¸ºå£°æ˜åˆå¹¶ã€‚

å£°æ˜åˆå¹¶é€‚ç”¨äºä»¥ä¸‹æƒ…å†µï¼š
1. å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼
2. åŒåæ¥å£
  ```ts
  // åŒåæ¥å£åˆå¹¶
  interface Person {
    name: string;
  }
  interface Person {
    age: number;
  }
  let person: Person = { name: "John", age: 30 };
  ```
3. ç±»å‹åˆ«å
  ```ts
  // ç±»å‹åˆ«ååˆå¹¶
  type Point = [number, number];
  type Point = {
    x: number;
    y: number;
  };
  let point: Point = { x: 0, y: 0 };
  ```
4. å‘½åç©ºé—´
  ```ts
  // å‘½åç©ºé—´åˆå¹¶
  namespace MyNamespace {
    export const name = "MyNamespace";
  }
  namespace MyNamespace {
    export function greet() {
      console.log(`Hello from ${name}!`);
    }
  }
  MyNamespace.greet(); // è¾“å‡ºï¼šHello from MyNamespace!
  ```

æ³¨æ„: **å£°æ˜åˆå¹¶ä»…é™äºç±»å‹å’Œå‘½åç©ºé—´ï¼Œä¸é€‚ç”¨äºå˜é‡ã€å‡½æ•°ç­‰å…¶ä»–å®ä½“**ã€‚


## 42ã€TypeScriptä¸­?. , ?? , !ï¼š , _ , ** ç­‰ç¬¦å·çš„å«ä¹‰ï¼Ÿ
- `?.` å¯é€‰é“¾ï¼Œé€šå¸¸æˆ‘ä»¬çš„å†™æ³•æ˜¯ç›´æ¥ä¸Šifåˆ¤æ–­å•¥çš„ï¼Œç„¶åå†å–dataä¸­çš„å±æ€§ï¼Œä½†æ˜¯æœ‰äº†é—®å·ç‚¹(`?.`)å†™æ³•å°±ç®€å•å¾ˆå¤šäº†
  ```ts
  // 1.dataå¯èƒ½ä¸ºnull,undefined , rowä¹Ÿå¯èƒ½ä¸ºnull,undefined
  // 2.å‡è®¾dataå®Œæ•´ç»“æ„ {row:{name:'aaa'}}
  function getData(data: any){
    let name = data?.row?.name
  }

  // æ™®é€šå†™æ³•
  // 1.dataå¯èƒ½ä¸ºnull,undefined , rowä¹Ÿå¯èƒ½ä¸ºnull,undefined
  // 2.å‡è®¾dataå®Œæ•´ç»“æ„ {row:{name:'aaa'}}
  function getData(data: any){
    let name;
    if (data && data.row) {
      name = data.row.name
    }
  }
  ```
- `??` ç±»ä¼¼ä¸`||`ï¼Œ??é¿å…äº†ä¸€äº›æ„å¤–æƒ…å†µï¼Œ0ï¼ŒNaNä»¥åŠ"",falseè¢«è§†ä¸ºfalseå€¼ã€‚åªæœ‰undefind,nullè¢«è§†ä¸ºfalseå€¼ã€‚
  ```ts
  console.log(null || 5)   //5
  console.log(null ?? 5)     //5

  console.log(undefined || 5)      //5
  console.log(undefined ?? 5)      //5

  console.log(0 || 5)       //5
  console.log(0 ?? 5)      //0
  ```
- `!.` åœ¨å˜é‡ååæ·»åŠ `!.`ï¼Œå¯ä»¥æ–­è¨€æ’é™¤undefinedå’Œnullç±»å‹
  ```ts
  let a: string | null | undefined
  a.length // error
  a!.length // ok
  ```
- `_ ,` å£°æ˜è¯¥å‡½æ•°å°†è¢«ä¼ é€’ä¸€ä¸ªå‚æ•°ï¼Œä½†æ‚¨å¹¶ä¸å…³å¿ƒå®ƒ
- `!:` å¾…ä¼šåˆ†é…è¿™ä¸ªå˜é‡ï¼Œtsä¸è¦æ‹…å¿ƒ
- `**` æ±‚å¹‚
- `?:` æŒ‡å¯é€‰å‚æ•°ï¼Œå¯ä»¥ç†è§£ä¸ºå‚æ•°è‡ªåŠ¨åŠ ä¸Šundefined
  ```ts
  function echo(x: number, y?: number) { // å¯é€‰å‚æ•°
    return x + (y || 0);
  }
  ```

## 43ã€TypeScriptä¸­ä»€ä¹ˆæ˜¯ any ç±»å‹ï¼Œä½•æ—¶ä½¿ç”¨ï¼Ÿ
ä»»æ„æ•°æ®ç±»å‹ï¼šany
- å¦‚æœæ˜¯ä¸åŒå˜é‡çš„è¯ï¼Œå¯ä»¥æ˜¯ä»»æ„çš„æ•°æ®ç±»å‹
- å¦‚æœæ˜¯å¯¹è±¡çš„è¯ï¼Œanyä¸èƒ½å¤Ÿæç¤ºåŸæœ‰çš„å±æ€§å’Œæ–¹æ³•
- æœªç»™åˆå§‹å€¼çš„å˜é‡ç±»å‹ä¸ºany


## 44ã€ä»€ä¹ˆæ˜¯voidï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨voidç±»å‹ï¼Ÿ
`void`è¡¨ç¤ºå˜é‡æ²¡æœ‰ç±»å‹ï¼Œå®ƒå……å½“ä¸ä»»ä½•ç›¸åçš„ç±»å‹ï¼Œå®ƒåœ¨ä¸è¿”å›å€¼çš„å‡½æ•°ä¸­ç‰¹åˆ«æœ‰ç”¨

å¦‚æœå˜é‡æ˜¯ `void` ç±»å‹ï¼Œåˆ™åªèƒ½å°† `null` æˆ– `undefined` å€¼åˆ†é…ç»™è¯¥å˜é‡ã€‚
```ts
function notify(): void {
  alert('Hello World!')
}
```


## 45ã€å¦‚ä½•åœ¨ TypeScript ä¸­æŒ‡å®šå¯é€‰å±æ€§ï¼Ÿ
é€šè¿‡æ·»åŠ  `?` å¯¹è±¡ç±»å‹å¯ä»¥å…·æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå¯é€‰å±æ€§ï¼Œåœ¨å±æ€§åç§°ä¹‹å
```ts
let pt: { x: number; y?: number } = {
  x: 10
}
```


## 46ã€TypeScript ä¸­æ§åˆ¶æˆå‘˜å¯è§æ€§æœ‰å‡ ç§æ–¹æ³•ï¼Ÿ tsä¸­çš„è®¿é—®ä¿®é¥°ç¬¦ï¼Ÿ
TypeScript æä¾›äº†ä¸‰ä¸ªå…³é”®å­—æ¥æ§åˆ¶ç±»æˆå‘˜çš„å¯è§æ€§
- `public`ï¼šæ‚¨å¯ä»¥åœ¨ class å¤–çš„ä»»ä½•åœ°æ–¹è®¿é—®å…¬å…±æˆå‘˜ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ç±»æˆå‘˜éƒ½æ˜¯å…¬å…±çš„ã€‚
- `protected`ï¼šå—ä¿æŠ¤çš„æˆå‘˜ä»…å¯¹åŒ…å«è¯¥æˆå‘˜çš„ç±»çš„å­ç±»å¯è§ã€‚ä¸æ‰©å±•å®¹å™¨ç±»çš„å¤–éƒ¨ä»£ç æ— æ³•è®¿é—®å—ä¿æŠ¤çš„æˆå‘˜ã€‚
- `private`ï¼šç§æœ‰æˆå‘˜ä»…åœ¨ç±»å†…éƒ¨å¯è§ï¼Œæ²¡æœ‰å¤–éƒ¨ä»£ç å¯ä»¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ã€‚
- `readonly`ï¼šå±æ€§è®¾ç½®ä¸ºåªè¯»


## 47ã€TypeScript æ”¯æŒé™æ€ç±»å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
TypeScript ä¸æ”¯æŒé™æ€ç±»ï¼Œè¿™ä¸æµè¡Œçš„ C# å’Œ Java ç­‰é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ä¸åŒã€‚è¿™äº›è¯­è¨€éœ€è¦é™æ€ç±»ï¼Œå› ä¸ºæ‰€æœ‰ä»£ç ï¼Œå³æ•°æ®å’Œå‡½æ•°ï¼Œéƒ½éœ€è¦åœ¨ä¸€ä¸ªç±»ä¸­å¹¶ä¸”ä¸èƒ½ç‹¬ç«‹å­˜åœ¨ã€‚é™æ€ç±»æä¾›äº†ä¸€ç§æ–¹æ³•æ¥å…è®¸è¿™äº›åŠŸèƒ½ï¼Œè€Œæ— éœ€å°†å®ƒä»¬ä¸ä»»ä½•å¯¹è±¡ç›¸å…³è”ã€‚åœ¨ TypeScript ä¸­ï¼Œæ‚¨å¯ä»¥å°†ä»»ä½•æ•°æ®å’Œå‡½æ•°åˆ›å»ºä¸ºç®€å•å¯¹è±¡ï¼Œè€Œæ— éœ€åˆ›å»ºåŒ…å«ç±»ã€‚å› æ­¤ TypeScript ä¸éœ€è¦é™æ€ç±»ï¼Œå•ä¾‹ç±»åªæ˜¯ TypeScript ä¸­çš„ä¸€ä¸ªç®€å•å¯¹è±¡ã€‚


## 48ã€Typescript çš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ
TypeScript æœ‰ä»¥ä¸‹ç¼ºç‚¹ï¼š
- TypeScript éœ€è¦å¾ˆé•¿æ—¶é—´æ¥ç¼–è¯‘ä»£ç ã€‚
- TypeScript ä¸æ”¯æŒæŠ½è±¡ç±»ã€‚
- å¦‚æœåœ¨æµè§ˆå™¨ä¸­è¿è¡Œ TypeScript åº”ç”¨ç¨‹åºï¼Œåˆ™éœ€è¦ä¸€ä¸ªç¼–è¯‘æ­¥éª¤å°† TypeScript è½¬æ¢ä¸º JavaScriptã€‚
- å‡ åå¹´æ¥ï¼ŒWeb å¼€å‘äººå‘˜ä¸€ç›´åœ¨ä½¿ç”¨ JavaScriptï¼Œè€Œ TypeScript å¹¶æ²¡æœ‰å¸¦æ¥ä»»ä½•æ–°ä¸œè¥¿ã€‚
- è¦ä½¿ç”¨ä»»ä½•ç¬¬ä¸‰æ–¹åº“ï¼Œå®šä¹‰æ–‡ä»¶æ˜¯å¿…é¡»çš„ã€‚å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç¬¬ä¸‰æ–¹åº“éƒ½æœ‰å¯ç”¨çš„å®šä¹‰æ–‡ä»¶ã€‚
- ç±»å‹å®šä¹‰æ–‡ä»¶çš„è´¨é‡æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•ç¡®å®šå®šä¹‰æ˜¯æ­£ç¡®çš„ï¼Ÿ


## 49ã€TypeScriptä¸­any,never,unknownå’Œviodæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
1. `unknown`ç±»å‹å’Œ`any`ç±»å‹ç±»ä¼¼ã€‚ä¸`any`ç±»å‹ä¸åŒçš„æ˜¯`unknown`ç±»å‹å¯ä»¥æ¥å—ä»»æ„ç±»å‹èµ‹å€¼ï¼Œä½†æ˜¯`unknown`ç±»å‹èµ‹å€¼ç»™å…¶ä»–ç±»å‹å‰ï¼Œå¿…é¡»è¿›è¡Œæ–­è¨€æˆ–å®ˆå«ã€‚
2. `never`ï¼Œ`never`è¡¨ç¤ºæ°¸è¿œä¸å­˜åœ¨çš„ç±»å‹ã€‚æ¯”å¦‚ä¸€ä¸ªå‡½æ•°æ€»æ˜¯æŠ›å‡ºé”™è¯¯ï¼Œè€Œæ²¡æœ‰è¿”å›å€¼ã€‚æˆ–è€…ä¸€ä¸ªå‡½æ•°å†…éƒ¨æœ‰æ­»å¾ªç¯ï¼Œæ°¸è¿œä¸ä¼šæœ‰è¿”å›å€¼ã€‚å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯`never`ç±»å‹ã€‚
  ```ts
  //æŠ›å‡ºå¼‚å¸¸
  function error(msg:string):never{
      throw new Error(msg)
  }//æŠ›å‡ºå¼‚å¸¸ä¼šç›´æ¥ä¸­æ–­ç¨‹åºè¿è¡Œï¼Œè¿™æ ·ç¨‹åºå°±è¿è¡Œä¸åˆ°è¿”å›å€¼é‚£ä¸€æ­¥äº†ï¼Œå³å…·æœ‰ä¸å¯åˆ°è¾¾çš„ç»ˆç‚¹ï¼Œä¹Ÿå°±æ°¸ä¸å­˜åœ¨è¿”å›äº†

  //æ­»å¾ªç¯
  function loopForever():never{
      while(true){}
  } //åŒæ ·ç¨‹åºæ°¸è¿œæ— æ³•è¿è¡Œåˆ°å‡½æ•°è¿”å›å€¼é‚£ä¸€æ­¥  å³æ°¸ä¸å­˜åœ¨è¿”å›
  ```
  å˜é‡ä¹Ÿå¯ä»¥å£°æ˜ä¸º`never`ç±»å‹ï¼Œå› ä¸ºå®ƒæ˜¯æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ï¼Œæ‰€ä»¥ä»»ä½•ç±»å‹éƒ½ä¸èƒ½èµ‹å€¼ç»™`never`ç±»å‹(é™¤äº†`never`æœ¬èº«ä¹‹å¤–, å³ä½¿`any`ä¹Ÿä¸å¯ä»¥èµ‹å€¼ç»™`never`)ã€‚
  ```ts
  let never1:never
  // any ä¹Ÿä¸èƒ½åˆ†é…ç»™never
  let any1: any = "sisterAn"
  never1 = any1 // error


  // ä½œä¸ºå‡½æ•°è¿”å›å€¼çš„never
  let never2: never = (()=>{
    throw new Error("Throw error")
  })()
  never1 = never2
  ```
3. `void`, æ²¡æœ‰æ˜¾ç¤ºçš„è¿”å›å€¼çš„å‡½æ•°è¿”å›å€¼ä¸º`void`ç±»å‹ã€‚å¦‚æœä¸€ä¸ªå˜é‡ä¸º`void`ç±»å‹ï¼Œåªèƒ½èµ‹äºˆ`undefined`æˆ–è€…`null`(æ³¨æ„,`â€œstrickNullChecksâ€:true`æ—¶ä¼šæŠ¥é”™)å’Œ`void`æœ¬èº«ã€‚
  ```ts
  function hello(): void{
    console.log("hello sisterAn");
  }

  let void1:void
  let null1:null = null
  let nud1:undefined = undefined
  let void2:void

  void1 = void2
  void1 = und1
  void1 = null1 //type "null" is not assignable to type 'void'
  ```

## 50ã€TypeScript ä¸­ never å’Œ void çš„åŒºåˆ«
- `void`è¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ï¼ˆå¯ä»¥è¢«èµ‹å€¼ä¸º`null`å’Œ`undefined`ï¼‰ã€‚
- `never`è¡¨ç¤ºä¸€ä¸ªä¸åŒ…å«å€¼çš„ç±»å‹ï¼Œå³è¡¨ç¤ºæ°¸è¿œä¸å­˜åœ¨çš„å€¼ã€‚

æ‹¥æœ‰`void`è¿”å›å€¼ç±»å‹çš„å‡½æ•°èƒ½æ­£å¸¸è¿è¡Œã€‚æ‹¥æœ‰`never`è¿”å›å€¼ç±»å‹çš„å‡½æ•°æ— æ³•æ­£å¸¸è¿”å›ï¼Œæ— æ³•ç»ˆæ­¢ï¼Œæˆ–ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
- ç”¨äºå‡½æ•°æ—¶`never`è¡¨ç¤ºå‡½æ•°ç”¨äºæ‰§è¡Œä¸æ­¥(æŠ›å‡ºå¼‚å¸¸æˆ–æ­»åˆ°è¿”å›å€¼é‚£ä¸€å¾ªç¯)çš„è¿”å›å€¼ç±»å‹ï¼Œå³æ°¸ä¸å­˜åœ¨å€¼çš„ç±»å‹ã€‚
- ç”¨äºå‡½æ•°æ—¶`void`åˆ™è¡¨ç¤ºæ²¡æœ‰è¿”å›å€¼ï¼Œä¸è¿”å›æˆ–è¿”å›`undefined`


## 51ã€å®‰è£… Typescript çš„æœ€ä½è¦æ±‚æ˜¯ä»€ä¹ˆï¼Ÿæˆ–è€…å¦‚ä½•è·å¾— TypeScript å¹¶å®‰è£…å®ƒï¼Ÿ
TypeScript å¯ä»¥é€šè¿‡ npm(Node.js åŒ…ç®¡ç†å™¨)åœ¨ node çš„å¸®åŠ©ä¸‹å®‰è£…å’Œç®¡ç†ã€‚è¦å®‰è£… TypeScriptï¼Œé¦–å…ˆç¡®ä¿ npm å®‰è£…æ­£ç¡®ï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤åœ¨ç³»ç»Ÿä¸Šå…¨å±€å®‰è£… TypeScriptã€‚ 
```shell
npm install -g typescript
```
å®ƒå®‰è£…äº†ä¸€ä¸ªå‘½ä»¤è¡Œä»£ç tscï¼Œå®ƒå°†è¿›ä¸€æ­¥ç”¨äºç¼–è¯‘ Typescript ä»£ç ã€‚

å®‰è£… TypeScript æ¶‰åŠä»¥ä¸‹æ­¥éª¤ï¼š
- ä¸‹è½½å¹¶è¿è¡ŒèŠ‚ç‚¹çš„ `.msi` å®‰è£…ç¨‹åºã€‚
- è¾“å…¥å‘½ä»¤`node -v`æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸã€‚
- åœ¨ç»ˆç«¯çª—å£ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… Typescriptï¼š `npm install -g typescript`


## 52ã€å†…éƒ¨æ¨¡å—å’Œå¤–éƒ¨æ¨¡å—æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
å†…éƒ¨æ¨¡å—ä¸»è¦ç”¨äºå°è£…ä¸€äº›ç›¸å…³çš„åŠŸèƒ½æˆ–å¯¹è±¡ï¼Œå¹¶é¿å…ä¸å…¶ä»–ä»£ç å‘ç”Ÿå‘½åå†²çªã€‚å®ƒä»¬å¯ä»¥ä½¿ç”¨`namespace`å…³é”®å­—æ¥å®šä¹‰ï¼Œé€šè¿‡ç‚¹è¿ç®—ç¬¦è¿›è¡Œè®¿é—®ã€‚ä¾‹å¦‚ï¼š
```ts
namespace MyNamespace {
  export function myFunction() {
    // ...
  }
  export class MyClass {
    // ...
  }
}
```
å¤–éƒ¨æ¨¡å—ä¸»è¦ç”¨äºåˆ†ç¦»å’Œç»„ç»‡ä»£ç ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç®¡ç†å’Œé‡ç”¨ä»£ç ã€‚å®ƒä»¬å¯ä»¥ä½¿ç”¨`import`å’Œ`export`å…³é”®å­—è¿›è¡Œå¯¼å…¥å’Œå¯¼å‡ºï¼Œä»¥ä¾¿åœ¨ä¸åŒæ–‡ä»¶æˆ–æ¨¡å—ä¹‹é—´å…±äº«ä»£ç ã€‚ä¾‹å¦‚ï¼š
```ts
// åœ¨ module1.ts æ–‡ä»¶ä¸­
export function myFunction() {
  // ...
}
// åœ¨ module2.ts æ–‡ä»¶ä¸­
import { myFunction } from './module1';
myFunction();
```


## 53ã€ğŸ‘å¯ä»¥åœ¨åç«¯ä½¿ç”¨ TypeScript å—ï¼Ÿ å¦‚æœæ˜¯å¯ä»¥ï¼Œé‚£ä¹ˆåº”è¯¥å¦‚ä½•ä½¿ç”¨ï¼Ÿ
> æ‹“å±•è¯´æ˜ï¼šå¦‚ä½•åœ¨koaä¸­ä½¿ç”¨tsã€‚

æ˜¯çš„ï¼Œå¯ä»¥åœ¨åç«¯ä½¿ç”¨ TypeScriptã€‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä¾‹å­æ¥ç†è§£å®ƒã€‚åœ¨è¿™é‡Œï¼Œé€‰æ‹© Node.js å¹¶å…·æœ‰ä¸€äº›é¢å¤–çš„ç±»å‹å®‰å…¨æ€§å’Œè¯¥è¯­è¨€å¸¦æ¥çš„å…¶ä»–æŠ½è±¡ã€‚
1. ç¬¬1æ­¥ï¼šå®‰è£… Typescript ç¼–è¯‘å™¨ï¼š
  ```shell
  npm i -g typescript
  ```
2. ç¬¬2æ­¥ï¼šTypeScript ç¼–è¯‘å™¨é‡‡ç”¨`tsconfig.json`æ–‡ä»¶ä¸­çš„é€‰é¡¹ã€‚æ­¤æ–‡ä»¶ç¡®å®šå°†æ„å»ºæ–‡ä»¶æ”¾åœ¨ä½•å¤„ã€‚
  ```json
  {  
    "compilerOptions": {  
      "target": "es5",  
      "module": "commonjs",  
      "declaration": true,  
      "outDir": "build"  
    }  
  }
  ```
3. ç¬¬3æ­¥ï¼šç¼–è¯‘tsæ–‡ä»¶
  ```shell
  tsc
  ```
4. ç¬¬4æ­¥ï¼šè¿è¡Œ
  ```shell
  node build/index.js
  ```



## 55ã€æ˜¯å¦å¯ä»¥è°ƒè¯•ä»»ä½• TypeScript æ–‡ä»¶ï¼Ÿ
TypeScript æ–‡ä»¶å¯ä»¥åƒ JavaScript æ–‡ä»¶ä¸€æ ·è¿›è¡Œè°ƒè¯•ã€‚ä»¥ä¸‹æ˜¯åœ¨ VS Code ç¼–è¾‘å™¨ä¸­è°ƒè¯• TypeScript æ–‡ä»¶çš„æ­¥éª¤ï¼š
1. ç¡®ä¿æ‚¨å·²ç»åœ¨é¡¹ç›®ä¸­å®‰è£…äº†`ts-node`å’Œ`source-map-support`ã€‚
2. åœ¨ VS Code ä¸­æ‰“å¼€ TypeScript æ–‡ä»¶ï¼Œå¹¶è®¾ç½®æ–­ç‚¹ã€‚
3. æŒ‰`F5`æˆ–ç‚¹å‡»`Debug`å·¥å…·æ ä¸­çš„â€œå¯åŠ¨è°ƒè¯•â€æŒ‰é’®ï¼Œé€‰æ‹©`Node.js`ç¯å¢ƒã€‚
4. åœ¨å¼¹å‡ºçš„`launch.json`é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š
  ```json
  {
    "type": "node",
    "request": "launch",
    "name": "Debug TypeScript",
    "program": "${workspaceFolder}/path/to/your/typescript/file.ts",
    "runtimeArgs": ["-r", "ts-node/register", "-r", "source-map-support/register"],
    "sourceMaps": true,
    "cwd": "${workspaceFolder}"
  }
  ```
5. ä¿å­˜`launch.json`é…ç½®æ–‡ä»¶å¹¶é‡æ–°å¯åŠ¨è°ƒè¯•ä¼šè¯ã€‚
6. å½“åº”ç”¨ç¨‹åºåœæ­¢åœ¨è®¾ç½®çš„æ–­ç‚¹æ—¶ï¼Œå³å¯å¼€å§‹è°ƒè¯• TypeScript æ–‡ä»¶ã€‚

æ³¨æ„: ä»¥ä¸Šæ­¥éª¤ä»…é€‚ç”¨äºä½¿ç”¨ Node.js è¿è¡Œæ—¶çš„æƒ…å†µã€‚å¦‚æœæ‚¨ä½¿ç”¨å…¶ä»–è¿è¡Œæ—¶ï¼Œè¯·ç›¸åº”åœ°ä¿®æ”¹`runtimeArgs`å’Œ`program`å±æ€§ã€‚


## 56ã€TypeScriptç®¡ç†å™¨æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ
TypeScriptç®¡ç†å™¨æ˜¯æŒ‡ç”¨äºç®¡ç†TypeScriptä¾èµ–é¡¹çš„å·¥å…·ï¼Œæœ€å¸¸è§çš„ä¾‹å­æ˜¯npmã€‚å®ƒä»¬è®©å¼€å‘äººå‘˜å¯ä»¥è½»æ¾åœ°å®‰è£…ã€å‡çº§å’Œåˆ é™¤TypeScriptåº“åŠå…¶ä¾èµ–é¡¹ã€‚

TypeScriptçš„ä¸€äº›ç®€å•æ­¥éª¤ï¼š
1. ç¡®ä¿å·²å®‰è£…`Node.js`å’Œ`npm`ã€‚
2. æ‰“å¼€å‘½ä»¤è¡Œç•Œé¢å¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š`npm install -g typescript`
3. ç­‰å¾…å®‰è£…å®Œæˆï¼Œå¯ä»¥é€šè¿‡è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥TypeScriptæ˜¯å¦æ­£ç¡®å®‰è£…ï¼š`tsc -v`
4. åœ¨é¡¹ç›®ä¸­ä½¿ç”¨TypeScriptæ—¶ï¼Œéœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º`package.json`çš„æ–‡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ ä¾èµ–é¡¹ï¼š`"dependencies": { "typescript": "^4.4.4" }`
5. åœ¨å‘½ä»¤è¡Œç•Œé¢ä¸­åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•ï¼Œå¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–é¡¹ï¼š`npm install`
6. ç°åœ¨å°±å¯ä»¥å¼€å§‹ç¼–å†™TypeScriptä»£ç å¹¶åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨`tsc`å‘½ä»¤å°†å…¶ç¼–è¯‘æˆJavaScriptäº†ã€‚

éœ€è¦TypeScriptç®¡ç†å™¨çš„åŸå› æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š
1. TypeScriptåº”ç”¨ç¨‹åºé€šå¸¸ä¼šä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œè€Œè¿™äº›åº“åˆå¯èƒ½ä¾èµ–äºå…¶ä»–åº“ã€‚ä½¿ç”¨TypeScriptç®¡ç†å™¨å¯ä»¥æ–¹ä¾¿åœ°ç®¡ç†è¿™äº›å¤æ‚çš„ä¾èµ–å…³ç³»ã€‚
2. TypeScriptç®¡ç†å™¨å¯ä»¥è‡ªåŠ¨ä¸‹è½½å’Œå®‰è£…åº“åŠå…¶ä¾èµ–é¡¹ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºçš„å®‰è£…å’Œæ›´æ–°å˜å¾—ç®€å•å¿«æ·ã€‚
3. TypeScriptç®¡ç†å™¨æä¾›äº†ä¸€ä¸ªä¸­å¤®ä»“åº“ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥æ›´å®¹æ˜“åœ°å‘ç°ã€å…±äº«å’Œé‡ç”¨å…¶ä»–äººç¼–å†™çš„ä»£ç ã€‚



## 57ã€TypeScriptå£°æ˜(declare)å…³é”®å­—æ˜¯ä»€ä¹ˆï¼Ÿ
TypeScriptä¸­çš„`declare`å…³é”®å­—ç”¨äºå®šä¹‰ç±»å‹æˆ–ç»‘å®šåˆ°å¤–éƒ¨ä»£ç çš„ç±»å‹å£°æ˜ã€‚
- ä¾‹å¦‚ï¼Œä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºå¦‚ä½•ä½¿ç”¨`declare`å…³é”®å­—å£°æ˜å…¨å±€å˜é‡ï¼š
  ```ts
  declare const myGlobal: string;
  ```
- è¿˜å¯ä»¥ä½¿ç”¨`declare`æ¥æè¿°å¤–éƒ¨æ¨¡å—æˆ–å‘½åç©ºé—´ï¼Œä»¥ä¾¿TypeScriptåœ¨ç¼–è¯‘æ—¶èƒ½å¤Ÿæ­£ç¡®åœ°å¤„ç†å®ƒä»¬ã€‚ä¾‹å¦‚ï¼š
  ```ts
  declare module "myModule" {
    export function myFunction(): void;
  }
  ```
  è¿™å°†å‘Šè¯‰TypeScriptå­˜åœ¨ä¸€ä¸ªåä¸º`"myModule"`çš„æ¨¡å—ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªåä¸º`"myFunction"`çš„å¯¼å‡ºå‡½æ•°ã€‚



## 58ã€å¦‚ä½•ä»ä»»ä½• .ts æ–‡ä»¶ç”Ÿæˆ TypeScript å®šä¹‰æ–‡ä»¶ï¼Ÿ
è¦ä»TypeScriptæ–‡ä»¶ç”Ÿæˆå®šä¹‰æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨TypeScriptç¼–è¯‘å™¨(`tsc`)çš„`--declaration(æˆ–-d)`é€‰é¡¹ã€‚è¯¥é€‰é¡¹ä¼šå‘Šè¯‰ç¼–è¯‘å™¨åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ç”Ÿæˆç›¸åº”çš„`.d.ts`æ–‡ä»¶ã€‚
```shell
tsc --declaration file1.ts
```
ä»¥ä¸‹æ˜¯ä¸€äº›ç®€å•çš„æ­¥éª¤ï¼š
1. ç¡®ä¿å·²å®‰è£…TypeScriptã€‚å¦‚æœæœªå®‰è£…ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å…¨å±€å®‰è£…ï¼š`npm install -g typescript`
2. åˆ›å»ºä¸€ä¸ªåŒ…å«TypeScriptæºä»£ç çš„ç›®å½•ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåä¸º`tsconfig.json`çš„æ–‡ä»¶æ¥é…ç½®ç¼–è¯‘å™¨é€‰é¡¹ã€‚
3. åœ¨`tsconfig.json`æ–‡ä»¶ä¸­æ·»åŠ `"declaration": true`é…ç½®é€‰é¡¹ï¼Œä»¥å¯ç”¨ç”Ÿæˆå®šä¹‰æ–‡ä»¶åŠŸèƒ½ã€‚
4. æ‰§è¡Œ`tsc`å‘½ä»¤ï¼Œç¼–è¯‘å™¨å°†ä¼šç”Ÿæˆ`.js`å’Œ`.d.ts`ä¸¤ä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­`.d.ts`æ–‡ä»¶å°±æ˜¯å®šä¹‰æ–‡ä»¶ã€‚
```json
{
  "compilerOptions": {
    "target": "es6",
    "module": "commonjs",
    "outDir": "./dist",
    "declaration": true
  },
  "include": [
    "./src/**/*"
  ]
}
```
è¿è¡Œ`tsc`å‘½ä»¤ï¼š
```shell
tsc -p tsconfig.json
```
è¿™å°†ä¼šåœ¨`./dist`ç›®å½•ä¸‹ç”Ÿæˆç¼–è¯‘åçš„`.js`å’Œ`.d.ts`æ–‡ä»¶ã€‚


## 59ã€tsconfig.jsonæ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ
`tsconfig.json` æ–‡ä»¶æ˜¯ JSON æ ¼å¼çš„æ–‡ä»¶ã€‚åœ¨ `tsconfig.json` æ–‡ä»¶ä¸­ï¼Œå¯ä»¥æŒ‡å®šå„ç§é€‰é¡¹æ¥å‘Šè¯‰ç¼–è¯‘å™¨å¦‚ä½•ç¼–è¯‘å½“å‰é¡¹ç›®ã€‚ç›®å½•ä¸­å­˜åœ¨ `tsconfig.json` æ–‡ä»¶è¡¨æ˜è¯¥ç›®å½•æ˜¯ TypeScript é¡¹ç›®çš„æ ¹ç›®å½•ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ `tsconfig.json` æ–‡ä»¶çš„å†…å®¹ï¼š
```json
{  
  "compilerOptions": {  
    "declaration": true,      
    "emitDecoratorMetadata": false,      
    "experimentalDecorators": false,      
    "module": "none",      
    "moduleResolution": "node"  
    "removeComments": true,  
    "sourceMap": true  
  },  
  "files": [  
    "main.ts",  
    "othermodule.ts"  
  ]  
}
```


## 60ã€TypeScript ä¸­çš„ç¯å¢ƒæ˜¯ä»€ä¹ˆï¼Ÿä½•æ—¶ä½¿ç”¨å®ƒä»¬ï¼Ÿ
åœ¨TypeScriptä¸­ï¼Œç¯å¢ƒï¼ˆEnvironmentï¼‰æ˜¯æŒ‡ä¸€ç»„ç±»å‹å®šä¹‰æˆ–åº“å®šä¹‰çš„é›†åˆï¼Œç”¨äºæè¿°ç‰¹å®šçš„è¿è¡Œç¯å¢ƒæˆ–ç›®æ ‡å¹³å°ã€‚è¿™äº›ç¯å¢ƒå¯ä»¥åŒ…æ‹¬å¸¸è§çš„JavaScriptè¿è¡Œæ—¶ï¼Œä¾‹å¦‚æµè§ˆå™¨ã€Node.jså’ŒWeb Workersï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç¬¬ä¸‰æ–¹åº“æˆ–æ¡†æ¶ã€‚

TypeScriptä¸­é¢„å®šä¹‰äº†è®¸å¤šç¯å¢ƒï¼Œå¦‚`domã€es5ã€es6ã€node`ç­‰ï¼Œå®ƒä»¬éƒ½æ˜¯é€šè¿‡åœ¨ç±»å‹å®šä¹‰æ–‡ä»¶ä¸­å£°æ˜ç±»å‹æ¥å®ç°çš„ã€‚ä¾‹å¦‚ï¼Œå½“ä½¿ç”¨`dom`ç¯å¢ƒæ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åŠ è½½ä¸€ä¸ªåä¸º`lib.dom.d.ts`çš„ç±»å‹å®šä¹‰æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†ä¸DOMå…ƒç´ ç›¸å…³çš„æ‰€æœ‰ç±»å‹ä¿¡æ¯ã€‚

å¯ä»¥é€šè¿‡åœ¨`tsconfig.json`æ–‡ä»¶ä¸­çš„`"compilerOptions"`é€‰é¡¹ä¸­çš„`"lib"`å±æ€§ä¸­è®¾ç½®æ‰€éœ€çš„ç¯å¢ƒæ¥é€‰æ‹©è¦ä½¿ç”¨çš„ç¯å¢ƒã€‚ä¾‹å¦‚ï¼š
```json
{
  "compilerOptions": {
    "lib": ["es6", "dom"]
  }
}
```
ä½¿ç”¨ç¯å¢ƒå¯ä»¥ä½¿ä»£ç æ›´åŠ å¯é å’Œå¥å£®ï¼Œå¹¶ä¸”èƒ½å¤Ÿå‡å°‘ç±»å‹é”™è¯¯å’Œè¿è¡Œæ—¶é”™è¯¯ã€‚å¯ä»¥æ ¹æ®é¡¹ç›®éœ€è¦é€‰æ‹©æ‰€éœ€çš„ç¯å¢ƒï¼Œä¾‹å¦‚æµè§ˆå™¨åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦`dom`ç¯å¢ƒï¼Œè€ŒæœåŠ¡å™¨åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦`node`ç¯å¢ƒã€‚


## 61ã€ç›¸å¯¹ä¸éç›¸å¯¹æ¨¡å—å¯¼å…¥æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
éç›¸å¯¹æ¨¡å—å¯¼å…¥ï¼šå¯ä»¥ç›¸å¯¹äº baseUrl æˆ–é€šè¿‡è·¯å¾„æ˜ å°„æ¥è§£æéç›¸å¯¹å¯¼å…¥ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨å¯¼å…¥ä»»ä½•å¤–éƒ¨ä¾èµ–é¡¹æ—¶ä½¿ç”¨éç›¸å¯¹è·¯å¾„ã€‚
```ts
import * as $ from "jquery";
import { Component } from "@angular/core";
```
ç›¸å¯¹æ¨¡å—å¯¼å…¥ï¼šç›¸å¯¹å¯¼å…¥å¯ä»¥ç”¨äºæˆ‘ä»¬è‡ªå·±çš„æ¨¡å—ï¼Œè¿™äº›æ¨¡å—ä¿è¯åœ¨è¿è¡Œæ—¶ä¿æŒå®ƒä»¬çš„ç›¸å¯¹ä½ç½®ã€‚ç›¸å¯¹å¯¼å…¥ä»¥ `/`ã€`./` æˆ– `../` å¼€å¤´ã€‚
```ts
import Entry from "./components/Entry";
import {DefaultHeaders} from "../constants/http";
```


## 62ã€åŒ¿åå‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿ
åŒ¿åå‡½æ•°æ˜¯åœ¨æ²¡æœ‰ä»»ä½•å‘½åæ ‡è¯†ç¬¦çš„æƒ…å†µä¸‹å£°æ˜çš„å‡½æ•°ã€‚è¿™äº›å‡½æ•°åœ¨è¿è¡Œæ—¶åŠ¨æ€å£°æ˜ã€‚å°±åƒæ ‡å‡†å‡½æ•°ä¸€æ ·ï¼ŒåŒ¿åå‡½æ•°å¯ä»¥æ¥å—è¾“å…¥å¹¶è¿”å›è¾“å‡ºã€‚åŒ¿åå‡½æ•°åœ¨åˆå§‹åˆ›å»ºåé€šå¸¸æ— æ³•è®¿é—®ã€‚
```ts
let myAdd = function(x: number, y: number): number {   
  return x + y;   
};  
console.log(myAdd())
```


## 63ã€TypeScriptä¸­çš„æ–¹æ³•è¦†ç›–æ˜¯ä»€ä¹ˆï¼Ÿ
å¦‚æœå­ç±»(å­ç±»)ä¸çˆ¶ç±»ä¸­å£°æ˜çš„æ–¹æ³•ç›¸åŒï¼Œåˆ™ç§°ä¸ºæ–¹æ³•è¦†ç›–ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ´¾ç”Ÿç±»æˆ–å­ç±»ä¸­é‡æ–°å®šä¹‰äº†åŸºç±»æ–¹æ³•ã€‚

æ–¹æ³•è¦†ç›–è§„åˆ™ï¼š
- æ–¹æ³•å¿…é¡»ä¸çˆ¶ç±»ä¸­çš„æ–¹æ³•åŒå
- æ–¹æ³•å¿…é¡»å…·æœ‰ä¸çˆ¶ç±»ä¸­ç›¸åŒçš„å‚æ•°ã€‚
- å¿…é¡»å­˜åœ¨ IS-A å…³ç³»(ç»§æ‰¿)ã€‚
```ts
class NewPrinter extends Printer {  
  doPrint(): any {  
    super.doPrint();  
    console.log("Called Child class.");  
  }  
  doInkJetPrint(): any {  
    console.log("Called doInkJetPrint().");  
  }  
}  
let printer: new () => NewPrinter;  
printer.doPrint();  
printer.doInkJetPrint();
```


## 64ã€TypeScript ç±»ä¸­å±æ€§/æ–¹æ³•çš„é»˜è®¤å¯è§æ€§æ˜¯ä»€ä¹ˆï¼Ÿ
`public` æ˜¯ TypeScript ç±»ä¸­å±æ€§/æ–¹æ³•çš„é»˜è®¤å¯è§æ€§ã€‚


## 65ã€ä»€ä¹ˆæ˜¯ .map æ–‡ä»¶ï¼Œä¸ºä»€ä¹ˆ/å¦‚ä½•ä½¿ç”¨å®ƒï¼Ÿ
TypeScript Map æ–‡ä»¶æ˜¯ä¸€ä¸ªæºæ˜ å°„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«æœ‰å…³åŸå§‹æ–‡ä»¶çš„ä¿¡æ¯ã€‚`.map`æ–‡ä»¶æ˜¯æºæ˜ å°„æ–‡ä»¶ï¼Œå®ƒå…è®¸å·¥å…·åœ¨å‘å‡ºçš„ JavaScript ä»£ç å’Œåˆ›å»ºå®ƒçš„ TypeScript æºæ–‡ä»¶ä¹‹é—´è¿›è¡Œæ˜ å°„ã€‚è®¸å¤šè°ƒè¯•å™¨å¯ä»¥ä½¿ç”¨è¿™äº›æ–‡ä»¶ï¼Œå› æ­¤å¯ä»¥è°ƒè¯• TypeScript æ–‡ä»¶è€Œä¸æ˜¯ JavaScript æ–‡ä»¶ã€‚


## 66ã€åŸç”Ÿ Javascript æ˜¯å¦æ”¯æŒæ¨¡å—ï¼Ÿ
ä¸æ”¯æŒã€‚ç›®å‰ï¼ŒåŸç”Ÿ JavaScript ä¸æ”¯æŒæ¨¡å—ã€‚è¦åœ¨ Javascript ä¸­åˆ›å»ºå’Œä½¿ç”¨æ¨¡å—ï¼Œéœ€è¦åƒ CommonJS è¿™æ ·çš„å¤–éƒ¨æ¨¡å—ã€‚


## 67ã€TypeScriptæœ‰å“ªäº›ç»„ä»¶ï¼Ÿ
TypeScriptä¸»è¦åŒ…å«ä¸‰ä¸ªç»„ä»¶ã€‚è¿™äº›ç»„ä»¶æœ‰ï¼š
- è¯­è¨€ï¼šè¯¥è¯­è¨€åŒ…å«æ–°è¯­æ³•ã€å…³é”®å­—ã€ç±»å‹æ³¨é‡Šç­‰å…ƒç´ ï¼Œå¹¶å…è®¸æˆ‘ä»¬ç¼–å†™ TypeScriptã€‚
- ç¼–è¯‘å™¨ï¼šTypeScript ç¼–è¯‘å™¨æ˜¯å¼€æºçš„ã€è·¨å¹³å°çš„ï¼Œå¹¶ä¸”æ˜¯ç”¨ TypeScript ç¼–å†™çš„ã€‚å®ƒå°†ç”¨ TypeScript ç¼–å†™çš„ä»£ç è½¬æ¢ä¸ºä¸å…¶ JavaScript ä»£ç ç­‰æ•ˆçš„ä»£ç ã€‚å®ƒæ‰§è¡Œæˆ‘ä»¬çš„ TypeScript ä»£ç åˆ° JavaScript ä»£ç çš„è§£æã€ç±»å‹æ£€æŸ¥ã€‚å®ƒè¿˜å¯ä»¥å¸®åŠ©å°†ä¸åŒçš„æ–‡ä»¶è¿æ¥åˆ°å•ä¸ªè¾“å‡ºæ–‡ä»¶å¹¶ç”Ÿæˆæºæ˜ å°„ã€‚
- è¯­è¨€æœåŠ¡ï¼šè¯­è¨€æœåŠ¡æä¾›çš„ä¿¡æ¯å¯å¸®åŠ©ç¼–è¾‘å™¨å’Œå…¶ä»–å·¥å…·æä¾›æ›´å¥½çš„è¾…åŠ©åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šè‡ªåŠ¨é‡æ„å’Œ IntelliSenseã€‚


## 68ã€TypeScriptä¸­interfaceå¯ä»¥ç»™Function/Array/Classåšå£°æ˜å—ï¼Ÿ
```ts
// å‡½æ•°ç±»å‹
interface SearchFunc {
  (source: string, subString: string): boolean;
}
let mySearch: SearchFunc;
mySearch = function(source: string, subString: string) {
  let result = source.search(subString);
  return result > -1;
}


// Array
interface StringArray {
  [index: number]: string;
}

let myArray: StringArray;
myArray = ["Bob", "Fred"];


// Class, constructorå­˜åœ¨äºç±»çš„é™æ€éƒ¨åˆ†ï¼Œæ‰€ä»¥ä¸ä¼šæ£€æŸ¥
interface ClockInterface {
  currentTime: Date;
  setTime(d: Date);
}

class Clock implements ClockInterface {
  currentTime: Date;
  setTime(d: Date) {
    this.currentTime = d;
  }
  constructor(h: number, m: number) { }
}
```


## 69ã€TypeScriptå¯ä»¥ä½¿ç”¨String,Number,Boolean,Symbol,Objectç­‰ç±»å‹åšå£°æ˜å—ï¼Ÿ


## 70ã€TypeScriptä¸­thiså’ŒJavaScriptä¸­çš„thisæœ‰ä»€ä¹ˆå·®å¼‚ï¼Ÿ
å‚è€ƒï¼šhttps://zhuanlan.zhihu.com/p/104565681


## 71ã€TypeScriptä¸­ä½¿ç”¨Unionsæ—¶æœ‰å“ªäº›æ³¨æ„äº‹é¡¹ï¼Ÿ
https://blog.csdn.net/Her_smile/article/details/111503754


## 72ã€TypeScriptä¸­å¦‚ä½•è®¾è®¡Classçš„å£°æ˜ï¼Ÿ
https://www.cnblogs.com/zjh-study/p/10650648.html


## 73ã€TypeScriptä¸­å¦‚ä½•è”åˆæšä¸¾/è”åˆç±»å‹ç±»å‹Key?
https://www.cnblogs.com/wjaaron/p/11672764.html
```ts
type Name = { name: string }
type Age = { age: number }
type Union = Name | Age

type UnionKey<P> = P extends infer P ? keyof P : never

type T = UnionKey<Union>
```


## 74ã€TypeScriptä¸­é¢„å®šä¹‰çš„æœ‰æ¡ä»¶ç±»å‹æœ‰å“ªäº›ï¼Ÿ
https://www.jianshu.com/p/612b9e25e427


## 75ã€ç®€å•ä»‹ç»TypeScriptç±»å‹å…¼å®¹çš„ç†è§£ï¼ŸæŠ—å˜ï¼ŒåŒå˜ï¼Œåä½œï¼Œå’Œé€†å˜çš„ç®€å•ç†è§£ï¼Ÿ
- Covariant åå˜ï¼ŒTSå¯¹è±¡å…¼å®¹æ€§æ˜¯åå˜ï¼Œçˆ¶ç±» <= å­ç±»ï¼Œæ˜¯å¯ä»¥çš„ã€‚å­ç±» <= çˆ¶ç±»ï¼Œé”™è¯¯ã€‚
- Contravariant é€†å˜ï¼Œç¦ç”¨`strictFunctionTypes`ç¼–è¯‘ï¼Œå‡½æ•°å‚æ•°ç±»å‹æ˜¯é€†å˜çš„ï¼Œçˆ¶ç±» <= å­ç±»ï¼Œæ˜¯é”™è¯¯ã€‚å­ç±» <= çˆ¶ç±»ï¼Œæ˜¯å¯ä»¥çš„ã€‚
- Bivariant åŒå‘åå˜ï¼Œå‡½æ•°å‚æ•°çš„ç±»å‹é»˜è®¤æ˜¯åŒå‘åå˜çš„ã€‚çˆ¶ç±» <= å­ç±»ï¼Œæ˜¯å¯ä»¥çš„ã€‚å­ç±» <= çˆ¶ç±»ï¼Œæ˜¯å¯ä»¥çš„ã€‚


## 76ã€ç®€å•ä»‹ç»ä¸€ä¸‹TypeScriptæ¨¡å—çš„åŠ è½½æœºåˆ¶ï¼Ÿ
https://zhuanlan.zhihu.com/p/133344957<br>
http://www.ayqy.net/blog/%E6%A8%A1%E5%9D%97%E8%A7%A3%E6%9E%90%E6%9C%BA%E5%88%B6_typescript%E7%AC%94%E8%AE%B014/<br>
https://www.tslang.cn/docs/handbook/module-resolution.html


## 77ã€å¦‚ä½•ä½¿ç”¨TypeScripté¡¹ç›®å¼•å…¥å¹¶ç¼–è¯‘ä¸ºJavaScriptçš„npmåº“åŒ…ï¼Ÿ
https://www.jianshu.com/p/8fa2c50720e4
1. å®‰è£…ç›¸å…³ç±»å‹åº“åŒ…
```ts
npm install @types/xxxx
```
2. è‡ªå·±æ·»åŠ æè¿°æ–‡ä»¶
```ts
declare module xxx
```

## 78ã€tså¦‚ä½•è‡ªåŠ¨ç”Ÿæˆåº“åŒ…çš„å£°æ˜æ–‡ä»¶ï¼Ÿ
å¯ä»¥é…ç½®`tsconfig.json`æ–‡ä»¶ä¸­çš„`declaration`å’Œ`outDir`
1. `declaration: true`, å°†ä¼šè‡ªåŠ¨ç”Ÿæˆå£°æ˜æ–‡ä»¶
2. `outDir: ''`, æŒ‡å®šç›®å½•


## 79ã€TypeScriptä¸­å¦‚ä½•è®¾ç½®æ¨¡å—å¯¼å…¥çš„è·¯å¾„åˆ«åï¼Ÿ
https://www.javaroad.cn/questions/24922


## 80ã€constæ–­è¨€
constæ–­è¨€ï¼Œtypescriptä¼šä¸ºå˜é‡æ·»åŠ ä¸€ä¸ªè‡ªèº«çš„å­—é¢é‡ç±»å‹
1. å¯¹è±¡å­—é¢é‡çš„å±æ€§ï¼Œè·å¾—readonlyçš„å±æ€§ï¼Œæˆä¸ºåªè¯»å±æ€§
2. æ•°ç»„å­—é¢é‡æˆä¸ºreadonly tupleåªè¯»å…ƒç»„
3. å­—é¢é‡ç±»å‹ä¸èƒ½è¢«æ‰©å±•ï¼ˆæ¯”å¦‚ä»helloç±»å‹åˆ°stringç±»å‹ï¼‰
```ts
// type '"hello"'
let x = "hello" as const
// type 'readonly [10, 20]'
let y = [10, 20] as const
// type '{ readonly text: "hello" }'
let z = { text: "hello" } as const
```


## 81ã€implements ä¸ extends çš„åŒºåˆ«
- extendsï¼šå­ç±»ä¼šç»§æ‰¿çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚
- implementsï¼šä½¿ç”¨implementså…³é”®å­—çš„ç±»å°†éœ€è¦å®ç°éœ€è¦å®ç°çš„ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚


## 82ã€æšä¸¾å’Œ object çš„åŒºåˆ«
1. æšä¸¾å¯ä»¥é€šè¿‡æšä¸¾çš„åç§°ï¼Œè·å–æšä¸¾çš„å€¼ã€‚ä¹Ÿå¯ä»¥é€šè¿‡æšä¸¾çš„å€¼è·å–æšä¸¾çš„åç§°ã€‚
2. objectåªèƒ½é€šè¿‡keyè·å–value
3. æ•°å­—æšä¸¾åœ¨ä¸æŒ‡å®šåˆå§‹å€¼çš„æƒ…å†µä¸‹ï¼Œæšä¸¾å€¼ä¼šä»0å¼€å§‹é€’å¢ã€‚
4. è™½ç„¶åœ¨è¿è¡Œæ—¶ï¼Œæšä¸¾æ˜¯ä¸€ä¸ªçœŸå®å­˜åœ¨çš„å¯¹è±¡ã€‚ä½†æ˜¯ä½¿ç”¨keyofæ—¶çš„è¡Œä¸ºå´å’Œæ™®é€šå¯¹è±¡ä¸ä¸€è‡´ã€‚å¿…é¡»ä½¿ç”¨keyof typeofæ‰å¯ä»¥è·å–æšä¸¾æ‰€æœ‰å±æ€§åã€‚


## 83ã€å¦‚ä½•åœ¨ window æ‰©å±•ç±»å‹
```ts
declare global {
  interface Window {
    myCustomFn: () => void;
  }
}
```


## 84ã€å¤æ‚çš„ç±»å‹æ¨å¯¼é¢˜ç›®
å‚è€ƒï¼šhttps://segmentfault.com/a/1190000040403067?sort=votes


## 85ã€.d.tså’Œ.tsæ–‡ä»¶çš„åŒºåˆ«
`TypeScript`æ˜¯`JavaScript`ç±»å‹çš„è¶…é›†ï¼Œå®ƒçš„æ‰©å±•åæ˜¯`.ts`ï¼Œ`TypeScript`å¯ä»¥å°†å¤§é‡å˜é‡çš„ç±»å‹å£°æ˜ç»Ÿä¸€æå–åˆ°å•ç‹¬çš„æ–‡ä»¶ï¼Œæ­¤ç±»æ–‡ä»¶è¢«ç§°ä¸º**ç±»å‹å®šä¹‰æ–‡ä»¶/æè¿°æ–‡ä»¶**ï¼Œå®ƒçš„æ–‡ä»¶æ‰©å±•åæ˜¯`.d.ts`ï¼Œå®ƒå¯ä»¥è¢«`TypeScript`è§£é‡Šå™¨è¯»å–ï¼Œå¹¶ä¸”èƒ½ç›´è§‚åœ°è¡¨ç¤ºå‡ºå„ç§å˜é‡çš„ä½¿ç”¨æ–¹å¼ã€‚
`npm`ä»“åº“é‡Œæœ‰ä¸€ä¸ª`@types`ç»„ç»‡ï¼Œä¸“é—¨ç”¨æ¥å­˜æ”¾åº“çš„å£°æ˜æ–‡ä»¶ï¼Œå¼•ç”¨æ—¶åªéœ€è¦å®‰è£…`npm install --save-dev @types/åº“å`å³å¯ï¼Œæ¯”å¦‚åœ¨ä½¿ç”¨`jquery`çš„æ—¶å€™ï¼Œæœ€å¥½åŒæ—¶å®‰è£…`npm install @types/jquery`æ¥å®ç°ä»£ç çš„æ™ºèƒ½æç¤ºã€‚

### ç”¨æ³•
æ³¨æ„è¿™ç§æ–¹å¼æ˜¯åœ¨`es6` + `ts`ä¸‹ä½¿ç”¨
```ts
// types.d.ts
export type TitleInfo = {
  value: string
  color: string
}
export type ContentInfo = {
  value: string
  color: string
}
export type Todo = {
  id: number
  name: string
  completed: boolean
}
```
```ts
// index.ts
import type { Todo } from './types'
const todo: Todo = {
  id: 1,
  name: 'vue3å­¦ä¹ ',
  completed: false
}
```
æ•ˆæœå¦‚ä¸‹ï¼š
![](https://gitee.com/itchenliang/img/raw/master/img/20210902160122.png)

### å¦‚ä½•å®šä¹‰è‡ªå·±çš„ç±»å‹å®šä¹‰æ–‡ä»¶
#### å…¨å±€ç±»å‹
**å˜é‡**
```js
declare var aaa: number
declare const max:200
declare var aaa: number|string //æ³¨æ„è¿™é‡Œç”¨çš„æ˜¯ä¸€ä¸ªç«–çº¿è¡¨ç¤º"æˆ–"çš„æ„æ€
```
å…¶ä¸­å…³é”®å­—`declare`è¡¨ç¤ºå£°æ˜çš„æ„æ€ã€‚å…¨å±€å˜é‡æ˜¯aaa,ç±»å‹æ˜¯æ•°å­—ç±»å‹ï¼ˆnumberï¼‰

**å‡½æ•°**
ç”±ä¸Šé¢çš„å…¨å±€å˜é‡çš„å†™æ³•æˆ‘ä»¬å¾ˆè‡ªç„¶çš„æ¨æ–­å‡ºä¸€ä¸ªå…¨å±€å‡½æ•°çš„å†™æ³•å¦‚ä¸‹ï¼š
```js
/** idæ˜¯ç”¨æˆ·çš„idï¼Œå¯ä»¥æ˜¯numberæˆ–è€…string */
decalre function getName(id:number|string):string
```
æœ€åçš„é‚£ä¸ª`string`è¡¨ç¤ºçš„æ˜¯å‡½æ•°çš„è¿”å›å€¼çš„ç±»å‹ã€‚å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å€¼å¯ä»¥ç”¨`void`è¡¨ç¤ºã€‚
åœ¨jsä¸­è°ƒç”¨å°±ä¼šæœ‰å¦‚ä¸‹çš„æç¤ºï¼ˆä¸Šé¢å†™çš„æ³¨é‡Šï¼Œå†™jsçš„æ—¶å€™è¿˜å¯ä»¥æç¤ºï¼‰ï¼š
![](https://gitee.com/itchenliang/img/raw/master/img/20210902153750.png)

æœ‰æ—¶å€™åŒä¸€ä¸ªå‡½æ•°æœ‰è‹¥å¹²ç§å†™æ³•ï¼š
```js
get(1234)
get("zhangsan",18)
```
å¯¹åº”çš„`d.ts`æ–‡ä»¶çš„å†™æ³•ï¼š
```js
declare function get(id: string | number): string
declare function get(name:string,age:number): string
```
å¦‚æœæœ‰äº›å‚æ•°å¯æœ‰å¯æ— ï¼Œå¯ä»¥åŠ ä¸ª`?`è¡¨ç¤ºéå¿…é¡»ã€‚
```js
declare function render(callback?:() => void): string
```
åœ¨è°ƒç”¨æ—¶ä¸ä¼ éƒ½å¯ä»¥ï¼š
```js
render()
render(function () {
 alert('finish.')
})
```

**class**
é™¤äº†å˜é‡å’Œå‡½æ•°å¤–ï¼Œæˆ‘ä»¬è¿˜æœ‰ç±»ï¼ˆclassï¼‰
```js
declare class Person {
 static maxAge: number //é™æ€å˜é‡
 static getMaxAge(): number //é™æ€æ–¹æ³•
 constructor(name: string, age: number) //æ„é€ å‡½æ•°
 getName(id: number): string 
}
```

**å¯¹è±¡**
```js
declare namespace OOO{
 var aaa: number | string
 function getName(id: number | string): string
 class Person {
   static maxAge: number //é™æ€å˜é‡
   static getMaxAge(): number //é™æ€æ–¹æ³•
   constructor(name: string, age: number) //æ„é€ å‡½æ•°
   getName(id: number): string //å®ä¾‹æ–¹æ³•
 }
}
```
å…¶å®å°±æ˜¯æŠŠä¸Šé¢çš„é‚£äº›å†™æ³•æ”¾åˆ°è¿™ä¸ª`namespace`åŒ…èµ·æ¥çš„å¤§æ‹¬å·é‡Œé¢ï¼Œæ³¨æ„æ‹¬å·é‡Œé¢å°±ä¸éœ€è¦`declare`å…³é”®å­—äº†ã€‚
å¯¹è±¡é‡Œé¢å¥—å¯¹è±¡ä¹Ÿæ˜¯å¯ä»¥çš„ï¼š
```js
declare namespace OOO{
 var aaa: number | string
 // ...
 namespace O2{
 let b:number
 }
}
```

**æ··åˆç±»å‹**
æœ‰æ—¶å€™æœ‰äº›å€¼æ—¢æ˜¯`å‡½æ•°`åˆæ˜¯`class`åˆæ˜¯`å¯¹è±¡`çš„å¤æ‚å¯¹è±¡ã€‚æ¯”å¦‚æˆ‘ä»¬å¸¸ç”¨çš„jqueryæœ‰å„ç§ç”¨æ³•ï¼š
```js
new $()
$.ajax()
$()
```
æ—¢æ˜¯å‡½æ•°åˆæ˜¯å¯¹è±¡
```js
declare function $2(s:string): void
declare namespace $2{
 let aaa:number
}
```
æ—¢æ˜¯å‡½æ•°ï¼Œåˆæ˜¯ç±»ï¼ˆå¯ä»¥newå‡ºæ¥ï¼‰
```js
// å®ä¾‹æ–¹æ³• 
interface People{
 name: string
 age: number
 getName(): string
 getAge():number
}
interface People_Static{
 new (name: string, age: number): People
 /** é™æ€æ–¹æ³• */
 staticA():number
 
 (w:number):number
}
declare var People:People_Static
```

#### æ¨¡å—åŒ–
é™¤äº†ä¸Šé¢çš„å…¨å±€çš„æ–¹å¼ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™è¿˜æ˜¯é€šè¿‡`require`çš„æ–¹å¼å¼•å…¥æ¨¡å—åŒ–çš„ä»£ç ã€‚
![](https://gitee.com/itchenliang/img/raw/master/img/20210902154838.png)
å¯¹åº”çš„`d.ts`å†™æ³•æ˜¯è¿™æ ·çš„ï¼š
```js
declare module 'jquery' {
  export let a: number
  export function b(): number
  export namespace c{
    let cd: string
  }
}
```

æœ‰æ—¶å€™æˆ‘ä»¬å¯¼å‡ºå»çš„æ˜¯ä¸€ä¸ªå‡½æ•°æœ¬èº«ï¼Œæ¯”å¦‚è¿™æ ·çš„ï¼š
![](https://gitee.com/itchenliang/img/raw/master/img/20210902155047.png)
å¯¹åº”çš„`d.ts`å†™æ³•æ˜¯è¿™æ ·çš„ï¼š
```js
declare module 'jquery' {
  function aaa(some:number):number
  export = aaa
}
```
å¯¼å‡ºä¸€ä¸ªå˜é‡æˆ–å¸¸é‡çš„è¯è¿™ä¹ˆå†™ï¼š
```js
declare module "ccc" {
 const c:400
 export=c
}
```

#### UMD
æœ‰ä¸€ç§ä»£ç ï¼Œæ—¢å¯ä»¥é€šè¿‡å…¨å±€å˜é‡è®¿é—®åˆ°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡`require`çš„æ–¹å¼è®¿é—®åˆ°ã€‚æ¯”å¦‚æˆ‘ä»¬æœ€å¸¸è§çš„`jquery`ï¼š
![](https://gitee.com/itchenliang/img/raw/master/img/20210902155219.png)
![](https://gitee.com/itchenliang/img/raw/master/img/20210902155220.png)
å…¶å®å°±æ˜¯æŒ‰ç…§å…¨å±€çš„æ–¹å¼å†™`d.ts`ï¼Œå†™å®Œååœ¨æœ€ååŠ ä¸Šdeclare namespace "xxx"çš„æè¿°ï¼š
```js
declare namespace UUU{
 let a:number
}
 
declare module "UUU" {
 export = UUU
}
```
æ•ˆæœè¿™æ ·ï¼š
![](https://gitee.com/itchenliang/img/raw/master/img/20210902155400.png)
![](https://gitee.com/itchenliang/img/raw/master/img/20210902155401.png)

#### å…¶ä»–
æœ‰æ—¶å€™æˆ‘ä»¬æ‰©å±•äº†ä¸€äº›å†…ç½®å¯¹è±¡ã€‚æ¯”å¦‚æˆ‘ä»¬ç»™`Date`å¢åŠ äº†ä¸€ä¸ª`format`çš„å®ä¾‹æ–¹æ³•ï¼š
![](https://gitee.com/itchenliang/img/raw/master/img/20210902155501.png)
å¯¹åº”çš„`d.ts`å†™æ³•æ˜¯è¿™æ ·çš„ï¼š
```js
interface Date {
  format(f: string): string
}
```


## 86ã€typescript é‡åˆ°è¿‡ä»€ä¹ˆå‘
main.ts æŠ¥é”™ï¼ˆ Cannot find module './App.vue'.ï¼‰<br>
åŸå› ï¼š typescript ä¸èƒ½è¯†åˆ«.vue æ–‡ä»¶<br>
è§£å†³åŠæ³•ï¼š å¼•å…¥ vue çš„ typescript declare åº“


