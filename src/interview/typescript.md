# typescripté¢è¯•é¢˜æ±‡æ€»
TypeScript æ˜¯ Microsoft å¼€å‘çš„JavaScript çš„å¼€æºè¶…é›†ï¼Œç”¨äºåœ¨ä¸ç ´åç°æœ‰ç¨‹åºçš„æƒ…å†µä¸‹æ·»åŠ é™„åŠ åŠŸèƒ½ã€‚

## 1ã€ğŸ‘Typescriptæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆéœ€è¦ TypeScriptï¼ŸTypeScriptæœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ
TypeScript æ˜¯ç”± Microsoft å¼€å‘å’Œç»´æŠ¤çš„å…è´¹å¼€æºç¼–ç¨‹è¯­è¨€ã€‚**å®ƒæ˜¯ JavaScript çš„ä¸€ä¸ªè¶…é›†ï¼Œæ„å‘³ç€å®ƒåŒ…å«äº† JavaScript çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¹¶æ·»åŠ äº†é¢å¤–çš„é™æ€ç±»å‹æ£€æŸ¥å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹çš„ç‰¹æ€§ã€‚**

åŸºäºä»¥ä¸‹ç‰¹ç‚¹/åŸå› éœ€è¦ TypeScriptï¼š
- TypeScript å¿«é€Ÿã€ç®€å•ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œæ˜“äºå­¦ä¹ ã€‚
- TypeScript æ”¯æŒé¢å‘å¯¹è±¡çš„ç¼–ç¨‹ç‰¹æ€§ï¼Œä¾‹å¦‚ç±»ã€æ¥å£ã€ç»§æ‰¿ã€æ³›å‹ç­‰ã€‚
- TypeScript åœ¨ç¼–è¯‘æ—¶æä¾›é”™è¯¯æ£€æŸ¥åŠŸèƒ½ã€‚å®ƒå°†ç¼–è¯‘ä»£ç ï¼Œå¦‚æœå‘ç°ä»»ä½•é”™è¯¯ï¼Œå®ƒä¼šåœ¨è„šæœ¬è¿è¡Œä¹‹å‰çªå‡ºæ˜¾ç¤ºé”™è¯¯ã€‚
- TypeScript æ”¯æŒæ‰€æœ‰ JavaScript åº“ï¼Œå› ä¸ºå®ƒæ˜¯ JavaScript çš„è¶…é›†ã€‚
- TypeScript é€šè¿‡ä½¿ç”¨ç»§æ‰¿æ¥æ”¯æŒå¯é‡ç”¨æ€§ã€‚
- TypeScript ä½¿åº”ç”¨ç¨‹åºå¼€å‘å°½å¯èƒ½å¿«é€Ÿå’Œç®€å•ï¼ŒTypeScript çš„å·¥å…·æ”¯æŒä¸ºæˆ‘ä»¬æä¾›äº†è‡ªåŠ¨å®Œæˆã€ç±»å‹æ£€æŸ¥å’Œæºæ–‡æ¡£ã€‚
- TypeScript æ”¯æŒæœ€æ–°çš„ JavaScript åŠŸèƒ½ï¼ŒåŒ…æ‹¬ ECMAScript 2015ã€‚
- TypeScript æä¾›äº† ES6 çš„æ‰€æœ‰ä¼˜ç‚¹ä»¥åŠæ›´é«˜çš„ç”Ÿäº§åŠ›ã€‚
- TypeScript æ”¯æŒé™æ€ç±»å‹ã€å¼ºç±»å‹ã€æ¨¡å—ã€å¯é€‰å‚æ•°ç­‰ã€‚

ç‰¹æ€§ï¼š
- è·¨å¹³å°ï¼šTypeScript ç¼–è¯‘å™¨å¯ä»¥å®‰è£…åœ¨ä»»ä½•æ“ä½œç³»ç»Ÿä¸Šï¼ŒåŒ…æ‹¬ Windowsã€macOS å’Œ Linuxã€‚
- ES6 ç‰¹æ€§ï¼šTypeScript åŒ…å«è®¡åˆ’ä¸­çš„ ECMAScript 2015 (ES6) çš„å¤§éƒ¨åˆ†ç‰¹æ€§ï¼Œä¾‹å¦‚ç®­å¤´å‡½æ•°ã€‚
- é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼šTypeScript æä¾›æ‰€æœ‰æ ‡å‡†çš„ OOP åŠŸèƒ½ï¼Œå¦‚ç±»ã€æ¥å£å’Œæ¨¡å—ã€‚
- é™æ€ç±»å‹æ£€æŸ¥ï¼šTypeScript ä½¿ç”¨é™æ€ç±»å‹å¹¶å¸®åŠ©åœ¨ç¼–è¯‘æ—¶è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚å› æ­¤ï¼Œä½ å¯ä»¥åœ¨ç¼–å†™ä»£ç æ—¶å‘ç°ç¼–è¯‘æ—¶é”™è¯¯ï¼Œè€Œæ— éœ€è¿è¡Œè„šæœ¬ã€‚
- å¯é€‰çš„é™æ€ç±»å‹ï¼šå¦‚æœä½ ä¹ æƒ¯äº† JavaScript çš„åŠ¨æ€ç±»å‹ï¼ŒTypeScript è¿˜å…è®¸å¯é€‰çš„é™æ€ç±»å‹ã€‚
- DOM æ“ä½œï¼šæ‚¨å¯ä»¥ä½¿ç”¨ TypeScript æ¥æ“ä½œ DOM ä»¥æ·»åŠ æˆ–åˆ é™¤å®¢æˆ·ç«¯ç½‘é¡µå…ƒç´ ã€‚


## 2ã€ä½¿ç”¨ TypeScript æœ‰å“ªäº›å¥½å¤„ï¼Ÿ
1. æ›´å¥½çš„ç±»å‹æ£€æŸ¥ï¼šTypeScript æä¾›äº†é™æ€ç±»å‹æ£€æŸ¥åŠŸèƒ½ï¼Œå¯ä»¥åœ¨ç¼–è¯‘æ—¶æ£€æµ‹ç±»å‹é”™è¯¯ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯ã€‚
2. æ›´å¥½çš„ä»£ç æç¤ºå’Œè‡ªåŠ¨è¡¥å…¨ï¼šç”±äº TypeScript åŒ…å«äº†ç±»å‹ä¿¡æ¯ï¼Œç¼–ç è¿‡ç¨‹ä¸­å¯ä»¥è·å¾—æ›´å‡†ç¡®çš„ä»£ç æç¤ºå’Œè‡ªåŠ¨è¡¥å…¨ã€‚
3. æ›´å¥½çš„ä»£ç ç»´æŠ¤æ€§ï¼šTypeScript å¼ºåˆ¶è¿›è¡Œç±»å‹æ ‡æ³¨ï¼Œä½¿å¾—ä»£ç æ›´æ˜“è¯»ã€æ˜“ç†è§£ï¼Œä»è€Œå¢å¼ºäº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚
4. æ›´å¥½çš„åä½œå¼€å‘ä½“éªŒï¼šTypeScript æ˜ç¡®äº†å‡½æ•°å’Œæ–¹æ³•çš„è¾“å…¥å’Œè¾“å‡ºç±»å‹ï¼Œå› æ­¤å¯ä»¥æ›´å¥½åœ°åè°ƒå›¢é˜Ÿå¼€å‘å·¥ä½œã€‚
5. æ›´é«˜çš„ç”Ÿäº§åŠ›ï¼šä½¿ç”¨ TypeScript å¯ä»¥å‡å°‘ä»£ç ä¸­çš„é”™è¯¯å’Œè°ƒè¯•æ—¶é—´ï¼Œä»è€Œæé«˜å¼€å‘æ•ˆç‡ã€‚åŒæ—¶ï¼Œå®ƒè¿˜æä¾›äº†ä¸€äº›ä¾¿åˆ©çš„è¯­è¨€ç‰¹æ€§ï¼Œä¾‹å¦‚æ¥å£ã€æšä¸¾ç­‰ï¼Œå¯ä»¥ç®€åŒ–å¼€å‘è¿‡ç¨‹ã€‚



## 3ã€TypeScript çš„å†…ç½®æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ
å†…ç½®æ•°æ®ç±»å‹åœ¨ Typescript ä¸­ä¹Ÿç§°ä¸ºåŸå§‹æ•°æ®ç±»å‹ã€‚è¿™äº›å†…ç½®ç±»å‹å¦‚ä¸‹ï¼š
- **æ•°å­—å‹(number)**ï¼šç”¨äºè¡¨ç¤ºæ•°å­—ç±»å‹å€¼ã€‚TypeScript ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½å­˜å‚¨ä¸ºæµ®ç‚¹å€¼ã€‚è¯­æ³•ï¼š`let identifier: number = value`;
- **å­—ç¬¦ä¸²å‹(string)**ï¼šå®ƒè¡¨ç¤ºå­˜å‚¨ä¸º Unicode UTF-16 ä»£ç çš„å­—ç¬¦åºåˆ—ã€‚åœ¨è„šæœ¬ä¸­åŒ…å«å­—ç¬¦ä¸²æ–‡å­—ï¼Œæ–¹æ³•æ˜¯ç”¨å•å¼•å·æˆ–åŒå¼•å·å°†å®ƒä»¬æ‹¬èµ·æ¥ã€‚è¯­æ³•ï¼š`let identifier: string = " "`;
- **å¸ƒå°”å‹(boolean)**ï¼š ç”¨äºè¡¨ç¤ºä¸€ä¸ªé€»è¾‘å€¼ã€‚å½“ä½¿ç”¨å¸ƒå°”ç±»å‹æ—¶ï¼Œåªèƒ½å¾—åˆ°falseæˆ–trueçš„è¾“å‡ºã€‚å¸ƒå°”å€¼æ˜¯æŒ‡å®šæ¡ä»¶æ˜¯å¦ä¸ºtrueçš„çœŸå€¼ã€‚è¯­æ³•ï¼š`let bool = Boolean value`;
- **Nullç±»å‹**ï¼š Null è¡¨ç¤ºä¸€ä¸ªå€¼æœªå®šä¹‰çš„å˜é‡ã€‚ä¸èƒ½ç›´æ¥å¼•ç”¨ null ç±»å‹å€¼æœ¬èº«ã€‚Null ç±»å‹æ²¡æœ‰ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬åªèƒ½ä¸ºå®ƒåˆ†é…ä¸€ä¸ªç©ºå€¼ã€‚è¯­æ³•ï¼š`let num: number = null`;
- **Undefinedç±»å‹**ï¼šå®ƒæ˜¯æœªå®šä¹‰æ–‡å­—çš„ç±»å‹ã€‚Undefined ç±»å‹è¡¨ç¤ºæ‰€æœ‰æœªåˆå§‹åŒ–çš„å˜é‡ã€‚å®ƒæ²¡æœ‰ç”¨ï¼Œå› ä¸ºåªèƒ½ä¸ºå…¶åˆ†é…ä¸€ä¸ªæœªå®šä¹‰çš„å€¼ã€‚è¿™ç§å†…ç½®ç±»å‹æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚è¯­æ³•ï¼š`let num: number = undefined`;
- **Symbolç±»å‹(symbol)**

é™¤æ­¤ä¹‹å¤–ï¼ŒTypeScript è¿˜æ”¯æŒä»¥ä¸‹å¤åˆç±»å‹ï¼š
- **æ•°ç»„å‹(array)**ï¼šè¡¨ç¤ºä¸€ä¸ªå…ƒç´ ç±»å‹ä¸º T çš„æ•°ç»„ã€‚ä¾‹å¦‚ï¼Œnumber[] è¡¨ç¤ºä¸€ä¸ªæ•°å­—æ•°ç»„ã€‚
- **å…ƒç»„å‹(tuple)**ï¼šè¡¨ç¤ºå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ã€‚ä¾‹å¦‚ï¼Œ[string, number] è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²å’Œæ•°å­—ç»„æˆçš„å…ƒç»„ã€‚
- **æšä¸¾å‹(enum)**ï¼šè¡¨ç¤ºä¸€ä¸ªå‘½åçš„å¸¸é‡æšä¸¾ã€‚
- **ä»»æ„ç±»å‹(any)**ï¼šè¡¨ç¤ºä»»æ„ç±»å‹ã€‚
- **æœªçŸ¥å‹(unknown)**ï¼šä¸ any ç±»ä¼¼ï¼Œä½†æ˜¯åœ¨æ›´ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ä¸‹ä½¿ç”¨ã€‚
- **å¯¹è±¡å‹(object)**ï¼šè¡¨ç¤ºéåŸå§‹ç±»å‹çš„å¯¹è±¡ã€‚
- **ç©ºç±»å‹(void)**ï¼švoidæ˜¯ä¸è¿”å›ä»»ä½•ç±»å‹å€¼çš„å‡½æ•°çš„è¿”å›ç±»å‹ã€‚å®ƒç”¨äºæ²¡æœ‰å¯ç”¨æ•°æ®ç±»å‹çš„åœ°æ–¹ã€‚è¯­æ³•ï¼š`let unusable: void = undefined`;

è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ç±»å‹ï¼Œä¾‹å¦‚ neverã€union å’Œ intersectionï¼Œå®ƒä»¬å¯ä»¥ç”¨äºæè¿°æ›´å¤æ‚çš„ç±»å‹ã€‚


## 4ã€è°å¼€å‘äº†Typescriptï¼ŸTypeScript ç›®å‰çš„ç¨³å®šç‰ˆæœ¬æ˜¯ä»€ä¹ˆï¼Ÿ
Typescriptç”± Anders Hejlsberg å¼€å‘ï¼Œä»–ä¹Ÿæ˜¯ C# è¯­è¨€å¼€å‘å›¢é˜Ÿçš„æ ¸å¿ƒæˆå‘˜ä¹‹ä¸€ã€‚TypeScript 4.9ç°åœ¨å¯ç”¨ï¼Œ5.0ç›®å‰å¤„äºæµ‹è¯•é˜¶æ®µã€‚


## 5ã€TypeScript ä¸­çš„æ¥å£æ˜¯ä»€ä¹ˆï¼Ÿ
> æ¥å£æ˜¯ä¸€ç³»åˆ—æŠ½è±¡æ–¹æ³•çš„å£°æ˜ï¼Œæ˜¯ä¸€äº›æ–¹æ³•ç‰¹å¾çš„é›†åˆã€‚ï¼Œè¿™äº›æ–¹æ³•éƒ½åº”è¯¥æ˜¯æŠ½è±¡çš„ï¼Œéœ€è¦ç”±å…·ä½“çš„ã€Œç±»ã€å»å®ç°ï¼Œç„¶åç¬¬ä¸‰æ–¹å°±å¯ä»¥é€šè¿‡è¿™ç»„æŠ½è±¡æ–¹æ³•è°ƒç”¨ï¼Œè®©å…·ä½“çš„ç±»æ‰§è¡Œå…·ä½“çš„æ–¹æ³•ã€‚**ç®€å•æ¥è®²ï¼Œä¸€ä¸ªæ¥å£æ‰€æè¿°çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ç›¸å…³çš„å±æ€§å’Œæ–¹æ³•ï¼Œä½†å¹¶ä¸æä¾›å…·ä½“åˆ›å»ºæ­¤å¯¹è±¡å®ä¾‹çš„æ–¹æ³•ã€‚**

æ¥å£æ˜¯åœ¨åº”ç”¨ç¨‹åºä¸­å……å½“åˆçº¦çš„ç»“æ„ã€‚å®ƒå®šä¹‰äº†ç±»è¦éµå¾ªçš„è¯­æ³•ï¼Œè¿™æ„å‘³ç€å®ç°æ¥å£çš„ç±»å¿…é¡»å®ç°å…¶æ‰€æœ‰æˆå‘˜ã€‚å®ƒä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œä½†å¯ä»¥è¢«å®ç°å®ƒçš„ç±»å¯¹è±¡å¼•ç”¨ã€‚TypeScript ç¼–è¯‘å™¨ä½¿ç”¨æ¥å£è¿›è¡Œç±»å‹æ£€æŸ¥(ä¹Ÿç§°ä¸ºâ€œé¸­å­ç±»å‹â€æˆ–â€œç»“æ„å­ç±»å‹â€)ï¼Œæ— è®ºå¯¹è±¡æ˜¯å¦å…·æœ‰ç‰¹å®šç»“æ„ã€‚
```ts
interface IEmployee {
  empCode: number;
  empName: string;
  getSalary: (number) => number; // arrow function
  getManagerName(number): string; 
}
```
æ¥å£ä»…å£°æ˜æ–¹æ³•å’Œå­—æ®µã€‚å®ƒä¸èƒ½ç”¨äºæ„å»ºä»»ä½•ä¸œè¥¿ã€‚æ¥å£æ— éœ€è½¬æ¢ä¸º JavaScript å³å¯æ‰§è¡Œã€‚å®ƒä»¬å¯¹è¿è¡Œæ—¶ JavaScript çš„å½±å“ä¸ºé›¶ã€‚å› æ­¤ï¼Œä»–ä»¬çš„å”¯ä¸€ç›®çš„æ˜¯åœ¨å¼€å‘é˜¶æ®µæä¾›å¸®åŠ©ã€‚


## 6ã€TypeScript ä¸­çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿ
**æ¨¡å—æ˜¯typescriptç»„ç»‡ä»£ç çš„ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥åœ¨æ¨¡å—ä¸­åˆ›å»ºä¸€ç»„ç›¸å…³å˜é‡ã€å‡½æ•°ã€ç±»å’Œæ¥å£ç­‰æ•°æ®ã€‚**
> æ¨¡å—æ˜¯åœ¨å…¶è‡ªèº«çš„ä½œç”¨åŸŸé‡Œæ‰§è¡Œï¼Œå¹¶ä¸æ˜¯å…¨å±€ä½œç”¨åŸŸï¼Œæ„å‘³ç€å®šä¹‰åœ¨æ¨¡å—é‡Œçš„å˜é‡ã€å‡½æ•°å’Œç±»ç­‰æˆå‘˜åœ¨æ¨¡å—å¤–æ˜¯ä¸å¯è§çš„ï¼Œé™¤éä½¿ç”¨æ˜ç¡®çš„`export`å¯¼å‡ºä»–ä»¬ï¼Œç„¶ååœ¨å…¶ä»–æ¨¡å—ä¸­ä½¿ç”¨`import`å¯¼å…¥å˜é‡ã€å‡½æ•°å’Œç±»ç­‰æˆå‘˜ã€‚

- ä½¿ç”¨æ–¹å¼ä¸€: é€šè¿‡`module`å…³é”®å­—åˆ›å»º
  ```ts
  module IShape {
    export interface IShapeInter {
      draw()
    }
  }
  export class Circle implements IShape.IShapeInter {
    draw() {
      console.log('Circle ....')
    }
  }
  ```
- ä½¿ç”¨æ–¹å¼äºŒï¼šå•ç‹¬æŠ½ç¦»ä¸€ä¸ª`ts`æ–‡ä»¶
  ```ts
  // IShape.ts
  export interface IShapeInter {
    draw()
  }
  // Circle.ts
  import { IShapeInter } from './Ishape'
  export class Circle implements IShapeInter {
    draw() {
      console.log('Circle ....')
    }
  }
  ```


## 7ã€Typescript ä¸­çš„å‘½åç©ºé—´æ˜¯ä»€ä¹ˆï¼Ÿ å¦‚ä½•åœ¨ Typescript ä¸­å£°æ˜å‘½åç©ºé—´ï¼Ÿ
åœ¨ TypeScript ä¸­ï¼Œå‘½åç©ºé—´æ˜¯ä¸€ç§å°†ä»£ç ç»„ç»‡æˆé€»è¾‘æ¨¡å—çš„æ–¹å¼ã€‚å¯ä»¥ä½¿ç”¨å‘½åç©ºé—´æ¥é¿å…å…¨å±€ä½œç”¨åŸŸä¸­çš„åç§°å†²çªï¼Œå¹¶åœ¨é¡¹ç›®ä¸­æ›´å¥½åœ°ç»„ç»‡å’Œç®¡ç†ä»£ç ã€‚å¯ä»¥ä½¿ç”¨`namespace`å…³é”®å­—æ¥åˆ›å»ºä¸€ä¸ªå‘½åç©ºé—´ï¼Œç„¶ååœ¨å…¶ä¸­å®šä¹‰å˜é‡ã€å‡½æ•°ã€ç±»ç­‰ã€‚å‘½åç©ºé—´ä¸­çš„æˆå‘˜å¯ä»¥é€šè¿‡å¯¼å‡ºå…³é”®å­—`export`å…¬å¼€ï¼Œä»¥ä¾¿åœ¨å…¶ä»–æ–‡ä»¶æˆ–å‘½åç©ºé—´ä¸­ä½¿ç”¨ã€‚å‘½åç©ºé—´æ—©æœŸä¹Ÿç§°ä¸ºå†…éƒ¨æ¨¡å—ã€‚
> å‘½åç©ºé—´çš„ç›®çš„å°±æ˜¯è§£å†³é‡åé—®é¢˜ã€‚
- 1ã€ä½¿ç”¨å‘½åç©ºé—´æ¼”ç¤ºé‡åé—®é¢˜
    ```ts
    namespace Shapes {
      export interface Shape {
        draw(): void;
      }
      export class Circle implements Shape {
        // ...
      }
      export class Square implements Shape {
        // ...
      }
    }
    let circle = new Shapes.Circle();
    let square = new Shapes.Square();
    ```
    åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ`Shapes`æ˜¯ä¸€ä¸ªå‘½åç©ºé—´ï¼ŒåŒ…å«äº†`Shape`æ¥å£å’Œ`Circle`ã€`Square`ç±»ã€‚é€šè¿‡å°†è¿™äº›ç±»å‹å®šä¹‰åœ¨å‘½åç©ºé—´ä¸­ï¼Œå¯ä»¥é¿å…ä¸å…¨å±€ä½œç”¨åŸŸä¸­çš„å…¶ä»–å‘½åå†²çªã€‚åŒæ—¶ï¼Œå¯ä»¥åœ¨å¤–éƒ¨ä½¿ç”¨`Shapes.Circle`ã€`Shapes.Square`ç­‰æ–¹å¼è®¿é—®è¿™äº›ç±»å‹ã€‚
- 2ã€åµŒå¥—å‘½åç©ºé—´çš„ç®€å•ä½¿ç”¨
  > å‘½åç©ºé—´æ”¯æŒåµŒå¥—ï¼Œå¯ä»¥å°†å‘½åç©ºé—´å®šä¹‰åœ¨å¦å¤–ä¸€ä¸ªå‘½åç©ºé—´é‡Œé¢ï¼Œä½¿ç”¨`export`å¯¼å‡ºå‘½åç©ºé—´
  - åˆ›å»º`oneNest.ts`æ–‡ä»¶
    ```ts
    namespace XiaoGuai {
      export namespace Sam {
        export class Speak {
          public speakTs(oneStr: string) {
            return oneStr;
          }
        }
      }
    }
    ```
  - åˆ›å»º`oneSpeak.ts`æ–‡ä»¶: æˆå‘˜çš„è®¿é—®ä½¿ç”¨ç‚¹å·`.`æ¥å®ç°
    ```ts
    /// <reference path = "oneNest.ts" />
    let oneStr = new XiaoGuai.Sam.Speak(); 
    console.log(oneStr.speakTs("hello ts")); //hello ts
    ```


## 8ã€TypeScript ä¸­çš„ç±»æ˜¯ä»€ä¹ˆï¼Ÿä½ å¦‚ä½•å®šä¹‰å®ƒä»¬ï¼Ÿ
**ç±»æè¿°äº†æ‰€åˆ›å»ºçš„å¯¹è±¡å…±åŒçš„å±æ€§å’Œæ–¹æ³•**ã€‚å¯ä»¥è®¤ä¸ºæ˜¯ä¸ºæè¿°æŸç§æŠ½è±¡è€Œè‡ªå®šä¹‰çš„ä¸€ç§ç±»å‹ã€‚
> è¯¥ç±»å‹é€šå¸¸ä¼šåŒ…å«ä¸‰ç§æˆå‘˜: é€šè¿‡å…³é”®å­—`class`å®šä¹‰ç±»
- å­—æ®µ: å­—æ®µæ˜¯ç±»é‡Œé¢å£°æ˜çš„å˜é‡ã€‚å­—æ®µè¡¨ç¤ºå¯¹è±¡çš„æœ‰å…³æ•°æ®ã€‚
- æ„é€ å‡½æ•°: ç±»å®ä¾‹åŒ–æ—¶è°ƒç”¨ï¼Œå¯ä»¥ä¸ºç±»çš„å¯¹è±¡åˆ†é…å†…å­˜ã€‚
- æ–¹æ³•: æ–¹æ³•ä¸ºå¯¹è±¡è¦æ‰§è¡Œçš„æ“ä½œã€‚
```ts
class Student {
  // å­—æ®µ
  studCode: number;    
  studName: string;
  // æ„é€ å‡½æ•°
  constructor(code: number, name: string) {    
    this.studName = name;    
    this.studCode = code;    
  }
  // æ–¹æ³•
  getGrade() {    
    return "A+";    
  }    
}
```
ä½¿ç”¨`new`å…³é”®å­—æ¥å®ä¾‹åŒ–ç±»çš„å¯¹è±¡
```ts
var student = new Student(1, 'å¼ ä¸‰')
```
ç±»ä¸­çš„å­—æ®µå±æ€§å’Œæ–¹æ³•å¯ä»¥ä½¿ç”¨`.`å·æ¥è®¿é—®
```ts
// è®¿é—®å±æ€§
student.studName

// è®¿é—®æ–¹æ³•
student.getGrade()
```
ç±»çš„ç‰¹ç‚¹æ˜¯:
- ç»§æ‰¿
- å°è£…
- å¤šæ€æ€§
- æŠ½è±¡


## 9ã€å¦‚ä½•åœ¨TypeScriptä¸­å®ç°ç»§æ‰¿ï¼Ÿ
ç»§æ‰¿æ˜¯ä¸€ç§ä»å¦ä¸€ä¸ªç±»è·å–ä¸€ä¸ªç±»çš„å±æ€§å’Œè¡Œä¸ºçš„æœºåˆ¶ã€‚å®ƒæ˜¯ OOP è¯­è¨€çš„ä¸€ä¸ªé‡è¦æ–¹é¢ï¼Œå…·æœ‰ä»ç°æœ‰ç±»åˆ›å»ºæ–°ç±»çš„èƒ½åŠ›ã€‚å…¶æˆå‘˜è¢«ç»§æ‰¿çš„ç±»ç§°ä¸ºåŸºç±»ï¼Œç»§æ‰¿è¿™äº›æˆå‘˜çš„ç±»ç§°ä¸ºæ´¾ç”Ÿç±»ã€‚
> å¯ä»¥ä½¿ç”¨ `extend` å…³é”®å­—æ¥å®ç°ç»§æ‰¿ã€‚
```ts
class Shape {     
  Area:number     
  constructor(area:number) {     
    this.Area = area    
  }     
}     
class Circle extends Shape {     
  display():void {     
    console.log("Area of the circle: "+this.Area)     
  }     
}    
var obj = new Circle(320);     
obj.display()  //Output: Area of the circle: 320
```


## 10ã€åœ¨TypeScriptä¸­å¦‚ä½•ä»å­ç±»è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ï¼Ÿ
ä½ å¯ä»¥ä½¿ç”¨è¯¥`super()`å‡½æ•°æ¥è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ã€‚
```ts
class Animal {
  name: string;
  constructor(theName: string) {
    this.name = theName;
  }
  move(distanceInMeters: number = 0) {
    console.log(`${this.name} moved ${distanceInMeters}m.`);
  }
}
class Snake extends Animal {
  constructor(name: string) {
    super(name);
  }
  move(distanceInMeters = 5) {
    console.log("Slithering...");
    super.move(distanceInMeters);
  }
}
```


## 11ã€TypeScript ä¸­çš„ç±»å‹æ–­è¨€æ˜¯ä»€ä¹ˆï¼Ÿ
TypeScript ä¸­çš„ç±»å‹æ–­è¨€ï¼ˆType Assertionï¼‰æ˜¯ä¸€ç§å‘Šè¯‰ç¼–è¯‘å™¨æŸä¸ªå€¼çš„ç±»å‹çš„æ–¹å¼ã€‚å®ƒå¯ä»¥ç”¨äºåœ¨ä»£ç ä¸­æŒ‡å®šä¸€ä¸ªå˜é‡æˆ–è¡¨è¾¾å¼çš„ç±»å‹ï¼Œä»è€Œè®© TypeScript ç¼–è¯‘å™¨ç›¸ä¿¡è¯¥ç±»å‹æ˜¯æ­£ç¡®çš„ã€‚
> **ç±»å‹æ–­è¨€ç”¨æ¥å‘Šè¯‰ç¼–è¯‘å™¨ä½ æ¯”å®ƒæ›´äº†è§£è¿™ä¸ªç±»å‹ï¼Œå¹¶ä¸”å®ƒä¸åº”è¯¥å†å‘å‡ºé”™è¯¯**ã€‚**ç±»å‹æ–­è¨€çš„å¸¸ç”¨ä¸¤ç§æ–¹å¼: `as`å’Œ`å°–æ‹¬å·`**ã€‚

ç±»å‹æ–­è¨€çš„ä¸€ä¸ªå¸¸è§ç”¨ä¾‹æ˜¯å½“ä½ ä» JavaScript è¿ç§»åˆ° TypeScript æ—¶ï¼š
```js
const foo = {};
foo.bar = 123; // Error: 'bar' å±æ€§ä¸å­˜åœ¨äº â€˜{}â€™
foo.bas = 'hello'; // Error: 'bas' å±æ€§ä¸å­˜åœ¨äº '{}'
```
è¿™é‡Œçš„ä»£ç å‘å‡ºäº†é”™è¯¯è­¦å‘Šï¼Œå› ä¸º`foo`çš„ç±»å‹æ¨æ–­ä¸º`{}`ï¼Œå³æ²¡æœ‰å±æ€§çš„å¯¹è±¡ã€‚å› æ­¤ï¼Œä½ ä¸èƒ½åœ¨å®ƒçš„å±æ€§ä¸Šæ·»åŠ `bar`æˆ–`bas`ï¼Œä½ å¯ä»¥é€šè¿‡ç±»å‹æ–­è¨€æ¥é¿å…æ­¤é—®é¢˜ï¼š
```ts
interface Foo {
  bar: number;
  bas: string;
}
const foo = {} as Foo;
foo.bar = 123;
foo.bas = 'hello';
```
é™¤äº†ä¸Šé¢çš„`as`å†™æ³•ä»¥å¤–è¿˜æœ‰ä¸€ç§`å°–æ‹¬å·`å†™æ³•
```ts
const foo = <Foo>{};
foo.bar = 123;
foo.bas = 'hello';
```


## 12ã€Typescriptä¸­çš„å˜é‡æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•åœ¨ Typescript ä¸­åˆ›å»ºå˜é‡ï¼Ÿ
å˜é‡æ˜¯å­˜å‚¨ä½ç½®ï¼Œç”¨äºå­˜å‚¨ç¨‹åºè¦å¼•ç”¨å’Œä½¿ç”¨çš„å€¼/ä¿¡æ¯ã€‚å®ƒå……å½“ç¨‹åºä¸­ä»·å€¼çš„å®¹å™¨ã€‚å¯ä»¥ä½¿ç”¨`var`å…³é”®å­—å£°æ˜å®ƒï¼Œåº”åœ¨ä½¿ç”¨å‰å£°æ˜ã€‚åœ¨ Typescript ä¸­å£°æ˜å˜é‡æ—¶ï¼Œåº”éµå¾ªæŸäº›è§„åˆ™
- å˜é‡åç§°å¿…é¡»æ˜¯å­—æ¯æˆ–æ•°å­—ã€‚
- å˜é‡åä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚
- å˜é‡åä¸èƒ½åŒ…å«ç©ºæ ¼å’Œç‰¹æ®Šå­—ç¬¦ï¼Œä¸‹åˆ’çº¿ (`_`) å’Œç¾å…ƒ (`$`) ç¬¦å·é™¤å¤–ã€‚

å¯ä»¥é€šè¿‡ä»¥ä¸‹å››ç§æ–¹å¼ä¹‹ä¸€å£°æ˜å˜é‡ï¼š
- åœ¨å•ä¸ªè¯­å¥ä¸­å£°æ˜ç±»å‹å’Œå€¼ã€‚è¯­æ³•ï¼š`var [identifier] : [type-annotation] = value;`ã€‚
- å£°æ˜æ²¡æœ‰å€¼çš„ç±»å‹ã€‚è¯­æ³•ï¼š`var [identifier] : [type-annotation]`;
- ä¸å¸¦ç±»å‹å£°æ˜å…¶å€¼ã€‚è¯­æ³•ï¼š`var [identifier] = value`;
- ä¸å¸¦å€¼å’Œç±»å‹çš„å£°æ˜ã€‚è¯­æ³•ï¼š`var [identifier]`;


## 13ã€Mixinæ˜¯ä»€ä¹ˆï¼Ÿè§£é‡Šå¦‚ä½•ä½¿ç”¨ TypeScript mixinã€‚
æ‰€è°“Mixinæ¨¡å¼ï¼Œå°±æ˜¯å¯¹è±¡ç»§æ‰¿çš„ä¸€ç§æ›¿ä»£æ–¹æ¡ˆï¼Œä¸­æ–‡è¯‘ä¸º`"æ··å…¥(mix in)"`ï¼Œæ„ä¸ºåœ¨ä¸€ä¸ªå¯¹è±¡ä¹‹ä¸­æ··å…¥å¦å¤–ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚
::: tip Typescript mixin
1. å¯¹è±¡æ··å…¥
  > å¯ä»¥ä½¿ç”¨es6çš„`Object.assign`åˆå¹¶å¤šä¸ªå¯¹è±¡ï¼›
  ```ts
  interface Name {
    name: string
  }
  interface Age {
    age: number
  }
  interface Sex {
    sex: number
  }
  let people1: Name = { name: "å°å‰‘" }
  let people2: Age = { age: 20 }
  let people3: Sex = { sex: 1 }
  const people = Object.assign(people1,people2,people3)
  ```
2. ç±»çš„æ··å…¥
  ```ts
  class A {
    type: boolean = false;
    changeType() {
      this.type = !this.type
    }
  }
  class B {
    name: string = 'å¼ ä¸‰';
    getName(): string {
      return this.name;
    }
  }
  ```
  ä¸‹é¢åˆ›å»ºä¸€ä¸ªç±»ï¼Œç»“åˆäº†è¿™ä¸¤ä¸ª`mixins`
  > æ³¨æ„: æ²¡ä½¿ç”¨`extends`è€Œæ˜¯ä½¿ç”¨`implements`ã€‚æŠŠç±»å½“æˆäº†æ¥å£
  ```ts
  class C implements A,B{
    type: boolean
    changeType: () => void;
    name: string;
    getName: () => string
  }
  ```
  æœ€åï¼Œåˆ›å»ºè¿™ä¸ªå¸®åŠ©å‡½æ•°ï¼Œå¸®æˆ‘ä»¬åšæ··å…¥æ“ä½œã€‚å®ƒä¼šéå†`mixins`ä¸Šçš„æ‰€æœ‰å±æ€§ï¼Œå¹¶å¤åˆ¶åˆ°ç›®æ ‡ä¸Šå»ï¼ŒæŠŠä¹‹å‰çš„å ä½å±æ€§æ›¿æ¢æˆçœŸæ­£çš„å®ç°ä»£ç `Object.getOwnPropertyNames()`å¯ä»¥è·å–å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œé™¤å»ä»–ç»§æ‰¿æ¥çš„å±æ€§ï¼Œå¯¹å®ƒæ‰€æœ‰çš„å±æ€§éå†ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œéå†ä¸€ä¸‹å®ƒæ‰€æœ‰çš„å±æ€§åã€‚
  ```ts
  Mixins(C, [A, B])
  function Mixins(curCls: any, itemCls: any[]) {
    itemCls.forEach(item => {
      Object.getOwnPropertyNames(item.prototype).forEach(name => {
        curCls.prototype[name] = item.prototype[name]
      })
    })
  }
  ```
:::


## 14ã€TypeScript ä¸­å¦‚ä½•æ£€æŸ¥ null å’Œ undefinedï¼Ÿ
- 1ã€ä½¿ç”¨Nullish Coalescingæ£€æŸ¥`null`å’Œ`undefined`
  > Nullish Coalescing(`??`)æ˜¯å¦ä¸€ç§è¯†åˆ«`null`å’Œ`undefined`å€¼çš„æ–¹æ³•ã€‚å½“ä¸`null`å’Œ`undefined`ç›¸å¯¹æ—¶ï¼Œå®ƒå°†è¿”å›é»˜è®¤å€¼ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œé›¶æˆ–ç©ºå­—ç¬¦ä¸²æ˜¯åº”è¯¥ä½¿ç”¨çš„å®é™…å€¼ï¼Œä½†æ˜¯å½“`||`è¢«ä½¿ç”¨ï¼Œå®ƒä¸ä¼šè¿”å›é‚£äº›å€¼ã€‚å› æ­¤ï¼Œä½¿ç”¨ Nullish Coalescing (`??`) è¿ç®—ç¬¦ï¼Œå¯ä»¥è¿”å›è¿™äº›å€¼ã€‚å› æ­¤`||`å¯ä»¥æ¢æˆ`??`å½“ä½¿ç”¨é»˜è®¤å€¼æ—¶ã€‚
  ```ts
  null ?? "Value"; // "Value"
  undefined ?? "Value"; // "Value"
  false ?? true; // false
  0 ?? 100; // 0
  "" ?? "n/a"; // ""
  NaN ?? 0; // NaN
  ```
- 2ã€ä½¿ç”¨`==`å’Œ`===`è¿ç®—ç¬¦æ£€æŸ¥`null`å’Œ`undefined`
  ```js
  var a: number;  
  var b: number = null;  
  function check(x, name) {  
    if (x == null) {  
      console.log(name + ' == null');  
    }  
    if (x === null) {  
      console.log(name + ' === null');  
    }  
    if (typeof x === 'undefined') {  
      console.log(name + ' is undefined');  
    }  
  }  
  check(a, 'a');  
  check(b, 'b');
  ```
  è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š
  ```js
  "a == null"
  "a is undefined"
  "b == null"
  "b === null"
  ```


## 15ã€TypeScript ä¸­çš„ getter/setter æ˜¯ä»€ä¹ˆï¼Ÿä½ å¦‚ä½•ä½¿ç”¨å®ƒä»¬ï¼Ÿ
`Getter`å’Œ`setter`æ˜¯ç‰¹æ®Šç±»å‹çš„æ–¹æ³•ï¼Œå­˜å–å™¨å¯ä»¥è®©æˆ‘ä»¬å¯ä»¥æœ‰æ•ˆçš„æ§åˆ¶å¯¹"å¯¹è±¡"ä¸­çš„ä¸­çš„æˆå‘˜çš„è®¿é—®ã€‚
> åœ¨è·å–å€¼çš„æ—¶å€™ä¼šæ‰§è¡Œ`get`ï¼Œåœ¨ä¿®æ”¹æˆ–è€…è¯´é‡æ–°è®¾ç½®å€¼çš„æ—¶å€™ä¼šæ‰§è¡Œ`set`
```ts
class Person{
  firstName: string //å§“æ°
  lastName: string  //åå­—
  constructor(firstName: string, lastName: string) {
    console.log('åœ¨å®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™, æ„é€ å™¨è¢«æ‰§è¡Œ')
    this.firstName = firstName
    this.lastName = lastName
  }
  // å¯¹æ•°æ®è¿›è¡Œè¯»å–
  get fullName() {
    console.log('getæ–¹æ³•è¢«æ‰§è¡Œäº†')
    return this.firstName+"-"+this.lastName
  }
  // å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹
  set fullName(str: string) {
    console.log('setæ–¹æ³•è¢«æ‰§è¡Œäº†')
    this.firstName = str.split('-')[0]
    this.lastName = str.split('-')[1]
  }
}

const per = new Person('å¼ ', 'æ— å¿Œ');
// ä¼šå»æ‰§è¡Œgetæ–¹æ³•,å› ä¸ºè·å–å€¼å—
console.log(per.fullName)
// ä¼šå»æ‰§è¡Œsetæ–¹æ³•ï¼›å› ä¸ºä½ ä¿®æ”¹äº†å€¼
per.fullName = 'æ-å››'
```


## 16ã€å¦‚ä½•å…è®¸æ¨¡å—å¤–èƒ½å¤Ÿè®¿é—®æ¨¡å—å†…å®šä¹‰çš„ç±»ï¼Ÿ
ä½ å¯ä»¥ä½¿ç”¨`export`å…³é”®å­—æ‰“å¼€æ¨¡å—ä»¥ä¾›åœ¨æ¨¡å—å¤–ä½¿ç”¨ã€‚
```ts
module Admin {
  export class Employee {
    constructor(name: string, email: string) { }
  }
  let alex = new Employee('alex', 'alex@gmail.com');
}
let nick = new Admin.Employee('nick', 'nick@yahoo.com');
```


## 17ã€å¦‚ä½•ä½¿ç”¨ Typescript å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼Ÿ
- 1ã€ä½¿ç”¨`parseInt`æˆ–`parseFloat`å‡½æ•°åˆ†åˆ«å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°æˆ–æµ®ç‚¹æ•°
  ```ts
  var x = '32'
  var y: number = parseInt(x)
  ```
- 2ã€è¿˜å¯ä»¥ä½¿ç”¨`ä¸€å…ƒè¿ç®—ç¬¦+`å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæœ€åˆé€‚çš„æ•°å­—ç±»å‹
  - `â€œ3â€`æˆä¸ºæ•´æ•°`3`
  - è€Œ`â€œ3.14â€`æˆä¸ºæµ®ç‚¹æ•°`3.14`
  ```ts
  var x = "32";
  var y: number = +x;
  ```


## 18ã€TypeScript å’Œ JavaScript æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
TypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼Œå®ƒåœ¨ JavaScript åŸºç¡€ä¹‹ä¸Šæ‰©å±•äº†ä¸€äº›æ–°çš„è¯­è¨€ç‰¹æ€§å’Œå·¥å…·ï¼ŒåŒ…æ‹¬é™æ€ç±»å‹æ£€æŸ¥ã€ç±»ã€æ¥å£ã€æšä¸¾ç­‰ã€‚
> ä½¿å¾—ä»£ç æ›´æ˜“è¯»ã€æ˜“ç†è§£ã€æ˜“ç»´æŠ¤ï¼ŒåŒæ—¶ä¹Ÿæé«˜äº†å¼€å‘æ•ˆç‡ã€‚

ä»¥ä¸‹æ˜¯ TypeScript å’Œ JavaScript ä¹‹é—´çš„ä¸»è¦åŒºåˆ«ï¼š
1. ç±»å‹ç³»ç»Ÿï¼šTypeScript å¼•å…¥äº†é™æ€ç±»å‹ç³»ç»Ÿï¼Œå¯ä»¥åœ¨ç¼–ç æ—¶æ£€æµ‹ç±»å‹é”™è¯¯ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯å’Œè°ƒè¯•æ—¶é—´ã€‚JavaScript æ˜¯ä¸€ç§åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œå®ƒä¸ä¼šåœ¨ç¼–è¯‘æ—¶è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œåªæœ‰åœ¨è¿è¡Œæ—¶æ‰ä¼šæ£€æŸ¥ç±»å‹é”™è¯¯ã€‚
2. ç±»å’Œæ¥å£ï¼šTypeScript æ”¯æŒç±»å’Œæ¥å£ï¼Œè¿™ä½¿å¾—ä»£ç æ›´æ˜“è¯»ã€æ˜“ç†è§£ï¼Œä»è€Œå¢å¼ºäº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚JavaScript ä¸­æ²¡æœ‰ç±»å’Œæ¥å£çš„æ¦‚å¿µï¼Œä»£ç é€šå¸¸ä½¿ç”¨åŸå‹ç»§æ‰¿æ¥å®ç°ç±»ä¼¼çš„åŠŸ
3. æšä¸¾ç±»å‹ï¼šTypeScript æä¾›äº†æšä¸¾ç±»å‹ï¼Œå¯ä»¥ä¸ºä¸€ç»„æ•°å€¼èµ‹äºˆæ›´åŠ å‹å¥½çš„åç§°ï¼Œä½¿ä»£ç æ›´æ˜“è¯»ã€æ˜“ç†è§£ã€‚JavaScript æ²¡æœ‰å†…ç½®çš„æšä¸¾ç±»å‹ï¼Œä½†å¯ä»¥é€šè¿‡å¯¹è±¡æˆ–å¸¸é‡æ¥æ¨¡æ‹Ÿã€‚
4. å·¥å…·æ”¯æŒï¼šTypeScript å¯ä»¥ä½¿ç”¨å¸¸è§çš„ä»£ç ç¼–è¾‘å™¨å’Œ IDE ï¼ˆå¦‚ Visual Studio Codeã€WebStorm ç­‰ï¼‰æä¾›æ›´å¥½çš„å¼€å‘ä½“éªŒï¼Œä¾‹å¦‚è‡ªåŠ¨è¡¥å…¨ã€é‡æ„ç­‰ã€‚åŒæ—¶ï¼ŒTypeScript è¿˜æä¾›äº†å‘½ä»¤è¡Œç¼–è¯‘å·¥å…·å’Œåº“ç®¡ç†å™¨ï¼Œæ–¹ä¾¿ä»£ç çš„æ„å»ºå’Œå‘å¸ƒã€‚


## 19ã€TypeScript ä¸­çš„ JSX æ˜¯ä»€ä¹ˆï¼Ÿå¯ä»¥åœ¨ TypeScript ä¸­ä½¿ç”¨ JSX å—ï¼Ÿ
JSXæ˜¯ä¸€ç§JavaScriptçš„è¯­æ³•æ‰©å±•ï¼Œå…¨ç§°`JavaScript XML`ï¼Œå®ƒå…è®¸åœ¨ JavaScript å’Œ TypeScript ä¸­ç¼–å†™ç±» XML ä»£ç ã€‚å®ƒæœ€åˆæ˜¯ä¸º React åº“è®¾è®¡çš„ï¼Œç”¨äºæè¿° UI ç»„ä»¶çš„ç»“æ„å’Œæ ·å¼ã€‚

åœ¨typescriptä¸­ä½¿ç”¨JSXï¼Œå¿…é¡»åšä¸¤ä»¶äº‹:
- ä½¿ç”¨`.tsx`(æ›¿ä»£`.ts`)æ‰©å±•åå‘½åæ–‡ä»¶
- å¯ç”¨`jsx`é€‰é¡¹: `tsconfig.json`é…ç½®æ–‡ä»¶çš„`compilerOptions`é‡Œè®¾ç½®é€‰é¡¹`"jsx": "react"`
```ts
interface Props {
  name: string;
}

function Greeting(props: Props) {
  return <h1>Hello, {props.name}!</h1>;
}
```


## 20ã€TypeScript æ”¯æŒå“ªäº› JSX æ¨¡å¼ï¼Ÿ
TypeScriptæœ‰å†…ç½®çš„æ”¯æŒ`preserve`ï¼Œ`react`å’Œ`react-native`ï¼Œä¸åŒçš„æ¨¡å¼ä¼šè¾“å‡ºä¸åŒçš„ç»“æœï¼Œå…·ä½“å¦‚ä¸‹ï¼š
- `preserve`ä¿æŒJSXå®Œæ•´ä»¥ç”¨äºåç»­è½¬æ¢ã€‚
  - è¾“å…¥ï¼š`<div />`
  - è¾“å‡ºï¼š`<div />`
  - è¾“å‡ºæ–‡ä»¶æ‰©å±•åï¼š`.jsx`
- `react`ä¸ç»è¿‡JSXè½¬æ¢ï¼Œè€Œæ˜¯`react.createElement`ä½œä¸º`.js`æ–‡ä»¶æ‰©å±•åå‘å‡ºå’Œè¾“å‡ºã€‚
  - è¾“å…¥ï¼š`<div />`
  - è¾“å‡ºï¼š`React.createElement("div")`
  - è¾“å‡ºæ–‡ä»¶æ‰©å±•åï¼š`.js`
- `react-native`ç»“åˆèµ·æ¥`preserve`ï¼Œ`react`å› ä¸ºå®ƒç»´æŠ¤æ‰€æœ‰JSXå’Œè¾“å‡ºä½œä¸º`.js`æ‰©å±•ã€‚
  - è¾“å…¥ï¼š`<div />`
  - è¾“å‡ºï¼š`<div />`
  - è¾“å‡ºæ–‡ä»¶æ‰©å±•åï¼š`.js`


## 21ã€å¦‚ä½•ç¼–è¯‘ TypeScript æ–‡ä»¶ï¼Ÿ
ä½ éœ€è¦è°ƒç”¨TypeScriptç¼–è¯‘å™¨`tsc`æ¥ç¼–è¯‘æ–‡ä»¶ã€‚ä½ éœ€è¦å®‰è£…TypeScriptç¼–è¯‘å™¨ï¼Œå¯ä»¥ä½¿ç”¨`npm`å®‰è£…
```sh
npm install -g typescript
tsc hello.ts
```


## 22ã€TypeScript ä¸­æœ‰å“ªäº›ä½œç”¨åŸŸå¯ç”¨ï¼Ÿè¿™ä¸JSç›¸æ¯”å¦‚ä½•ï¼Ÿ
åœ¨ TypeScript ä¸­ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ä½œç”¨åŸŸå¯ç”¨ï¼š
1. å—çº§ä½œç”¨åŸŸï¼šåœ¨å—çº§ä½œç”¨åŸŸä¸­å£°æ˜çš„å˜é‡åªåœ¨å½“å‰å—å†…éƒ¨å¯è§ï¼Œå¹¶ä¸”ä¸ä¼šè¢«å¤–éƒ¨ä½œç”¨åŸŸæ‰€è¦†ç›–ã€‚ä¾‹å¦‚ï¼Œåœ¨`if`ã€`for`ã€`while`ç­‰è¯­å¥å—ä¸­å£°æ˜çš„å˜é‡å°±å±äºå—çº§ä½œç”¨åŸŸã€‚
2. å‡½æ•°ä½œç”¨åŸŸï¼šåœ¨å‡½æ•°ä½œç”¨åŸŸä¸­å£°æ˜çš„å˜é‡åªåœ¨å½“å‰å‡½æ•°ä½“å†…éƒ¨å¯è§ï¼Œå¹¶ä¸”ä¸ä¼šè¢«å¤–éƒ¨ä½œç”¨åŸŸæ‰€è¦†ç›–ã€‚
3. æ¨¡å—ä½œç”¨åŸŸï¼šæ¨¡å—ä½œç”¨åŸŸæ˜¯æŒ‡åœ¨æ¨¡å—å†…éƒ¨å®šä¹‰çš„å˜é‡æˆ–å‡½æ•°çš„ä½œç”¨åŸŸèŒƒå›´ã€‚åœ¨æ¨¡å—å†…éƒ¨å£°æ˜çš„å˜é‡å’Œå‡½æ•°ä¸ä¼šæ±¡æŸ“å…¨å±€å‘½åç©ºé—´ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ export å…³é”®å­—å°†å…¶æš´éœ²ç»™å…¶ä»–æ¨¡å—ä½¿ç”¨ã€‚

ä¸ JavaScript ç›¸æ¯”ï¼ŒTypeScript æ”¯æŒæ›´åŠ ä¸¥æ ¼çš„ä½œç”¨åŸŸè§„åˆ™ã€‚å…·ä½“æ¥è¯´ï¼ŒTypeScript å¼•å…¥äº†å—çº§ä½œç”¨åŸŸå’Œæ¨¡å—ä½œç”¨åŸŸè¿™ä¸¤ç§æ¦‚å¿µï¼Œä»è€Œé¿å…äº†ä¸€äº›å¸¸è§çš„ JavaScript ä½œç”¨åŸŸé—®é¢˜ï¼Œå¦‚å˜é‡æå‡ã€å‘½åå†²çªç­‰ã€‚


## 23ã€TypeScript ä¸­çš„ç®­å¤´/lambda å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿ
ES6ç‰ˆæœ¬çš„TypeScriptæä¾›äº†ç”¨äºå®šä¹‰åŒ¿åå‡½æ•°çš„ç®€å†™è¯­æ³•ï¼Œå³å‡½æ•°è¡¨è¾¾å¼ã€‚è¿™äº›ç®­å¤´å‡½æ•°ä¹Ÿç§°ä¸º**Lambdaå‡½æ•°**ã€‚**lambdaå‡½æ•°æ˜¯æ²¡æœ‰åç§°çš„å‡½æ•°**ã€‚ç®­å¤´å‡½æ•°çœç•¥äº† `function` å…³é”®å­—ã€‚
```js
let sum = (a: number, b: number): number => {    
  return a + b;    
}    
console.log(sum(20, 30)); //returns 50
```
åœ¨ä¸Šé¢ï¼Œ`?=>?` æ˜¯ä¸€ä¸ª lambda è¿ç®—ç¬¦ï¼Œ `(a + b)` æ˜¯å‡½æ•°ä½“ï¼Œ `(a: number, b: number)`æ˜¯å†…è”å‚æ•°ã€‚


## 24ã€è§£é‡Šrestå‚æ•°å’Œå£°æ˜restå‚æ•°çš„è§„åˆ™ã€‚
ES6 å¼•å…¥`restå‚æ•°`(å½¢å¼ä¸º`...å˜é‡å`)ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨`arguments`å¯¹è±¡äº†ã€‚`restå‚æ•°`æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚

restå‚æ•°è¦éµå¾ªçš„è§„åˆ™ï¼š
- ä¸€ä¸ªå‡½æ•°ä¸­åªå…è®¸æœ‰ä¸€ä¸ªå‰©ä½™å‚æ•°ã€‚
- å®ƒå¿…é¡»æ˜¯æ•°ç»„ç±»å‹ã€‚
- å®ƒå¿…é¡»æ˜¯å‚æ•°åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå‚æ•°ã€‚
```ts
function sum(a: number, ...b: number[]) {
  console.log(b);
}
let result1 = sum(3, 5); // [5] 
let result2 = sum(3, 5, 7, 9); // [5, 7, 9]

// argumentsæ¼”ç¤º
function add () {
  console.log(arguments)
}
add(1, 2, 3) // [1, 2, 3]
```
æ³¨æ„: **`rest`å‚æ•°å¿…é¡»æ˜¯å‚æ•°å®šä¹‰çš„æœ€åä¸€ä¸ªï¼Œå¹¶ä¸”æ¯ä¸ªå‡½æ•°åªèƒ½æœ‰ä¸€ä¸ª`rest`å‚æ•°**ã€‚


## 25ã€ä»€ä¹ˆæ˜¯ä¸‰æ–œçº¿æŒ‡ä»¤ï¼Ÿæœ‰å“ªäº›ä¸‰æ–œæ æŒ‡ä»¤ï¼Ÿ
ä¸‰æ–œçº¿æŒ‡ä»¤æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ³¨é‡Šè¯­æ³•ï¼Œå¯ä»¥åœ¨ TypeScript æ–‡ä»¶ä¸­å‘ç¼–è¯‘å™¨æä¾›ä¸€äº›é¢å¤–çš„æŒ‡ä»¤å’Œä¿¡æ¯ã€‚å®ƒä»¬ä»¥ä¸‰ä¸ªæ–œæ `///`å¼€å¤´ï¼Œå¹¶ä¸”åªèƒ½å‡ºç°åœ¨æ–‡ä»¶çš„é¡¶éƒ¨æˆ–åœ¨å…¶å®ƒæ³¨é‡Šä¹‹å‰ã€‚
- 1ã€**å¼•å…¥æ¨¡å—**
  ```ts
  /// <reference path="path/to/other/file.ts" />
  ```
  å¼•å…¥æ¨¡å—æŒ‡ä»¤å¯ä»¥ç”¨äºå£°æ˜å½“å‰æ–‡ä»¶ä¾èµ–äºå¦ä¸€ä¸ª TypeScript æ–‡ä»¶ã€‚åœ¨ç¼–è¯‘æ—¶ï¼ŒTypeScript ä¼šæŒ‰ç…§å¼•å…¥æ¨¡å—çš„é¡ºåºå¯¹æ–‡ä»¶è¿›è¡Œæ’åºï¼Œå¹¶å°†å®ƒä»¬åˆå¹¶æˆä¸€ä¸ªå•ç‹¬çš„è¾“å‡ºæ–‡ä»¶ã€‚
  ```ts
  // fileA.ts
  /// <reference path="./fileB.ts" />
  function greet(name: string) {
    log(`Hello, ${name}!`);
  }
  greet("TypeScript");

  // fileB.ts
  function log(message: string) {
    console.log(message);
  }
  ```
  åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ`fileA.ts`æ–‡ä»¶å¼•å…¥äº†`fileB.ts`æ–‡ä»¶ï¼Œå¹¶è°ƒç”¨äº†å…¶å†…éƒ¨å®šä¹‰çš„å‡½æ•°`log()`ã€‚åœ¨ç¼–è¯‘æ—¶ï¼ŒTypeScript ä¼šæŒ‰ç…§å¼•å…¥æ¨¡å—çš„é¡ºåºå¯¹æ–‡ä»¶è¿›è¡Œæ’åºï¼Œå¹¶å°†å®ƒä»¬åˆå¹¶æˆä¸€ä¸ªå•ç‹¬çš„è¾“å‡ºæ–‡ä»¶ã€‚
- 2ã€**è®¾ç½®æ¨¡å—é€‰é¡¹**
  ```ts
  /// <amd-module name="someModule" />
  ```
  è®¾ç½®æ¨¡å—é€‰é¡¹æŒ‡ä»¤å¯ä»¥ç”¨äºé…ç½® AMD æ¨¡å—çš„åç§°å’Œä¾èµ–é¡¹ã€‚å¦‚æœåœ¨ TypeScript ä¸­ä½¿ç”¨äº† AMD æ¨¡å—ç³»ç»Ÿï¼Œåˆ™éœ€è¦è®¾ç½®è¯¥é€‰é¡¹ä»¥æ­£ç¡®åœ°ç”Ÿæˆä»£ç ã€‚
  ```ts
  // app.ts
  /// <amd-module name="myApp" />
  import * as $ from "jquery";
  $("h1").text("Hello, TypeScript!");
  ```
  åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ`app.ts`æ–‡ä»¶è®¾ç½®äº†`AMD`æ¨¡å—çš„åç§°ä¸º`myApp`ï¼Œå¹¶å¯¼å…¥äº†`jQuery`åº“ã€‚å¦‚æœä¸è®¾ç½®è¯¥é€‰é¡¹ï¼Œåˆ™å¯èƒ½ä¼šå¯¼è‡´ç”Ÿæˆçš„ä»£ç å‡ºç°é”™è¯¯æˆ–æ— æ³•åŠ è½½æ¨¡å—ã€‚
- 3ã€**é¢„å¤„ç†æ–‡ä»¶**
  ```ts
  /// <reference lib="es6" />
  ```
  é¢„å¤„ç†æ–‡ä»¶æŒ‡ä»¤å¯ä»¥ç”¨äºå¼•å…¥ TypeScript æ ‡å‡†åº“ä¸­çš„æŸä¸ªæ–‡ä»¶æˆ–åº“ã€‚ä¾‹å¦‚ï¼Œä¸Šè¿°ç¤ºä¾‹ä¸­çš„æŒ‡ä»¤ä¼šå°†`es6`åº“å¼•å…¥åˆ°å½“å‰æ–‡ä»¶ä¸­ï¼Œä»è€Œä½¿å¾—å½“å‰æ–‡ä»¶å¯ä»¥ä½¿ç”¨ ES6 ä¸­å®šä¹‰çš„ç±»ã€æ¥å£ã€å˜é‡ç­‰åŠŸèƒ½ã€‚
  ```ts
  // app.ts
  /// <reference lib="es6" />
  const greeting: string = "Hello, TypeScript!";
  ```
  åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ`app.ts`æ–‡ä»¶é¢„å¤„ç†äº† TypeScript æ ‡å‡†åº“ä¸­çš„ ES6 æ–‡ä»¶ï¼Œä»è€Œä½¿å¾—å½“å‰æ–‡ä»¶å¯ä»¥ä½¿ç”¨ ES6 ä¸­å®šä¹‰çš„ç±»ã€æ¥å£ã€å˜é‡ç­‰åŠŸèƒ½ã€‚å¦‚æœä¸é¢„å¤„ç†è¯¥æ–‡ä»¶ï¼Œåˆ™å¯èƒ½ä¼šå¯¼è‡´æŸäº›åŠŸèƒ½æ— æ³•ä½¿ç”¨æˆ–å‡ºç°é”™è¯¯ã€‚

æ³¨æ„: ä¸‰æ–œçº¿æŒ‡ä»¤åº”è¯¥å°½å¯èƒ½é¿å…ä½¿ç”¨ï¼Œå¹¶ä¸”åªåœ¨å¿…è¦æ—¶æ‰ä½¿ç”¨ã€‚å¦‚æœå¯èƒ½çš„è¯ï¼Œåº”è¯¥é‡‡ç”¨æ›´å¥½çš„æ¨¡å—åŒ–æ–¹æ¡ˆï¼Œä»¥æé«˜ä»£ç çš„å¯ç§»æ¤æ€§å’Œæµ‹è¯•æ€§ã€‚


## 26ã€Omitã€Pickã€Partialç±»å‹æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ
::: tip Omit
`Omit`æ˜¯TypeScript3.5æ–°å¢çš„ä¸€ä¸ªè¾…åŠ©ç±»å‹ã€‚
> ä½œç”¨: ä»¥ä¸€ä¸ªç±»å‹ä¸ºåŸºç¡€æ”¯æŒ**å‰”é™¤**æŸäº›å±æ€§ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°ç±»å‹ã€‚
```ts
type Todo = {
  title: string;
  description: string;
  completed: boolean;
  createdAt: number;
}
type newTodo = Omit<Todo, 'title' | 'description'>;
```
åº”ç”¨äº`interface`æ¥å£
```ts
interface Todo {
  title: string;
  description: string;
  completed: boolean;
  createdAt: number;
}
type newTodo = Omit<Todo, "description">;
```
æˆ‘ä»¬ä½¿ç”¨è¿”å›çš„æ–°ç±»å‹åˆ›å»ºä¸€ä¸ªå˜é‡
```ts
const todo: newTodo = {
  title: 'ä»£åŠ1',
  completed: false,
  createdAt: Date.now()
}
console.log(todo.description)
```
ä¼šå‘ç°ï¼Œæˆ‘ä»¬åœ¨è®¿é—®`todo.description`æ—¶ç¼–è¯‘å™¨ä¼šæŠ¥é”™: `ç±»å‹â€œnewTodoâ€ä¸Šä¸å­˜åœ¨å±æ€§â€œdescriptionâ€`ã€‚
æ³¨æ„: `Omit`çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿæ¥å—é”®çš„å¹¶é›†ã€‚
```ts
type newTodo = Omit<Todo, 'description' | 'completed' | ...>;
```
:::

::: tip Pick
`Pick`ä¹Ÿæ˜¯TypeScriptçš„ä¸€ä¸ªè¾…åŠ©ç±»å‹ã€‚åªèƒ½ç”¨æ¥ç”Ÿæˆ`ç±»å‹`è€Œä¸æ˜¯`æ¥å£`ã€‚
> ä½œç”¨: ä»¥ä¸€ä¸ªç±»å‹ä¸ºåŸºç¡€æ”¯æŒ**æŒ‘é€‰**ä¸€äº›å±æ€§ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°ç±»å‹ï¼Œä¸`Omit`æ°å¥½ç›¸åã€‚
```ts
type Todo = {
  title: string;
  description: string;
  completed: boolean;
  createdAt: number;
}
type newTodo = Pick<Todo, 'title' | 'description'>;
```
ä¸`Omit`ä¸€æ ·ï¼Œåº”ç”¨äº`interface`æ¥å£
```ts
interface Todo {
  title: string;
  description: string;
  completed: boolean;
  createdAt: number;
}
type newTodo = Pick<Todo, 'title' | 'description'>;
```
æˆ‘ä»¬ä½¿ç”¨è¿”å›çš„æ–°ç±»å‹åˆ›å»ºä¸€ä¸ªå˜é‡
```ts
const todo: newTodo = {
  title: 'ä»£åŠ1',
  description: 'ä»£åŠ1çš„æè¿°'
}
console.log(todo.createdAt)
```
ä¼šå‘ç°ï¼Œæˆ‘ä»¬åœ¨è®¿é—®`todo.createdAt`æ—¶ç¼–è¯‘å™¨ä¼šæŠ¥é”™: `ç±»å‹â€œnewTodoâ€ä¸Šä¸å­˜åœ¨å±æ€§â€œcreatedAtâ€`ã€‚
```ts
interface newTodo = Pick<Todo, 'title' | 'description'>;
```
ä¸Šé¢çš„ä»£ç ä¼šæŠ¥é”™: `â€œPickâ€ä»…è¡¨ç¤ºç±»å‹ï¼Œä½†åœ¨æ­¤å¤„å´ä½œä¸ºå€¼ä½¿ç”¨`ï¼Œå³`Pick`åªèƒ½ç”¨æ¥å®šä¹‰ç±»å‹è€Œä¸æ˜¯æ¥å£ã€‚
:::

::: tip Partial
`Partial`ä¹Ÿæ˜¯TypeScriptçš„ä¸€ä¸ªè¾…åŠ©ç±»å‹ã€‚
> ä½œç”¨: å°†è¿”å›ç±»å‹çš„æ‰€æœ‰å±æ€§è®¾ç½®ä¸ºå¯é€‰çš„ã€‚
```ts
type Todo = {
  title: string;
  description: string;
  completed: boolean;
  createdAt: number;
}
type newTodo = Partial<Todo>;
```
åº”ç”¨äº`interface`
```ts
interface Todo {
  title: string;
  description: string;
  completed: boolean;
  createdAt: number;
}
type newTodo = Partial<Todo>;
```
æˆ‘ä»¬ä½¿ç”¨è¿”å›çš„æ–°ç±»å‹åˆ›å»ºä¸€ä¸ªå˜é‡
```ts
const todo: newTodo = {
  title: '123'
}
```
å¯ä»¥å‘ç°ä¸Šé¢çš„æ‰€æœ‰çš„å±æ€§éƒ½æ˜¯å¯é€‰çš„ï¼Œä»ä¸‹å›¾å¯ä»¥çœ‹å‡º
![202303191448552.png](http://img.itchenliang.club/img/202303191448552.png)
:::


## 27ã€TypeScriptä¸­å¦‚ä½•å®ç°å‡½æ•°é‡è½½ï¼Ÿ
è¦åœ¨ TypeScript ä¸­é‡è½½å‡½æ•°ï¼Œåªéœ€åˆ›å»ºä¸¤ä¸ªå‡½æ•°åç§°ç›¸åŒã€å‚æ•°æ•°é‡ç›¸åŒä½†ç±»å‹ä¸åŒã€è¿”å›å€¼ç±»å‹ä¸åŒçš„å‡½æ•°ã€‚
> TypeScript ç¼–è¯‘å™¨ä¼šæ ¹æ®ä¼ é€’çš„å‚æ•°ç±»å‹å’Œæ•°é‡ç¡®å®šè¦è°ƒç”¨å“ªä¸ªå‡½æ•°ã€‚
```ts
function add(a:string, b:string): string;
function add(a:number, b:number): number;
function add(a: any, b:any): any {
  return a + b;
}
add("Hello ", "Steve"); // returns "Hello Steve" 
add(10, 20); // returns 30
```


## 28ã€å¦‚ä½•è®©æ¥å£çš„æ‰€æœ‰å±æ€§éƒ½å¯é€‰ï¼Ÿ
ä½¿ç”¨`Partial`å®ç”¨ç¨‹åºç±»å‹ä½¿ä¸€ä¸ªç±»ä¸­çš„æ‰€æœ‰å±æ€§éƒ½æ˜¯å¯é€‰çš„ï¼Œä¾‹å¦‚`const emp: Partial<Employee> = {};`ã€‚ `Partial`å®ç”¨ç¨‹åºç±»å‹æ„é€ ä¸€ä¸ªæ–°ç±»å‹ï¼Œå…¶ä¸­æä¾›çš„ç±»å‹çš„æ‰€æœ‰å±æ€§éƒ½è®¾ç½®ä¸ºå¯é€‰ã€‚
```ts
interface Employee {
  id: number;
  name: string;
  salary: number;
}

const emp: Partial<Employee> = {};
emp.name = 'James';
```
ä½¿ç”¨`Partial`å®ç”¨ç¨‹åºç±»å‹æ¥æ„é€ ä¸€ä¸ªæ–°ç±»å‹ï¼Œå…¶ä¸­æä¾›çš„ç±»å‹çš„æ‰€æœ‰å±æ€§éƒ½è®¾ç½®ä¸ºå¯é€‰ã€‚
```ts
const obj = {
  id: 1,
  name: 'James',
  salary: 100,
};

// type T = {
//     id?: number | undefined;
//     name?: string | undefined;
//     salary?: number | undefined;
// }
type T = Partial<typeof obj>;
```
**æ³¨æ„**: æˆ‘ä»¬å¿…é¡»ä½¿ç”¨`typeof`ç±»å‹è¿ç®—ç¬¦ï¼Œå› ä¸º`Partial`éœ€è¦ä¸€ä¸ªç±»å‹ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ TypeScript çš„ Github å­˜å‚¨åº“ä¸­çœ‹åˆ°å†…ç½®çš„`Partial`ç±»å‹æ˜¯å¦‚ä½•å®ç°çš„ã€‚
```ts
/**
 * Make all properties in T optional
 */
type Partial<T> = {
    [P in keyof T]?: T[P];
};
```
`?: `è¯­æ³•ç§°ä¸ºæ˜ å°„ä¿®é¥°ç¬¦ï¼Œç”¨äºå½±å“å¯é€‰æ€§ã€‚æˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°`+?:`æ­£åœ¨ä½¿ç”¨ï¼Œå®ƒè¾¾åˆ°äº†ç›¸åŒçš„ç»“æœã€‚ å¦‚æœä¸æ·»åŠ å‰ç¼€ï¼Œåˆ™å‡å®šä¸º`+`ã€‚
::: tip æç¤º
å®ç”¨ç¨‹åºç±»å‹åŸºæœ¬ä¸Šé‡‡ç”¨æ‰€æä¾›ç±»å‹çš„æ‰€æœ‰å±æ€§å¹¶å°†å®ƒä»¬æ ‡è®°ä¸ºå¯é€‰ã€‚
:::
æ˜ å°„ä¿®é¥°ç¬¦å¯ä»¥ä»¥ä¸¤ç§æ–¹å¼å½±å“å¯é€‰æ€§ï¼Œä¾‹å¦‚ æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥åˆ¶ä½œæ¥å£æ‰€éœ€çš„æ‰€æœ‰å±æ€§ï¼Œæ–¹æ³•æ˜¯åœ¨`?:`å‰åŠ ä¸Šå‡å·`-?:`ã€‚
::: tip æç¤º
å¦‚æœæˆ‘ä»¬ä¸æ·»åŠ å‰ç¼€ï¼Œåˆ™å‡å®šä¸º`+`ï¼Œå°±åƒåœ¨`Partial`å®ç”¨ç¨‹åºç±»å‹ä¸­ä¸€æ ·ã€‚
:::
```ts
/**
 * Make all properties in T required
 */
type Required<T> = {
  [P in keyof T]-?: T[P];
};
```
è¿™æ˜¯`Required`å®ç”¨ç¨‹åºç±»å‹çš„ä»£ç ï¼Œå®ƒä½¿å¾—æ‰€æä¾›ç±»å‹çš„æ‰€æœ‰å±æ€§éƒ½æ˜¯å¿…éœ€çš„ã€‚
> è¯·æ³¨æ„ï¼Œå”¯ä¸€æ›´æ”¹çš„å­—ç¬¦æ˜¯é—®å·å‰é¢çš„å‡å·ï¼Œä»¥ä½¿ç”¨åˆ é™¤å¯é€‰æ€§çš„æ˜ å°„ä¿®é¥°ç¬¦ã€‚


## 29ã€ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨å…³é”®å­—unknownï¼Ÿ
`unknown`æ˜¯ TypeScript ä¸­çš„ä¸€ç§ç±»å‹ï¼Œè¡¨ç¤ºæŸä¸ªå€¼å¯èƒ½å…·æœ‰ä»»æ„ç±»å‹ã€‚ä¸`any`ç±»å‹ä¸åŒçš„æ˜¯ï¼Œ`unknown`ç±»å‹ä¼šå¼ºåˆ¶è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œè€Œä¸èƒ½éšæ„è®¿é—®æˆ–è°ƒç”¨å…¶å±æ€§æˆ–æ–¹æ³•ã€‚

ä½¿ç”¨`unknown`ç±»å‹çš„ä¸»è¦åœºæ™¯åŒ…æ‹¬ï¼š
1. åœ¨ç¼–å†™é€šç”¨å‡½æ•°æˆ–åº“æ—¶ï¼Œå½“æ— æ³•ç¡®å®šå‡½æ•°çš„è¾“å…¥å‚æ•°ç±»å‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨`unknown`æ¥ä¿è¯ç±»å‹å®‰å…¨ã€‚ä¾‹å¦‚ï¼š
  ```ts
  function parseData(data: unknown): MyData[] {
    // ...
  }
  ```
2. å½“å¤„ç†æ¥è‡ªå¤–éƒ¨æˆ–æœªçŸ¥æ¥æºçš„æ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨`unknown`æ¥é¿å…ç±»å‹é”™è¯¯ã€‚ä¾‹å¦‚ï¼š
  ```ts
  const input: unknown = getUserInput();
  if (typeof input === "string") {
    // ...
  } else {
    // ...
  }
  ```


## 30ã€ä»€ä¹ˆæ˜¯è£…é¥°å™¨ï¼Œå®ƒä»¬å¯ä»¥åº”ç”¨äºä»€ä¹ˆï¼Ÿ
åœ¨TypeScriptä¸­ï¼Œè£…é¥°å™¨ï¼ˆDecoratorsï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„å£°æ˜ï¼Œå®ƒå¯ä»¥ç”¨æ¥ä¸ºç±»ã€æ–¹æ³•ã€å±æ€§æˆ–å‚æ•°ç­‰æ·»åŠ å…ƒæ•°æ®å¹¶ä¿®æ”¹å®ƒä»¬çš„è¡Œä¸ºã€‚
> è£…é¥°å™¨é€šè¿‡`@`ç¬¦å·åè·Ÿä¸€ä¸ªå‡½æ•°æ¥å®šä¹‰ï¼Œå¹¶å¯ä»¥è¢«åº”ç”¨äºç±»ã€æ–¹æ³•ã€å±æ€§æˆ–å‚æ•°ç­‰ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„è£…é¥°å™¨ç¤ºä¾‹ï¼š
```ts
function log(target: any, key: string, descriptor: PropertyDescriptor) {
  // åœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—
  console.log(`Calling "${key}" method`);
  // è¿”å›ä¿®æ”¹åçš„PropertyDescriptorå¯¹è±¡
  return descriptor;
}

class MyClass {
  @log
  greet(name: string) {
    console.log(`Hello, ${name}!`);
  }
}

let obj = new MyClass();
obj.greet("John");  // è¾“å‡ºï¼š"Calling "greet" method" å’Œ "Hello, John!"
```
åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªè£…é¥°å™¨å‡½æ•°`log`ï¼Œå®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼šç›®æ ‡å¯¹è±¡ã€å±æ€§åç§°å’Œå±æ€§æè¿°ç¬¦ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†è¯¥è£…é¥°å™¨åº”ç”¨äº`MyClass`ç±»ä¸­çš„`greet`æ–¹æ³•ä¸Šã€‚å½“æˆ‘ä»¬è°ƒç”¨`obj.greet`æ—¶ï¼Œè£…é¥°å™¨å‡½æ•°å°†è‡ªåŠ¨æ‰§è¡Œï¼Œå¹¶åœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—ï¼ŒåŒæ—¶ä»ç„¶æŒ‰é¢„æœŸæ‰§è¡Œ`greet`æ–¹æ³•ã€‚

é™¤äº†è‡ªå®šä¹‰è£…é¥°å™¨ä¹‹å¤–ï¼ŒTypeScriptè¿˜æä¾›äº†è®¸å¤šå†…ç½®çš„è£…é¥°å™¨ï¼Œä¾‹å¦‚`@deprecated`ã€`@sealed`å’Œ`@observable`ç­‰ï¼Œå¯ç”¨äºæ ‡è®°å’Œä¿®æ”¹ç±»ä¸­çš„å„ç§å±æ€§å’Œæ–¹æ³•ã€‚


## 31ã€å¦‚ä½•å°†å¤šä¸ªtsæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªjsæ–‡ä»¶
```ts
// file1.ts
function file1 () {
  console.log('file1')
}
// file2.ts
function file2 () {
  console.log('file2')
}
```
```shell
tsc --outFile merge.js file1.ts file2.ts
# æ­£è§„å‘½ä»¤å†™æ³•
tsc file1.ts file2.ts --outFile merge.js
```
è¿™æ ·å°±å°†ä¸‰ä¸ªtsæ–‡ä»¶åˆå¹¶åˆ°`merge.js`æ–‡ä»¶ä¸­ï¼Œ`merge.js`æ–‡ä»¶å†…å®¹å¦‚ä¸‹
```js
function file1() {
  console.log('file1');
}
function file2() {
  console.log('file2');
}
```

**ç‰¹æ®Šæƒ…å†µ**
> é¦–å…ˆæˆ‘ä»¬åœ¨ä¸Šé¢ç¤ºä¾‹çš„åŸºç¡€ä¸Šæ–°å»º`file3.ts`ï¼Œå…¶å†…å®¹å¦‚ä¸‹
```ts
function file3() {
  console.log('file3');
}
```
ç„¶åä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤
```shell
tsc --outFile file3.ts file1.ts file1.ts
```
æœ€ç»ˆå¾—åˆ°çš„ç»“æœæ˜¯ï¼Œ`file2.ts`å’Œ`file3.ts`ä¼šè¢«ç¼–è¯‘ï¼Œå¹¶ä¸”è¾“å‡ºä¼šæ”¾åœ¨`file3.ts`ä¸­ã€‚
> æ‰€ä»¥ç°åœ¨çš„ `file3.ts` åŒ…å« JavaScript ä»£ç ã€‚
```js
function file1() {
  console.log('file1');
}
function file2() {
  console.log('file2');
}
```


## 32ã€å¦‚ä½•è‡ªåŠ¨ç¼–è¯‘tsæ–‡ä»¶ï¼Œå¹¶ä¸”è‡ªåŠ¨ä¿®æ”¹tsæ–‡ä»¶
å¯ä»¥é€šè¿‡ `.ts` æ–‡ä»¶ä¸­çš„å®æ—¶æ›´æ”¹è‡ªåŠ¨ç¼–è¯‘`.ts`ã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨ `--watch` ç¼–è¯‘å™¨é€‰é¡¹æ¥å®ç°ã€‚
```shell
tsc --watch file1.ts
```
ä¸Šé¢çš„å‘½ä»¤é¦–å…ˆç¼–è¯‘ `file1.js` ä¸­çš„ `file1.ts` å¹¶è§‚å¯Ÿæ–‡ä»¶çš„å˜åŒ–ã€‚å¦‚æœæ£€æµ‹åˆ°ä»»ä½•æ›´æ”¹ï¼Œå®ƒå°†å†æ¬¡ç¼–è¯‘è¯¥æ–‡ä»¶ã€‚åœ¨è¿™é‡Œï¼Œéœ€è¦ç¡®ä¿åœ¨ä½¿ç”¨ `--watch` é€‰é¡¹è¿è¡Œæ—¶ä¸èƒ½å…³é—­å‘½ä»¤æç¤ºç¬¦ã€‚


## 33ã€TypeScriptæ”¯æŒå“ªäº›é¢å‘å¯¹è±¡çš„æœ¯è¯­
TypeScript æ”¯æŒä»¥ä¸‹é¢å‘å¯¹è±¡çš„æœ¯è¯­ï¼š
- æ¨¡å—
- ç±»
- æ¥å£
- ç»§æ‰¿
- æ•°æ®ç±»å‹
- æˆå‘˜å‡½æ•°
- å¤šæ€
  > æŒ‡ä¸åŒç±»å‹çš„å¯¹è±¡å¯ä»¥ä»¥ç›¸åŒçš„æ–¹å¼è¿›è¡Œè®¿é—®å’Œæ“ä½œï¼Œå³å…·æœ‰ç›¸åŒçš„æ¥å£æˆ–è¡Œä¸ºã€‚å®ƒå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å®ç°ï¼š
  - å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•
    ```ts
    class Car {
      drive() {
        console.log('Driving a car...');
      }
    }
    class Sedan extends Car {
      override drive() {
        console.log('Driving a sedan...');
      }
    }
    let car: Car = new Sedan();
    car.drive(); // è¾“å‡º "Driving a sedan..."
    ```
  - æ¥å£å®ç°å¤šæ€
    > é€šè¿‡å®ç°æ¥å£ï¼Œä¸åŒç±»å‹çš„å¯¹è±¡å¯ä»¥å…·æœ‰ç›¸åŒçš„è¡Œä¸ºï¼Œå¹¶ä»¥ç›¸åŒçš„æ–¹å¼è¿›è¡Œè®¿é—®å’Œæ“ä½œã€‚
    ```ts
    interface Vehicle {
      drive(): void;
    }
    class Car implements Vehicle {
      drive() {
        console.log('Driving a car...');
      }
    }
    class Sedan implements Vehicle {
      drive() {
        console.log('Driving a sedan...');
      }
    }

    let vehicle1: Vehicle = new Car();
    let vehicle2: Vehicle = new Sedan();
    vehicle1.drive(); // è¾“å‡º "Driving a car..."
    vehicle2.drive(); // è¾“å‡º "Driving a sedan...
    ```


## 34ã€TypeScriptä¸­çš„æ³›å‹
åœ¨TypeScriptä¸­ï¼Œæ³›å‹æ˜¯æŒ‡ä¸€ç§å°†ç±»å‹å‚æ•°åŒ–çš„æœºåˆ¶ï¼Œå¯ä»¥åœ¨å‡½æ•°ã€ç±»ã€æ¥å£ç­‰åœ°æ–¹ä½¿ç”¨ã€‚
> é€šè¿‡ä½¿ç”¨æ³›å‹ï¼Œå¯ä»¥è®©ä»£ç æ›´åŠ çµæ´»å’Œé€šç”¨ï¼Œå‡å°‘é‡å¤ä»£ç çš„ç¼–å†™ã€‚
```ts
function identity<T>(arg: T): T {
  return arg;
}
let output1 = identity<string>("hello");  // ç±»å‹æ¨æ–­ä¸º string
let output2 = identity<number>(42);       // ç±»å‹æ¨æ–­ä¸º number
```
åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ`identity`å‡½æ•°æ¥å—ä¸€ä¸ªç±»å‹å‚æ•°`T`å¹¶è¿”å›è¯¥ç±»å‹çš„å€¼ã€‚é€šè¿‡ä½¿ç”¨`<T>`è¯­æ³•æ¥æŒ‡å®šæ³›å‹ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸åŒçš„è°ƒç”¨ä¸­ä¼ é€’ä¸åŒçš„ç±»å‹ï¼Œå¹¶è®©TypeScriptè¿›è¡Œç±»å‹æ¨æ–­ã€‚

**æ³¨æ„**: é™¤äº†å‡½æ•°ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ³›å‹ç±»å’Œæ³›å‹æ¥å£ï¼Œå®ƒä»¬å…·æœ‰ä¸æ³›å‹å‡½æ•°ç›¸ä¼¼çš„è¯­æ³•å’Œç›®çš„ï¼Œä½¿æ‚¨å¯ä»¥ç¼–å†™é€šç”¨çš„ä»£ç ï¼ŒåŒæ—¶ä¿æŒç±»å‹å®‰å…¨å’Œçµæ´»æ€§ã€‚
```ts
interface Pair<T, U> {
  first: T;
  second: U;
}

class Point implements Pair<number, number> {
  constructor(public first: number, public second: number) {}
}

let point = new Point(10, 20);
console.log(point.first); // è¾“å‡º 10
console.log(point.second); // è¾“å‡º 20
```


## 35ã€TypeScriptä¸­constå’Œreadonlyçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿæšä¸¾å’Œå¸¸é‡çš„åŒºåˆ«ï¼Ÿ
åœ¨TypeScriptä¸­ï¼Œ`const`å’Œ`readonly`éƒ½ç”¨äºåˆ›å»ºä¸å¯å˜çš„å˜é‡æˆ–å±æ€§ï¼Œä½†å®ƒä»¬æœ‰ç€ä¸åŒçš„ä½œç”¨å’Œä½¿ç”¨åœºæ™¯ã€‚
::: tip `const`å’Œ`readonly`çš„åŒºåˆ«
- `const`ç”¨äºå®šä¹‰å¸¸é‡ï¼Œå¸¸é‡çš„å€¼åœ¨ç¼–è¯‘æ—¶å°±å¿…é¡»å·²çŸ¥ï¼Œå¹¶ä¸”ä¸èƒ½è¢«é‡æ–°èµ‹å€¼ã€‚
- `readonly`ç”¨äºå®šä¹‰åªè¯»å±æ€§æˆ–å˜é‡ï¼Œåªèƒ½åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ï¼Œå¹¶ä¸”ä¸èƒ½è¢«é‡æ–°èµ‹å€¼ã€‚
```ts
const PI = 3.14;
PI = 3; // Error: Cannot assign to 'PI' because it is a constant.

class MyClass {
  readonly name: string;
  constructor(name: string) {
    this.name = name;
  }
  setName(name: string) {
    this.name = name;  // Error: Cannot assign to 'name' because it is a read-only property.
  }
}
```
:::
::: tip æšä¸¾å’Œå¸¸é‡çš„åŒºåˆ«
- `æšä¸¾`æ˜¯ä¸€ç»„å…·æœ‰å‘½åå€¼çš„ç›¸å…³å¸¸é‡çš„é›†åˆï¼Œä¸å¸¸é‡ä¸åŒï¼Œæšä¸¾æˆå‘˜å¯ä»¥åŒ…å«å…¶ä»–å€¼ï¼ˆä¾‹å¦‚å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼‰ã€‚
- `å¸¸é‡`æ˜¯æŒ‡åœ¨ç¼–è¯‘æ—¶å·²çŸ¥å¹¶ä¸”ä¸ä¼šæ”¹å˜çš„å€¼ï¼Œè€Œæšä¸¾åˆ™æ˜¯ä¸€ç»„ç›¸å…³çš„å¸¸é‡ã€‚
```ts
enum Color {
  Red = "#FF0000",
  Green = "#00FF00",
  Blue = "#0000FF"
}
const PI = 3.14;
```
åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª`Color`æšä¸¾ï¼Œå…¶ä¸­åŒ…å«ä¸‰ä¸ªæˆå‘˜ï¼Œå¹¶å°†å…¶ç”¨ä½œé¢œè‰²ä»£ç çš„æ˜ å°„ã€‚å¦å¤–æˆ‘ä»¬è¿˜å®šä¹‰äº†ä¸€ä¸ªå¸¸é‡`PI`ï¼Œå®ƒçš„å€¼ä¸º`3.14`ã€‚
:::


## 36ã€TypeScriptä¸­çš„æšä¸¾æ˜¯ä»€ä¹ˆï¼Ÿ
æšä¸¾æˆ–æšä¸¾æ˜¯ä¸€ç§ TypeScipt æ•°æ®ç±»å‹ï¼Œå®ƒå…è®¸æˆ‘ä»¬å®šä¹‰ä¸€ç»„å‘½åå¸¸é‡ã€‚ä½¿ç”¨æšä¸¾å¯ä»¥æ›´è½»æ¾åœ°è®°å½•æ„å›¾ï¼Œæˆ–åˆ›å»ºä¸€ç»„ä¸åŒçš„æ¡ˆä¾‹ã€‚å®ƒæ˜¯ç›¸å…³å€¼çš„é›†åˆï¼Œå¯ä»¥æ˜¯æ•°å­—æˆ–å­—ç¬¦ä¸²å€¼ã€‚
```ts
enum Gender {  
  Male,  
  Female  
  Other  
}  
console.log(Gender.Female); // Output: 1  
//We can also access an enum value by it's number value.  
console.log(Gender[1]); // Output: Female

// å­—ç¬¦ä¸²æšä¸¾
enum Direction {
  Up = "UP",
  Down = "DOWN",
  Left = "LEFT",
  Right = "RIGHT"
}
let upDirection = Direction.Up;
console.log(upDirection); // è¾“å‡º "UP"
// åå‘æ˜ å°„å…è®¸æ ¹æ®æšä¸¾æˆå‘˜åè·å–å…¶å¯¹åº”çš„æšä¸¾å€¼
let directionName = Direction[upDirection];
console.log(directionName); // è¾“å‡º "Up"
```


## 37ã€TSä¸­çš„æ¥å£interface å’Œ type è¯­å¥æœ‰ä»€ä¹ˆåŒºåˆ«
1. **è¯­æ³•å·®å¼‚**
  ```ts
  // æ¥å£è¯­æ³•å½¢å¼
  interface InterfaceName {
    // ...
  }
  // ç±»å‹åˆ«åè¯­æ³•å½¢å¼
  type TypeName = TypeExpression;
  // TypeExpression å¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„ç±»å‹è¡¨è¾¾å¼ï¼ŒåŒ…æ‹¬åŸå§‹ç±»å‹ã€è”åˆç±»å‹ã€äº¤å‰ç±»å‹ã€å‡½æ•°ç±»å‹ç­‰ã€‚
  ```
2. **åŠŸèƒ½å·®å¼‚**
  - æ¥å£çš„ä¸»è¦åŠŸèƒ½æ˜¯ç”¨äºæè¿°å¯¹è±¡çš„å½¢çŠ¶ï¼Œå³å®šä¹‰å¯¹è±¡åº”è¯¥å…·æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶å¯ä»¥é€šè¿‡`implements`å…³é”®å­—è¿›è¡Œå®ç°ã€‚
    ```ts
    interface Person {
      name: string;
      age: number;
      sayHello(): void;
    }
    class Student implements Person {
      constructor(public name: string, public age: number) {}
      sayHello() {
        console.log(`Hello, my name is ${this.name}, I am ${this.age} years old.`);
      }
    }
    let student = new Student("Tom", 18);
    student.sayHello(); // è¾“å‡º "Hello, my name is Tom, I am 18 years old."
    ```
  - ç±»å‹åˆ«åçš„ä¸»è¦åŠŸèƒ½æ˜¯ç”¨äºå®šä¹‰å¤æ‚æˆ–é‡å¤ç±»å‹ï¼Œä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ç±»å‹åˆ«ååœ¨æŸäº›æƒ…å†µä¸‹æ¯”æ¥å£æ›´åŠ çµæ´»å’Œç®€æ´ï¼Œå¯ä»¥ä½¿ç”¨æ³›å‹ã€è”åˆç±»å‹ã€äº¤å‰ç±»å‹ç­‰ç‰¹æ€§ï¼Œæ”¯æŒæ›´å¤šçš„ç±»å‹è½¬æ¢å’Œæ“ä½œã€‚
    ```ts
    type Person = {
      name: string;
      age: number;
      sayHello(): void;
    };
    type Student = Person & {
      grade: number;
    };
    function printName(person: Person) {
      console.log(`My name is ${person.name}.`);
    }
    let student: Student = {
      name: "Tom",
      age: 18,
      grade: 90,
      sayHello() {
        console.log(`Hello, my name is ${this.name}, I am ${this.age} years old.`);
      }
    };
    printName(student); // è¾“å‡º "My name is Tom."
    student.sayHello(); // è¾“å‡º "Hello, my name is Tom, I am 18 years old."
    ```


## 39ã€TypeScriptçš„asè¯­æ³•æ˜¯ä»€ä¹ˆï¼Ÿ
`as` æ˜¯ TypeScript ä¸­ç±»å‹æ–­è¨€çš„é™„åŠ è¯­æ³•ã€‚å¼•å…¥ `as-syntax` çš„åŸå› æ˜¯åŸå§‹è¯­æ³• (`<type>`) ä¸ JSX å†²çªã€‚
```ts
let empCode: any = 111;     
let employeeCode = code as number;
```
å°† TypeScript ä¸ JSX ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œåªå…è®¸ä½¿ç”¨ as æ ·å¼çš„æ–­è¨€ã€‚


## 40ã€TypeScriptçš„Enumæšä¸¾ç±»å‹ï¼Ÿ
TypeScript åœ¨ ES åŸæœ‰ç±»å‹åŸºç¡€ä¸ŠåŠ å…¥æšä¸¾ç±»å‹ï¼Œä½¿å¾—åœ¨ TypeScript ä¸­ä¹Ÿå¯ä»¥ç»™ä¸€ç»„æ•°å€¼èµ‹äºˆåå­—ï¼Œè¿™æ ·å¯¹å¼€å‘è€…æ¯”è¾ƒå‹å¥½ï¼Œå¯ä»¥ç†è§£æšä¸¾å°±æ˜¯ä¸€ä¸ªå­—å…¸ã€‚æšä¸¾ç±»å‹ä½¿ç”¨enumæ¥å®šä¹‰ï¼š
```ts
enum Gender {  
  Male,  
  Female  
  Other  
}  
console.log(Gender.Female); // : 1  
// æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡enumå€¼çš„numberå€¼æ¥è®¿é—®å®ƒ
console.log(Gender[1]); // : Female 
```


## 41ã€TSä¸­çš„å£°æ˜åˆå¹¶
åœ¨TypeScriptä¸­ï¼Œå½“å…·æœ‰ç›¸åŒåç§°çš„å‡½æ•°ã€ç±»æˆ–å‘½åç©ºé—´ç­‰å¤šä¸ªå£°æ˜å‡ºç°æ—¶ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨åˆå¹¶ä¸ºä¸€ä¸ªå£°æ˜ã€‚è¿™ç§°ä¸ºå£°æ˜åˆå¹¶ã€‚

å£°æ˜åˆå¹¶é€‚ç”¨äºä»¥ä¸‹æƒ…å†µï¼š
1. å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼
  > TypeScriptä¸­çš„å‡½æ•°å£°æ˜åˆå¹¶å…è®¸æˆ‘ä»¬ä¸ºåŒåçš„å‡½æ•°æä¾›å¤šä¸ªå‡½æ•°ç±»å‹å®šä¹‰ï¼Œä»è€Œå®ç°å‡½æ•°é‡è½½ã€‚
  ```ts
  function add(x: number, y: number): number;
  function add(x: string, y: string): string;
  function add(x: number | string, y: number | string): number | string {
    if (typeof x === "number" && typeof y === "number") {
      return x + y;
    }
    if (typeof x === "string" && typeof y === "string") {
      return x.concat(y);
    }
    throw new Error("Parameters must be of the same type.");
  }

  const result1 = add(3, 4); // è¿”å›æ•°å­— 7
  const result2 = add("hello", "world"); // è¿”å›å­—ç¬¦ä¸² "helloworld"
  const result3 = add("hello", 4); // æŠ›å‡ºå¼‚å¸¸ "Parameters must be of the same type."
  ```
2. åŒåæ¥å£
  ```ts
  // åŒåæ¥å£åˆå¹¶
  interface Person {
    name: string;
  }
  interface Person {
    age: number;
  }
  let person: Person = { name: "John", age: 30 };
  ```
3. ç±»å‹åˆ«å
  ```ts
  // ç±»å‹åˆ«ååˆå¹¶
  type Point = [number, number];
  type Point = {
    x: number;
    y: number;
  };
  let point: Point = { x: 0, y: 0 };
  ```
4. å‘½åç©ºé—´
  ```ts
  // å‘½åç©ºé—´åˆå¹¶
  namespace MyNamespace {
    export const name = "MyNamespace";
  }
  namespace MyNamespace {
    export function greet() {
      console.log(`Hello from ${name}!`);
    }
  }
  MyNamespace.greet(); // è¾“å‡ºï¼šHello from MyNamespace!
  ```


## 42ã€TypeScriptä¸­?. , ?? , !: , _ , ** ç­‰ç¬¦å·çš„å«ä¹‰ï¼Ÿ
- `?.`: å¯é€‰é“¾æ“ä½œç¬¦
  > å¯é€‰é“¾æ“ä½œç¬¦æ˜¯ä¸€ç§ç”¨äºç®€åŒ–è®¿é—®æ·±å±‚åµŒå¥—å¯¹è±¡æˆ–æ•°ç»„çš„è¯­æ³•ã€‚å®ƒä½¿ç”¨`?.`ç¬¦å·è¡¨ç¤ºï¼Œåœ¨è®¿é—®å¯¹è±¡å±æ€§æˆ–æ–¹æ³•æ—¶å¯ä»¥é¿å…å› ä¸ºç©ºå€¼æˆ–æœªå®šä¹‰è€Œå¯¼è‡´çš„é”™è¯¯ã€‚
  ```ts
  let user = {
    name: "Tom",
    address: {
      city: "Beijing"
    }
  };
  let cityName = user.address?.city;
  console.log(cityName); // è¾“å‡º "Beijing"
  let notExist = user.address?.notExist;
  console.log(notExist); // è¾“å‡º undefined
  ```
- `??`: ç©ºå€¼åˆå¹¶æ“ä½œç¬¦
  > ç©ºå€¼åˆå¹¶æ“ä½œç¬¦æ˜¯ä¸€ç§ç”¨äºç®€åŒ–å˜é‡ä¸ºç©ºå€¼æˆ–æœªå®šä¹‰æ—¶çš„é»˜è®¤å€¼èµ‹å€¼æ“ä½œçš„è¯­æ³•ã€‚å®ƒä½¿ç”¨`??`ç¬¦å·è¡¨ç¤ºï¼Œå½“å·¦ä¾§è¡¨è¾¾å¼çš„å€¼ä¸º`null`æˆ–`undefined`æ—¶ï¼Œä¼šè¿”å›å³ä¾§çš„é»˜è®¤å€¼ã€‚
  ```ts
  let username = '';
  let result = username ?? 'Unknown';
  console.log(result); // è¾“å‡º ''
  ```
- `!.`: éç©ºæ–­è¨€è¿ç®—ç¬¦
  > éç©ºæ–­è¨€è¿ç®—ç¬¦æ˜¯ä¸€ç§ç”¨äºå‘Šè¯‰ TypeScript ç¼–è¯‘å™¨æŸä¸ªå˜é‡ä¸ä¼šä¸ºç©ºå€¼æˆ–æœªå®šä¹‰çš„è¯­æ³•ã€‚å®ƒä½¿ç”¨`!.`ç¬¦å·è¡¨ç¤ºï¼Œå¯ä»¥åœ¨å˜é‡åç§°åé¢åŠ ä¸Šä¸€ä¸ªæ„Ÿå¹å·æ¥æ ‡è®°ã€‚
  ```ts
  let name: string | undefined;
  let message = `Hello, ${name!.toUpperCase()}`;
  console.log(message); // æŠ›å‡ºå¼‚å¸¸ï¼šCannot read property 'toUpperCase' of undefined
  ```
- `!:` éç©ºæ–­è¨€æ“ä½œç¬¦
  > åœ¨TypeScript ä¸­ï¼Œ`!:`ç¬¦å·è¢«ç§°ä¸ºéç©ºæ–­è¨€æ“ä½œç¬¦ï¼Œå®ƒå¯ä»¥ç”¨æ¥å‘Šè¯‰ç¼–è¯‘å™¨ä¸€ä¸ªå˜é‡ä¸€å®šä¸ä¸º`null`æˆ–`undefined`ã€‚è¿™ä¸ªæ“ä½œç¬¦åœ¨ TypeScript 2.0 ä¸­è¢«å¼•å…¥ï¼Œå®ƒçš„è¯­æ³•æ˜¯åœ¨å˜é‡ååé¢æ·»åŠ `!:`ç¬¦å·ã€‚ä¾‹å¦‚ï¼š
  ```ts
  let myString!: string;
  ```
  åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å˜é‡`myString`ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å¯¹å®ƒè¿›è¡Œåˆå§‹åŒ–ã€‚å¦‚æœç›´æ¥ä½¿ç”¨`myString`å˜é‡ï¼ŒTypeScriptç¼–è¯‘å™¨ä¼šæç¤ºé”™è¯¯ï¼Œå› ä¸ºå®ƒå¹¶ä¸çŸ¥é“`myString`æ˜¯å¦å·²ç»è¢«æ­£ç¡®åœ°èµ‹å€¼ã€‚æ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨`!`ç¬¦å·æ¥å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œæˆ‘ä¿è¯è¿™ä¸ªå˜é‡ä¸ä¸º`null`æˆ–`undefined`ï¼Œå¯ä»¥å®‰å…¨åœ°ä½¿ç”¨å®ƒã€‚ä¾‹å¦‚ï¼š
  ```ts
  console.log(myString.toUpperCase()); // ä¸ä¼šæŠ¥é”™
  ```
- `_`: å ä½ç¬¦
  > ä¸‹åˆ’çº¿ç¬¦å·`_`å¯ä»¥ä½œä¸ºå ä½ç¬¦ä½¿ç”¨ï¼Œè¡¨ç¤ºæš‚æ—¶ä¸éœ€è¦ä½¿ç”¨çš„å˜é‡æˆ–å‚æ•°ã€‚
  ```ts
  function sum(a: number, b: number, _c?: number) {
    return a + b;
  }
  let result = sum(1, 2);
  console.log(result); // è¾“å‡º 3
  ```
- `**`: æŒ‡æ•°è¿ç®—ç¬¦
  > æŒ‡æ•°è¿ç®—ç¬¦æ˜¯ä¸€ç§ç”¨äºè®¡ç®—æŒ‡æ•°å¹‚çš„è¯­æ³•ã€‚å®ƒä½¿ç”¨`**`ç¬¦å·è¡¨ç¤ºï¼Œå¯ä»¥æ›¿ä»£ä¼ ç»Ÿçš„`Math.pow()`æ–¹æ³•ã€‚
- `?:`: æŒ‡å¯é€‰å‚æ•°ï¼Œå¯ä»¥ç†è§£ä¸ºå‚æ•°è‡ªåŠ¨åŠ ä¸Š`undefined`
  ```ts
  function echo(x: number, y?: number) { // å¯é€‰å‚æ•°
    return x + (y || 0);
  }
  ```


## 43ã€TypeScriptä¸­ä»€ä¹ˆæ˜¯ any ç±»å‹ï¼Œä½•æ—¶ä½¿ç”¨ï¼Ÿ
`any`ç±»å‹è¡¨ç¤ºä»»æ„ç±»å‹ã€‚ä½¿ç”¨`any`ç±»å‹å¯ä»¥åœ¨å£°æ˜å˜é‡æˆ–å‡½æ•°å‚æ•°æ—¶ä¸æŒ‡å®šå…¶å…·ä½“ç±»å‹ï¼Œä»è€Œè®©å®ƒä»¬å¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„å€¼ã€‚
```ts
let value: any = 123;
value = 'Hello';
value = { name: 'Tom' };
```


## 44ã€ä»€ä¹ˆæ˜¯voidï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨voidç±»å‹ï¼Ÿ
`void`ç±»å‹è¡¨ç¤ºæ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°ã€‚é€šå¸¸ç”¨äºå£°æ˜å‡½æ•°æ—¶ï¼ŒæŒ‡å®šå‡½æ•°ä¸ä¼šè¿”å›ä»»ä½•å€¼ã€‚
```ts
function hello(): void {
  console.log('Hello, world!');
}
```
- å¦‚æœåœ¨å‡½æ•°ä¸­ä½¿ç”¨`return`å…³é”®å­—ï¼Œåˆ™å¿…é¡»è¿”å›`undefined`æˆ–æ²¡æœ‰è¿”å›å€¼ï¼Œå¦åˆ™ä¼šç¼–è¯‘é”™è¯¯ã€‚
  ```ts
  function getAge (age: number): void {
    if (age > 10 && age < 12) {
      return null
    }
    if (age > 12) {
      return undefined
    }
    if (age <= 10 && age > 0) {
      return
    }
    if (age === 0) {
      return
    }
    return 12 // ä¸èƒ½å°†ç±»å‹â€œnumberâ€åˆ†é…ç»™ç±»å‹â€œvoidâ€
  }
  ```
- å¦‚æœå˜é‡æ˜¯ `void` ç±»å‹ï¼Œåˆ™åªèƒ½å°†`null`æˆ–`undefined`å€¼åˆ†é…ç»™è¯¥å˜é‡ã€‚
  ```ts
  let age: void
  age = null
  age = undefined
  age = 'aaa' // ä¸èƒ½å°†ç±»å‹â€œstringâ€åˆ†é…ç»™ç±»å‹â€œvoidâ€
  ```


## 45ã€å¦‚ä½•åœ¨ TypeScript ä¸­æŒ‡å®šå¯é€‰å±æ€§ï¼Ÿ
é€šè¿‡æ·»åŠ  `?` å¯¹è±¡ç±»å‹å¯ä»¥å…·æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå¯é€‰å±æ€§ï¼Œåœ¨å±æ€§åç§°ä¹‹å
```ts
let pt: { x: number; y?: number } = {
  x: 10
}
```


## 46ã€TypeScript ä¸­æ§åˆ¶æˆå‘˜å¯è§æ€§æœ‰å‡ ç§æ–¹æ³•ï¼Ÿ tsä¸­çš„è®¿é—®ä¿®é¥°ç¬¦ï¼Ÿ
TypeScript æä¾›äº†ä¸‰ä¸ªå…³é”®å­—æ¥æ§åˆ¶ç±»æˆå‘˜çš„å¯è§æ€§
- `public`ï¼šæ‚¨å¯ä»¥åœ¨ class å¤–çš„ä»»ä½•åœ°æ–¹è®¿é—®å…¬å…±æˆå‘˜ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ç±»æˆå‘˜éƒ½æ˜¯å…¬å…±çš„ã€‚
- `protected`ï¼šå—ä¿æŠ¤çš„æˆå‘˜ä»…å¯¹åŒ…å«è¯¥æˆå‘˜çš„ç±»çš„å­ç±»å¯è§ã€‚ä¸æ‰©å±•å®¹å™¨ç±»çš„å¤–éƒ¨ä»£ç æ— æ³•è®¿é—®å—ä¿æŠ¤çš„æˆå‘˜ã€‚
- `private`ï¼šç§æœ‰æˆå‘˜ä»…åœ¨ç±»å†…éƒ¨å¯è§ï¼Œæ²¡æœ‰å¤–éƒ¨ä»£ç å¯ä»¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ã€‚
- `readonly`ï¼šå±æ€§è®¾ç½®ä¸ºåªè¯»


## 47ã€TypeScript æ”¯æŒé™æ€ç±»å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
åœ¨ TypeScript ä¸­ï¼Œä¸æ”¯æŒé™æ€ç±»çš„æ¦‚å¿µã€‚å› ä¸ºç±»æœ¬èº«å°±æ˜¯ä¸€ç§é™æ€ç»“æ„ï¼Œå®ƒçš„å®šä¹‰å’Œç±»å‹åœ¨ç¼–è¯‘æ—¶å°±å·²ç»ç¡®å®šäº†ï¼Œæ— æ³•åœ¨è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ æˆ–ä¿®æ”¹ã€‚

ç›¸æ¯”ä¹‹ä¸‹ï¼Œé™æ€æˆå‘˜æ˜¯æŒ‡å±äºç±»è€Œéå®ä¾‹çš„æˆå‘˜ï¼Œå¯ä»¥åœ¨ç±»ä¸­å£°æ˜å¹¶é€šè¿‡ç±»åç›´æ¥è®¿é—®ã€‚ä¾‹å¦‚ï¼š
```ts
class Person {
  static species = 'Homo sapiens';
  constructor(public name: string) {}
  static getSpecies() {
    return this.species;
  }
}
console.log(Person.species); // è¾“å‡º "Homo sapiens"
console.log(Person.getSpecies()); // è¾“å‡º "Homo sapiens"
```


## 48ã€Typescript çš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ
TypeScript æœ‰ä»¥ä¸‹ç¼ºç‚¹ï¼š
1. å­¦ä¹ æˆæœ¬é«˜ï¼šå¦‚æœæ‚¨æ²¡æœ‰æ¥è§¦è¿‡ JavaScript æˆ–é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œé‚£ä¹ˆå­¦ä¹  TypeScript å¯èƒ½ä¼šè€—è´¹å¤§é‡æ—¶é—´å’Œç²¾åŠ›ã€‚æ­¤å¤–ï¼ŒTypeScript è¿˜åœ¨ä¸æ–­æ›´æ–°å’Œå‘å±•ï¼Œéœ€è¦åŠæ—¶äº†è§£æ–°ç‰¹æ€§å’Œè¯­æ³•ã€‚
2. å¼€å‘ç¯å¢ƒé…ç½®éº»çƒ¦ï¼šè¦ä½¿ç”¨ TypeScriptï¼Œå¼€å‘ç¯å¢ƒéœ€è¦è¿›è¡Œç›¸åº”çš„é…ç½®ï¼Œæ¯”å¦‚å®‰è£… TypeScript ç¼–è¯‘å™¨ã€è®¾ç½®é¡¹ç›®é…ç½®æ–‡ä»¶ç­‰ç­‰ã€‚è¿™å¯èƒ½å¯¹ä¸€äº›åˆå­¦è€…æ¥è¯´æœ‰ä¸€å®šçš„éš¾åº¦ã€‚
3. å·¥å…·æ”¯æŒä¸å¤Ÿå®Œå–„ï¼šè™½ç„¶è¶Šæ¥è¶Šå¤šçš„ç¼–è¾‘å™¨å’Œ IDE æ”¯æŒ TypeScriptï¼Œä½†ä»ç„¶æœ‰ä¸€äº›å·¥å…·æ”¯æŒä¸å¤Ÿå®Œå–„ï¼Œå¯¼è‡´ä½¿ç”¨èµ·æ¥ä¸å¤ªæ–¹ä¾¿ã€‚
4. é™æ€ç±»å‹é™åˆ¶ï¼šTypeScript çš„é™æ€ç±»å‹ç³»ç»Ÿå¯ä»¥å¸®åŠ©å‡å°‘é”™è¯¯ï¼Œä½†æœ‰æ—¶ä¹Ÿå¯èƒ½æˆä¸ºé™åˆ¶ã€‚ä¸€äº›åŠ¨æ€ç±»å‹çš„ä»£ç éœ€è¦è¿›è¡Œé¢å¤–çš„æ³¨é‡Šæˆ–ç±»å‹æ ‡è®°ï¼Œæ‰èƒ½åœ¨ TypeScript ä¸­æ­£å¸¸è¿è¡Œã€‚
5. é¡¹ç›®ç»“æ„å¤æ‚ï¼šä¸ºäº†å……åˆ†åˆ©ç”¨ TypeScript çš„æ‰€æœ‰åŠŸèƒ½ï¼Œéœ€è¦ä½¿ç”¨æ¨¡å—åŒ–å’Œå‘½åç©ºé—´ç­‰æ¦‚å¿µï¼Œä½¿å¾—é¡¹ç›®ç»“æ„å˜å¾—æ›´åŠ å¤æ‚ï¼Œéœ€è¦èŠ±è´¹é¢å¤–çš„æ—¶é—´å’Œç²¾åŠ›è¿›è¡Œè®¾è®¡å’Œç»´æŠ¤ã€‚


## 49ã€TypeScriptä¸­anyï¼Œneverï¼Œunknownå’Œviodæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
1. `any`ç±»å‹è¡¨ç¤ºä»»æ„ç±»å‹ï¼Œåœ¨å£°æ˜å˜é‡æˆ–å‡½æ•°å‚æ•°æ—¶ä¸æŒ‡å®šå…¶å…·ä½“ç±»å‹ï¼Œä»è€Œè®©å®ƒä»¬å¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„å€¼ã€‚
  ```ts
  let value: any = 123;
  value = 'Hello';
  value = { name: 'Tom' };
  ```
2. `never`ç±»å‹è¡¨ç¤ºæ°¸è¿œä¸ä¼šå‘ç”Ÿçš„ç±»å‹ï¼Œé€šå¸¸ç”¨äºç±»ä¼¼æŠ›å‡ºå¼‚å¸¸æˆ–è¿›ç¨‹ç»ˆæ­¢ç­‰åœºæ™¯ã€‚
  - ä¸€ä¸ªå‡½æ•°æ€»æ˜¯æŠ›å‡ºé”™è¯¯ï¼Œè€Œæ²¡æœ‰è¿”å›å€¼
  - ä¸€ä¸ªå‡½æ•°å†…éƒ¨æœ‰æ­»å¾ªç¯ï¼Œæ°¸è¿œä¸ä¼šæœ‰è¿”å›å€¼
  ```ts
  function throwError(message: string): never {
    throw new Error(message);
  }
  throwError('Something went wrong.');
  ```
3. `unknown`ç±»å‹è¡¨ç¤ºæœªçŸ¥ç±»å‹ï¼Œç”¨äºç¼–è¯‘æ—¶ä¸ç¡®å®šå˜é‡ç±»å‹çš„æƒ…å†µã€‚ä¸`any`ä¸åŒçš„æ˜¯ï¼Œä½¿ç”¨`unknown`ç±»å‹æ—¶éœ€è¦è¿›è¡Œç±»å‹æ£€æµ‹å’Œç±»å‹è½¬æ¢æ‰èƒ½å®‰å…¨åœ°ä½¿ç”¨å˜é‡ã€‚
  ```ts
  function greet(name: unknown): void {
    if (typeof name === 'string') {
      console.log(`Hello, ${name}!`);
    } else {
      console.log("I don't know who you are.");
    }
  }
  greet('Tom'); // è¾“å‡º "Hello, Tom!"
  greet(123);   // è¾“å‡º "I don't know who you are."
  ```
4. `void`ç±»å‹è¡¨ç¤ºæ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°ï¼Œé€šå¸¸ç”¨äºå£°æ˜å‡½æ•°æ—¶ï¼ŒæŒ‡å®šå‡½æ•°ä¸ä¼šè¿”å›ä»»ä½•å€¼ã€‚
  ```ts
  function hello(): void {
    console.log('Hello, world!');
  }
  hello(); // è¾“å‡º "Hello, world!"
  ```


## 50ã€TypeScript ä¸­ never å’Œ void çš„åŒºåˆ«
- `void`è¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ï¼ˆå¯ä»¥è¢«èµ‹å€¼ä¸º`null`å’Œ`undefined`ï¼‰ã€‚
- `never`è¡¨ç¤ºä¸€ä¸ªä¸åŒ…å«å€¼çš„ç±»å‹ï¼Œå³è¡¨ç¤ºæ°¸è¿œä¸å­˜åœ¨çš„å€¼ã€‚

æ‹¥æœ‰`void`è¿”å›å€¼ç±»å‹çš„å‡½æ•°èƒ½æ­£å¸¸è¿è¡Œã€‚æ‹¥æœ‰`never`è¿”å›å€¼ç±»å‹çš„å‡½æ•°æ— æ³•æ­£å¸¸è¿”å›ï¼Œæ— æ³•ç»ˆæ­¢ï¼Œæˆ–ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
- ç”¨äºå‡½æ•°æ—¶`never`è¡¨ç¤ºå‡½æ•°ç”¨äºæ‰§è¡Œä¸æ­¥(æŠ›å‡ºå¼‚å¸¸æˆ–æ­»åˆ°è¿”å›å€¼é‚£ä¸€å¾ªç¯)çš„è¿”å›å€¼ç±»å‹ï¼Œå³æ°¸ä¸å­˜åœ¨å€¼çš„ç±»å‹ã€‚
- ç”¨äºå‡½æ•°æ—¶`void`åˆ™è¡¨ç¤ºæ²¡æœ‰è¿”å›å€¼ï¼Œä¸è¿”å›æˆ–è¿”å›`undefined`


## 51ã€å®‰è£… Typescript çš„æœ€ä½è¦æ±‚æ˜¯ä»€ä¹ˆï¼Ÿæˆ–è€…å¦‚ä½•è·å¾— TypeScript å¹¶å®‰è£…å®ƒï¼Ÿ
TypeScript å¯ä»¥é€šè¿‡ npm(Node.js åŒ…ç®¡ç†å™¨)åœ¨ node çš„å¸®åŠ©ä¸‹å®‰è£…å’Œç®¡ç†ã€‚è¦å®‰è£… TypeScriptï¼Œé¦–å…ˆç¡®ä¿ npm å®‰è£…æ­£ç¡®ï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤åœ¨ç³»ç»Ÿä¸Šå…¨å±€å®‰è£… TypeScriptã€‚ 
```shell
npm install -g typescript
```
å®ƒå®‰è£…äº†ä¸€ä¸ªå‘½ä»¤è¡Œä»£ç tscï¼Œå®ƒå°†è¿›ä¸€æ­¥ç”¨äºç¼–è¯‘ Typescript ä»£ç ã€‚

å®‰è£… TypeScript æ¶‰åŠä»¥ä¸‹æ­¥éª¤ï¼š
- ä¸‹è½½å¹¶è¿è¡ŒèŠ‚ç‚¹çš„ `.msi` å®‰è£…ç¨‹åºã€‚
- è¾“å…¥å‘½ä»¤`node -v`æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸã€‚
- åœ¨ç»ˆç«¯çª—å£ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… Typescriptï¼š `npm install -g typescript`


## 52ã€å†…éƒ¨æ¨¡å—å’Œå¤–éƒ¨æ¨¡å—æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
å†…éƒ¨æ¨¡å—ä¸»è¦ç”¨äºå°è£…ä¸€äº›ç›¸å…³çš„åŠŸèƒ½æˆ–å¯¹è±¡ï¼Œå¹¶é¿å…ä¸å…¶ä»–ä»£ç å‘ç”Ÿå‘½åå†²çªã€‚å®ƒä»¬å¯ä»¥ä½¿ç”¨`namespace`å…³é”®å­—æ¥å®šä¹‰ï¼Œé€šè¿‡ç‚¹è¿ç®—ç¬¦è¿›è¡Œè®¿é—®ã€‚ä¾‹å¦‚ï¼š
```ts
namespace MyNamespace {
  export function myFunction() {
    // ...
  }
  export class MyClass {
    // ...
  }
}
```
å¤–éƒ¨æ¨¡å—ä¸»è¦ç”¨äºåˆ†ç¦»å’Œç»„ç»‡ä»£ç ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç®¡ç†å’Œé‡ç”¨ä»£ç ã€‚å®ƒä»¬å¯ä»¥ä½¿ç”¨`import`å’Œ`export`å…³é”®å­—è¿›è¡Œå¯¼å…¥å’Œå¯¼å‡ºï¼Œä»¥ä¾¿åœ¨ä¸åŒæ–‡ä»¶æˆ–æ¨¡å—ä¹‹é—´å…±äº«ä»£ç ã€‚ä¾‹å¦‚ï¼š
```ts
// åœ¨ module1.ts æ–‡ä»¶ä¸­
export function myFunction() {
  // ...
}
// åœ¨ module2.ts æ–‡ä»¶ä¸­
import { myFunction } from './module1';
myFunction();
```


## 53ã€ğŸ‘å¯ä»¥åœ¨åç«¯ä½¿ç”¨ TypeScript å—ï¼Ÿ å¦‚æœæ˜¯å¯ä»¥ï¼Œé‚£ä¹ˆåº”è¯¥å¦‚ä½•ä½¿ç”¨ï¼Ÿ
> æ‹“å±•è¯´æ˜ï¼šå¦‚ä½•åœ¨koaä¸­ä½¿ç”¨tsã€‚

æ˜¯çš„ï¼Œå¯ä»¥åœ¨åç«¯ä½¿ç”¨ TypeScriptã€‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä¾‹å­æ¥ç†è§£å®ƒã€‚åœ¨è¿™é‡Œï¼Œé€‰æ‹© Node.js å¹¶å…·æœ‰ä¸€äº›é¢å¤–çš„ç±»å‹å®‰å…¨æ€§å’Œè¯¥è¯­è¨€å¸¦æ¥çš„å…¶ä»–æŠ½è±¡ã€‚
1. ç¬¬1æ­¥ï¼šå®‰è£… Typescript ç¼–è¯‘å™¨ï¼š
  ```shell
  npm i -g typescript
  ```
2. ç¬¬2æ­¥ï¼šTypeScript ç¼–è¯‘å™¨é‡‡ç”¨`tsconfig.json`æ–‡ä»¶ä¸­çš„é€‰é¡¹ã€‚æ­¤æ–‡ä»¶ç¡®å®šå°†æ„å»ºæ–‡ä»¶æ”¾åœ¨ä½•å¤„ã€‚
  ```json
  {  
    "compilerOptions": {  
      "target": "es5",  
      "module": "commonjs",  
      "declaration": true,  
      "outDir": "build"  
    }  
  }
  ```
3. ç¬¬3æ­¥ï¼šç¼–è¯‘tsæ–‡ä»¶
  ```shell
  tsc
  ```
4. ç¬¬4æ­¥ï¼šè¿è¡Œ
  ```shell
  node build/index.js
  ```



## 55ã€æ˜¯å¦å¯ä»¥è°ƒè¯•ä»»ä½• TypeScript æ–‡ä»¶ï¼Ÿ
TypeScript æ–‡ä»¶å¯ä»¥åƒ JavaScript æ–‡ä»¶ä¸€æ ·è¿›è¡Œè°ƒè¯•ã€‚ä»¥ä¸‹æ˜¯åœ¨ VS Code ç¼–è¾‘å™¨ä¸­è°ƒè¯• TypeScript æ–‡ä»¶çš„æ­¥éª¤ï¼š
1. ç¡®ä¿æ‚¨å·²ç»åœ¨é¡¹ç›®ä¸­å®‰è£…äº†`ts-node`å’Œ`source-map-support`ã€‚
2. åœ¨ VS Code ä¸­æ‰“å¼€ TypeScript æ–‡ä»¶ï¼Œå¹¶è®¾ç½®æ–­ç‚¹ã€‚
3. æŒ‰`F5`æˆ–ç‚¹å‡»`Debug`å·¥å…·æ ä¸­çš„â€œå¯åŠ¨è°ƒè¯•â€æŒ‰é’®ï¼Œé€‰æ‹©`Node.js`ç¯å¢ƒã€‚
4. åœ¨å¼¹å‡ºçš„`launch.json`é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š
  ```json
  {
    "type": "node",
    "request": "launch",
    "name": "Debug TypeScript",
    "program": "${workspaceFolder}/path/to/your/typescript/file.ts",
    "runtimeArgs": ["-r", "ts-node/register", "-r", "source-map-support/register"],
    "sourceMaps": true,
    "cwd": "${workspaceFolder}"
  }
  ```
5. ä¿å­˜`launch.json`é…ç½®æ–‡ä»¶å¹¶é‡æ–°å¯åŠ¨è°ƒè¯•ä¼šè¯ã€‚
6. å½“åº”ç”¨ç¨‹åºåœæ­¢åœ¨è®¾ç½®çš„æ–­ç‚¹æ—¶ï¼Œå³å¯å¼€å§‹è°ƒè¯• TypeScript æ–‡ä»¶ã€‚

æ³¨æ„: ä»¥ä¸Šæ­¥éª¤ä»…é€‚ç”¨äºä½¿ç”¨ Node.js è¿è¡Œæ—¶çš„æƒ…å†µã€‚å¦‚æœæ‚¨ä½¿ç”¨å…¶ä»–è¿è¡Œæ—¶ï¼Œè¯·ç›¸åº”åœ°ä¿®æ”¹`runtimeArgs`å’Œ`program`å±æ€§ã€‚


## 56ã€TypeScriptç®¡ç†å™¨æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ
TypeScriptç®¡ç†å™¨æ˜¯æŒ‡ç”¨äºç®¡ç†TypeScriptä¾èµ–é¡¹çš„å·¥å…·ï¼Œæœ€å¸¸è§çš„ä¾‹å­æ˜¯npmã€‚å®ƒä»¬è®©å¼€å‘äººå‘˜å¯ä»¥è½»æ¾åœ°å®‰è£…ã€å‡çº§å’Œåˆ é™¤TypeScriptåº“åŠå…¶ä¾èµ–é¡¹ã€‚

TypeScriptçš„ä¸€äº›ç®€å•æ­¥éª¤ï¼š
1. ç¡®ä¿å·²å®‰è£…`Node.js`å’Œ`npm`ã€‚
2. æ‰“å¼€å‘½ä»¤è¡Œç•Œé¢å¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š`npm install -g typescript`
3. ç­‰å¾…å®‰è£…å®Œæˆï¼Œå¯ä»¥é€šè¿‡è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥TypeScriptæ˜¯å¦æ­£ç¡®å®‰è£…ï¼š`tsc -v`
4. åœ¨é¡¹ç›®ä¸­ä½¿ç”¨TypeScriptæ—¶ï¼Œéœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º`package.json`çš„æ–‡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ ä¾èµ–é¡¹ï¼š`"dependencies": { "typescript": "^4.4.4" }`
5. åœ¨å‘½ä»¤è¡Œç•Œé¢ä¸­åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•ï¼Œå¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–é¡¹ï¼š`npm install`
6. ç°åœ¨å°±å¯ä»¥å¼€å§‹ç¼–å†™TypeScriptä»£ç å¹¶åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨`tsc`å‘½ä»¤å°†å…¶ç¼–è¯‘æˆJavaScriptäº†ã€‚

éœ€è¦TypeScriptç®¡ç†å™¨çš„åŸå› æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š
1. TypeScriptåº”ç”¨ç¨‹åºé€šå¸¸ä¼šä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œè€Œè¿™äº›åº“åˆå¯èƒ½ä¾èµ–äºå…¶ä»–åº“ã€‚ä½¿ç”¨TypeScriptç®¡ç†å™¨å¯ä»¥æ–¹ä¾¿åœ°ç®¡ç†è¿™äº›å¤æ‚çš„ä¾èµ–å…³ç³»ã€‚
2. TypeScriptç®¡ç†å™¨å¯ä»¥è‡ªåŠ¨ä¸‹è½½å’Œå®‰è£…åº“åŠå…¶ä¾èµ–é¡¹ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºçš„å®‰è£…å’Œæ›´æ–°å˜å¾—ç®€å•å¿«æ·ã€‚
3. TypeScriptç®¡ç†å™¨æä¾›äº†ä¸€ä¸ªä¸­å¤®ä»“åº“ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥æ›´å®¹æ˜“åœ°å‘ç°ã€å…±äº«å’Œé‡ç”¨å…¶ä»–äººç¼–å†™çš„ä»£ç ã€‚



## 57ã€TypeScriptå£°æ˜(declare)å…³é”®å­—æ˜¯ä»€ä¹ˆï¼Ÿ
TypeScriptä¸­çš„`declare`å…³é”®å­—ç”¨äºå®šä¹‰ç±»å‹æˆ–ç»‘å®šåˆ°å¤–éƒ¨ä»£ç çš„ç±»å‹å£°æ˜ã€‚
- ä¾‹å¦‚ï¼Œä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºå¦‚ä½•ä½¿ç”¨`declare`å…³é”®å­—å£°æ˜å…¨å±€å˜é‡ï¼š
  ```ts
  declare const myGlobal: string;
  ```
- è¿˜å¯ä»¥ä½¿ç”¨`declare`æ¥æè¿°å¤–éƒ¨æ¨¡å—æˆ–å‘½åç©ºé—´ï¼Œä»¥ä¾¿TypeScriptåœ¨ç¼–è¯‘æ—¶èƒ½å¤Ÿæ­£ç¡®åœ°å¤„ç†å®ƒä»¬ã€‚ä¾‹å¦‚ï¼š
  ```ts
  declare module "myModule" {
    export function myFunction(): void;
  }
  ```
  è¿™å°†å‘Šè¯‰TypeScriptå­˜åœ¨ä¸€ä¸ªåä¸º`"myModule"`çš„æ¨¡å—ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªåä¸º`"myFunction"`çš„å¯¼å‡ºå‡½æ•°ã€‚



## 58ã€å¦‚ä½•ä»ä»»ä½• .ts æ–‡ä»¶ç”Ÿæˆ TypeScript å®šä¹‰æ–‡ä»¶ï¼Ÿ
è¦ä»TypeScriptæ–‡ä»¶ç”Ÿæˆå®šä¹‰æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨TypeScriptç¼–è¯‘å™¨(`tsc`)çš„`--declaration(æˆ–-d)`é€‰é¡¹ã€‚è¯¥é€‰é¡¹ä¼šå‘Šè¯‰ç¼–è¯‘å™¨åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ç”Ÿæˆç›¸åº”çš„`.d.ts`æ–‡ä»¶ã€‚
```shell
tsc --declaration file1.ts
```
ä»¥ä¸‹æ˜¯ä¸€äº›ç®€å•çš„æ­¥éª¤ï¼š
1. ç¡®ä¿å·²å®‰è£…TypeScriptã€‚å¦‚æœæœªå®‰è£…ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å…¨å±€å®‰è£…ï¼š`npm install -g typescript`
2. åˆ›å»ºä¸€ä¸ªåŒ…å«TypeScriptæºä»£ç çš„ç›®å½•ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåä¸º`tsconfig.json`çš„æ–‡ä»¶æ¥é…ç½®ç¼–è¯‘å™¨é€‰é¡¹ã€‚
3. åœ¨`tsconfig.json`æ–‡ä»¶ä¸­æ·»åŠ `"declaration": true`é…ç½®é€‰é¡¹ï¼Œä»¥å¯ç”¨ç”Ÿæˆå®šä¹‰æ–‡ä»¶åŠŸèƒ½ã€‚
  > å¯ä»¥é…ç½®`tsconfig.json`æ–‡ä»¶ä¸­çš„`declaration`å’Œ`outDir`
  1. `declaration: true`, å°†ä¼šè‡ªåŠ¨ç”Ÿæˆå£°æ˜æ–‡ä»¶
  2. `outDir: ''`, æŒ‡å®šç›®å½•
4. æ‰§è¡Œ`tsc`å‘½ä»¤ï¼Œç¼–è¯‘å™¨å°†ä¼šç”Ÿæˆ`.js`å’Œ`.d.ts`ä¸¤ä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­`.d.ts`æ–‡ä»¶å°±æ˜¯å®šä¹‰æ–‡ä»¶ã€‚
```json
{
  "compilerOptions": {
    "target": "es6",
    "module": "commonjs",
    "outDir": "./dist",
    "declaration": true
  },
  "include": [
    "./src/**/*"
  ]
}
```
è¿è¡Œ`tsc`å‘½ä»¤ï¼š
```shell
tsc -p tsconfig.json
```
è¿™å°†ä¼šåœ¨`./dist`ç›®å½•ä¸‹ç”Ÿæˆç¼–è¯‘åçš„`.js`å’Œ`.d.ts`æ–‡ä»¶ã€‚


## 59ã€tsconfig.jsonæ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ
`tsconfig.json` æ–‡ä»¶æ˜¯ JSON æ ¼å¼çš„æ–‡ä»¶ã€‚åœ¨ `tsconfig.json` æ–‡ä»¶ä¸­ï¼Œå¯ä»¥æŒ‡å®šå„ç§é€‰é¡¹æ¥å‘Šè¯‰ç¼–è¯‘å™¨å¦‚ä½•ç¼–è¯‘å½“å‰é¡¹ç›®ã€‚ç›®å½•ä¸­å­˜åœ¨ `tsconfig.json` æ–‡ä»¶è¡¨æ˜è¯¥ç›®å½•æ˜¯ TypeScript é¡¹ç›®çš„æ ¹ç›®å½•ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ `tsconfig.json` æ–‡ä»¶çš„å†…å®¹ï¼š
```json
{  
  "compilerOptions": {  
    "declaration": true,      
    "emitDecoratorMetadata": false,      
    "experimentalDecorators": false,      
    "module": "none",      
    "moduleResolution": "node"  
    "removeComments": true,  
    "sourceMap": true  
  },  
  "files": [  
    "main.ts",  
    "othermodule.ts"  
  ]  
}
```


## 60ã€TypeScript ä¸­çš„ç¯å¢ƒæ˜¯ä»€ä¹ˆï¼Ÿä½•æ—¶ä½¿ç”¨å®ƒä»¬ï¼Ÿ
åœ¨TypeScriptä¸­ï¼Œç¯å¢ƒï¼ˆEnvironmentï¼‰æ˜¯æŒ‡ä¸€ç»„ç±»å‹å®šä¹‰æˆ–åº“å®šä¹‰çš„é›†åˆï¼Œç”¨äºæè¿°ç‰¹å®šçš„è¿è¡Œç¯å¢ƒæˆ–ç›®æ ‡å¹³å°ã€‚è¿™äº›ç¯å¢ƒå¯ä»¥åŒ…æ‹¬å¸¸è§çš„JavaScriptè¿è¡Œæ—¶ï¼Œä¾‹å¦‚æµè§ˆå™¨ã€Node.jså’ŒWeb Workersï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç¬¬ä¸‰æ–¹åº“æˆ–æ¡†æ¶ã€‚

TypeScriptä¸­é¢„å®šä¹‰äº†è®¸å¤šç¯å¢ƒï¼Œå¦‚`domã€es5ã€es6ã€node`ç­‰ï¼Œå®ƒä»¬éƒ½æ˜¯é€šè¿‡åœ¨ç±»å‹å®šä¹‰æ–‡ä»¶ä¸­å£°æ˜ç±»å‹æ¥å®ç°çš„ã€‚ä¾‹å¦‚ï¼Œå½“ä½¿ç”¨`dom`ç¯å¢ƒæ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åŠ è½½ä¸€ä¸ªåä¸º`lib.dom.d.ts`çš„ç±»å‹å®šä¹‰æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†ä¸DOMå…ƒç´ ç›¸å…³çš„æ‰€æœ‰ç±»å‹ä¿¡æ¯ã€‚

å¯ä»¥é€šè¿‡åœ¨`tsconfig.json`æ–‡ä»¶ä¸­çš„`"compilerOptions"`é€‰é¡¹ä¸­çš„`"lib"`å±æ€§ä¸­è®¾ç½®æ‰€éœ€çš„ç¯å¢ƒæ¥é€‰æ‹©è¦ä½¿ç”¨çš„ç¯å¢ƒã€‚ä¾‹å¦‚ï¼š
```json
{
  "compilerOptions": {
    "lib": ["es6", "dom"]
  }
}
```
ä½¿ç”¨ç¯å¢ƒå¯ä»¥ä½¿ä»£ç æ›´åŠ å¯é å’Œå¥å£®ï¼Œå¹¶ä¸”èƒ½å¤Ÿå‡å°‘ç±»å‹é”™è¯¯å’Œè¿è¡Œæ—¶é”™è¯¯ã€‚å¯ä»¥æ ¹æ®é¡¹ç›®éœ€è¦é€‰æ‹©æ‰€éœ€çš„ç¯å¢ƒï¼Œä¾‹å¦‚æµè§ˆå™¨åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦`dom`ç¯å¢ƒï¼Œè€ŒæœåŠ¡å™¨åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦`node`ç¯å¢ƒã€‚


## 61ã€ç›¸å¯¹ä¸éç›¸å¯¹æ¨¡å—å¯¼å…¥æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
éç›¸å¯¹æ¨¡å—å¯¼å…¥ï¼šå¯ä»¥ç›¸å¯¹äº baseUrl æˆ–é€šè¿‡è·¯å¾„æ˜ å°„æ¥è§£æéç›¸å¯¹å¯¼å…¥ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨å¯¼å…¥ä»»ä½•å¤–éƒ¨ä¾èµ–é¡¹æ—¶ä½¿ç”¨éç›¸å¯¹è·¯å¾„ã€‚
```ts
import * as $ from "jquery";
import { Component } from "@angular/core";
```
ç›¸å¯¹æ¨¡å—å¯¼å…¥ï¼šç›¸å¯¹å¯¼å…¥å¯ä»¥ç”¨äºæˆ‘ä»¬è‡ªå·±çš„æ¨¡å—ï¼Œè¿™äº›æ¨¡å—ä¿è¯åœ¨è¿è¡Œæ—¶ä¿æŒå®ƒä»¬çš„ç›¸å¯¹ä½ç½®ã€‚ç›¸å¯¹å¯¼å…¥ä»¥ `/`ã€`./` æˆ– `../` å¼€å¤´ã€‚
```ts
import Entry from "./components/Entry";
import {DefaultHeaders} from "../constants/http";
```


## 62ã€åŒ¿åå‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿ
åŒ¿åå‡½æ•°æ˜¯åœ¨æ²¡æœ‰ä»»ä½•å‘½åæ ‡è¯†ç¬¦çš„æƒ…å†µä¸‹å£°æ˜çš„å‡½æ•°ã€‚è¿™äº›å‡½æ•°åœ¨è¿è¡Œæ—¶åŠ¨æ€å£°æ˜ã€‚å°±åƒæ ‡å‡†å‡½æ•°ä¸€æ ·ï¼ŒåŒ¿åå‡½æ•°å¯ä»¥æ¥å—è¾“å…¥å¹¶è¿”å›è¾“å‡ºã€‚åŒ¿åå‡½æ•°åœ¨åˆå§‹åˆ›å»ºåé€šå¸¸æ— æ³•è®¿é—®ã€‚
```ts
let myAdd = function(x: number, y: number): number {   
  return x + y;   
};  
console.log(myAdd())
```


## 63ã€TypeScriptä¸­çš„æ–¹æ³•è¦†ç›–æ˜¯ä»€ä¹ˆï¼Ÿ
å¦‚æœå­ç±»(å­ç±»)ä¸çˆ¶ç±»ä¸­å£°æ˜çš„æ–¹æ³•ç›¸åŒï¼Œåˆ™ç§°ä¸ºæ–¹æ³•è¦†ç›–ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ´¾ç”Ÿç±»æˆ–å­ç±»ä¸­é‡æ–°å®šä¹‰äº†åŸºç±»æ–¹æ³•ã€‚

æ–¹æ³•è¦†ç›–è§„åˆ™ï¼š
- æ–¹æ³•å¿…é¡»ä¸çˆ¶ç±»ä¸­çš„æ–¹æ³•åŒå
- æ–¹æ³•å¿…é¡»å…·æœ‰ä¸çˆ¶ç±»ä¸­ç›¸åŒçš„å‚æ•°ã€‚
- å¿…é¡»å­˜åœ¨ IS-A å…³ç³»(ç»§æ‰¿)ã€‚
```ts
class NewPrinter extends Printer {  
  doPrint(): any {  
    super.doPrint();  
    console.log("Called Child class.");  
  }  
  doInkJetPrint(): any {  
    console.log("Called doInkJetPrint().");  
  }  
}  
let printer: new () => NewPrinter;  
printer.doPrint();  
printer.doInkJetPrint();
```


## 64ã€TypeScript ç±»ä¸­å±æ€§/æ–¹æ³•çš„é»˜è®¤å¯è§æ€§æ˜¯ä»€ä¹ˆï¼Ÿ
`public` æ˜¯TypeScriptç±»ä¸­å±æ€§/æ–¹æ³•çš„é»˜è®¤å¯è§æ€§ã€‚å¦‚æœæ²¡æœ‰æ˜¾å¼æŒ‡å®šå±æ€§æˆ–æ–¹æ³•çš„å¯è§æ€§ä¿®é¥°ç¬¦ï¼Œé‚£ä¹ˆå®ƒä»¬å°†è¢«è§†ä¸ºå…¬å…±çš„ï¼Œå¯ä»¥åœ¨ç±»çš„å®ä¾‹ä»¥åŠå­ç±»ä¸­è®¿é—®ã€‚


## 65ã€ä»€ä¹ˆæ˜¯ .map æ–‡ä»¶ï¼Œä¸ºä»€ä¹ˆ/å¦‚ä½•ä½¿ç”¨å®ƒï¼Ÿ
åœ¨TypeScriptç¼–è¯‘æ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ªä¸æ¯ä¸ª TypeScript æ–‡ä»¶å¯¹åº”çš„ JavaScript æ–‡ä»¶ï¼ŒåŒæ—¶ä¹Ÿä¼šç”Ÿæˆä¸€ä¸ª`.map`æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶åŒ…å«äº†æºä»£ç å’Œç¼–è¯‘åä»£ç ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚

`.map`æ–‡ä»¶æ˜¯ä¸€ç§è°ƒè¯•å·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜åœ¨è°ƒè¯• TypeScript åº”ç”¨æ—¶ï¼Œç›´æ¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ TypeScript ä»£ç è€Œä¸æ˜¯ç¼–è¯‘åçš„ JavaScript ä»£ç ã€‚è¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œæ–­ç‚¹è°ƒè¯•ã€æŸ¥çœ‹å˜é‡å€¼ç­‰æ“ä½œã€‚

ä½¿ç”¨`.map`æ–‡ä»¶éœ€è¦å°† TypeScript ç¼–è¯‘é€‰é¡¹ä¸­çš„`sourceMap`è®¾ç½®ä¸º`true`ï¼Œä¾‹å¦‚ï¼š
```bash
tsc --sourceMap app.ts
```
æˆ–è€…åœ¨`tsconfig.json`ä¸­è®¾ç½®ï¼š
```json
{
  "compilerOptions": {
    "sourceMap": true
  }
}
```
å¦‚æœå¼€å¯äº†æºæ˜ å°„ï¼Œå½“æµè§ˆå™¨åŠ è½½ç¼–è¯‘åçš„ JavaScript ä»£ç æ—¶ï¼Œä¼šè‡ªåŠ¨ä¸‹è½½å’Œè§£æç›¸åº”çš„`.map`æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨è°ƒè¯•å™¨ä¸­æ˜¾ç¤ºå‡º TypeScript ä»£ç ã€‚

`.map`æ–‡ä»¶é€šå¸¸åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š
- `version`å­—æ®µï¼šè¡¨ç¤ºæºæ˜ å°„ç‰ˆæœ¬ã€‚å½“å‰æœ€æ–°çš„ç‰ˆæœ¬æ˜¯ 3ã€‚
- `sources`å­—æ®µï¼šè¡¨ç¤ºæºæ–‡ä»¶è·¯å¾„ï¼Œé€šå¸¸å¯¹åº” TypeScript æ–‡ä»¶ã€‚
- `names`å­—æ®µï¼šè¡¨ç¤ºç¼–è¯‘åä»£ç ä¸­ä½¿ç”¨çš„å˜é‡åç­‰æ ‡è¯†ç¬¦ã€‚
- `mappings`å­—æ®µï¼šè¡¨ç¤ºæºä»£ç å’Œç¼–è¯‘åä»£ç ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚
```json
{
  "version": 3,
  "sources": ["app.ts"],
  "names": ["a", "b", "c"],
  "mappings": "AAAA,EAAE,IAAI,GAAI,MAAM,EAAE,IAAI;AACN,cAGA,CAAC,GAAG,EAAE,CAAC",
}
```


## 66ã€åŸç”Ÿ Javascript æ˜¯å¦æ”¯æŒæ¨¡å—ï¼Ÿ
åœ¨ES6ï¼ˆECMAScript 2015ï¼‰ä¸­ï¼ŒJavaScriptåŸç”Ÿæ”¯æŒæ¨¡å—åŒ–ã€‚å®ƒæä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼æ¥å®šä¹‰å’Œå¯¼å‡ºæ¨¡å—ï¼Œä½¿å¾— JavaScript å¼€å‘äººå‘˜èƒ½å¤Ÿæ›´åŠ æ–¹ä¾¿åœ°åˆ›å»ºã€ç»„ç»‡å’Œé‡ç”¨ä»£ç ã€‚

åœ¨ES6æ¨¡å—ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡`export`å…³é”®å­—å°†å‡½æ•°ã€ç±»ã€å˜é‡ç­‰å£°æ˜å¯¼å‡ºï¼Œä½¿å…¶å¯ä»¥è¢«å…¶ä»–æ¨¡å—ä½¿ç”¨ã€‚åŒæ—¶ï¼Œæ¨¡å—ä¹Ÿå¯ä»¥é€šè¿‡`import`å…³é”®å­—å¼•å…¥å…¶ä»–æ¨¡å—å¯¼å‡ºçš„åŠŸèƒ½ã€‚
```js
// data.js
export default {
  name: 'oss plugin',
  version: '1.0.0'
}
```
```html
<script type="module">
  import plugin from './data.js'
  console.log(plugin)
</script>
```

ç„¶è€Œï¼Œåœ¨ES6ä¹‹å‰çš„JavaScriptç‰ˆæœ¬ä¸­ï¼Œå¹¶æ²¡æœ‰åŸç”Ÿæ”¯æŒæ¨¡å—åŒ–ï¼Œå¼€å‘äººå‘˜é€šå¸¸ä½¿ç”¨å‘½åç©ºé—´å’Œç«‹å³æ‰§è¡Œå‡½æ•°ç­‰æŠ€æœ¯æ¥å®ç°æ¨¡å—åŒ–ã€‚è¿™äº›æ–¹æ³•è™½ç„¶å¯ä»¥è¾¾åˆ°ä¸€å®šçš„æ¨¡å—åŒ–æ•ˆæœï¼Œä½†ä»ç„¶å­˜åœ¨å„ç§é—®é¢˜ï¼Œå¦‚å…¨å±€å‘½åå†²çªã€ä¾èµ–ç®¡ç†ç­‰ã€‚


## 67ã€TypeScriptæœ‰å“ªäº›ç»„ä»¶ï¼Ÿ
TypeScriptä¸»è¦åŒ…å«ä¸‰ä¸ªç»„ä»¶ã€‚è¿™äº›ç»„ä»¶æœ‰ï¼š
- è¯­è¨€ï¼šè¯¥è¯­è¨€åŒ…å«æ–°è¯­æ³•ã€å…³é”®å­—ã€ç±»å‹æ³¨é‡Šç­‰å…ƒç´ ï¼Œå¹¶å…è®¸æˆ‘ä»¬ç¼–å†™ TypeScriptã€‚
- ç¼–è¯‘å™¨ï¼šTypeScript ç¼–è¯‘å™¨æ˜¯å¼€æºçš„ã€è·¨å¹³å°çš„ï¼Œå¹¶ä¸”æ˜¯ç”¨ TypeScript ç¼–å†™çš„ã€‚å®ƒå°†ç”¨ TypeScript ç¼–å†™çš„ä»£ç è½¬æ¢ä¸ºä¸å…¶ JavaScript ä»£ç ç­‰æ•ˆçš„ä»£ç ã€‚å®ƒæ‰§è¡Œæˆ‘ä»¬çš„ TypeScript ä»£ç åˆ° JavaScript ä»£ç çš„è§£æã€ç±»å‹æ£€æŸ¥ã€‚å®ƒè¿˜å¯ä»¥å¸®åŠ©å°†ä¸åŒçš„æ–‡ä»¶è¿æ¥åˆ°å•ä¸ªè¾“å‡ºæ–‡ä»¶å¹¶ç”Ÿæˆæºæ˜ å°„ã€‚
- è¯­è¨€æœåŠ¡ï¼šè¯­è¨€æœåŠ¡æä¾›çš„ä¿¡æ¯å¯å¸®åŠ©ç¼–è¾‘å™¨å’Œå…¶ä»–å·¥å…·æä¾›æ›´å¥½çš„è¾…åŠ©åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šè‡ªåŠ¨é‡æ„å’Œ IntelliSenseã€‚


## 68ã€TypeScriptä¸­interfaceå¯ä»¥ç»™Function/Array/Classåšå£°æ˜å—ï¼Ÿ
```ts
// å‡½æ•°ç±»å‹
interface SearchFunc {
  (source: string, subString: string): boolean;
}
let mySearch: SearchFunc;
mySearch = function(source: string, subString: string) {
  let result = source.search(subString);
  return result > -1;
}


// Array
interface StringArray {
  [index: number]: string;
}

let myArray: StringArray;
myArray = ["Bob", "Fred"];


// Class, constructorå­˜åœ¨äºç±»çš„é™æ€éƒ¨åˆ†ï¼Œæ‰€ä»¥ä¸ä¼šæ£€æŸ¥
interface ClockInterface {
  currentTime: Date;
  setTime(d: Date);
}

class Clock implements ClockInterface {
  currentTime: Date;
  setTime(d: Date) {
    this.currentTime = d;
  }
  constructor(h: number, m: number) { }
}
```


## 69ã€TypeScriptå¯ä»¥ä½¿ç”¨String,Number,Boolean,Symbol,Objectç­‰ç±»å‹åšå£°æ˜å—ï¼Ÿ
åœ¨ TypeScript ä¸­ï¼Œå¯ä»¥ä½¿ç”¨`Stringã€Numberã€Booleanã€Symbol å’Œ Object`ç­‰ç±»å‹æ¥è¿›è¡Œå£°æ˜ï¼Œè¿™äº›ç±»å‹æ˜¯ TypeScript çš„é¢„å®šä¹‰ç±»å‹ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨è¿™äº›ç±»å‹æ¥å£°æ˜å˜é‡å’Œå‡½æ•°å‚æ•°ï¼š
> åœ¨å®è·µä¸­ï¼Œé€šå¸¸æ›´æ¨èä½¿ç”¨ JavaScript çš„åŸå§‹ç±»å‹ï¼ˆå¦‚`stringã€numberã€boolean`ï¼‰è€Œä¸æ˜¯å¯¹åº”çš„åŒ…è£…ç±»å‹ï¼ˆå¦‚`Stringã€Numberã€Boolean`ï¼‰ã€‚å› ä¸ºåŸå§‹ç±»å‹æ›´ç¬¦åˆ JavaScript çš„è¯­æ³•å’Œä¹ æƒ¯ç”¨æ³•ï¼Œå¹¶ä¸”æ€§èƒ½æ›´å¥½ã€‚
```ts
const str: String = "hello"; // å£°æ˜ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å˜é‡
const num: Number = 42; // å£°æ˜ä¸€ä¸ªæ•°å­—ç±»å‹çš„å˜é‡
const bool: Boolean = true; // å£°æ˜ä¸€ä¸ªå¸ƒå°”ç±»å‹çš„å˜é‡
const sym: Symbol = Symbol("key"); // å£°æ˜ä¸€ä¸ªç¬¦å·ç±»å‹çš„å˜é‡
const obj: Object = { prop: "value" }; // å£°æ˜ä¸€ä¸ªå¯¹è±¡ç±»å‹çš„å˜é‡

function concatStrings(str1: String, str2: String): String { // å‡½æ•°å‚æ•°å’Œè¿”å›å€¼éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹
  return str1 + str2;
}
```


## 71ã€TypeScriptä»€ä¹ˆæ˜¯Unions Typesï¼Ÿ
TypeScriptä¸­çš„`Unions Types`ï¼Œå³è”åˆç±»å‹å¯ä»¥ç”¨`|`ç¬¦å·å°†å¤šä¸ªç±»å‹åˆå¹¶æˆä¸€ä¸ªè”åˆç±»å‹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº› TypeScript è”åˆç±»å‹çš„ç¤ºä¾‹ï¼š
1. æ•°å­—æˆ–å­—ç¬¦ä¸²ç±»å‹çš„è”åˆç±»å‹ï¼š
  ```ts
  let id: number | string;
  id = 123; // åˆæ³•
  id = "abc"; // åˆæ³•
  id = true; // ä¸åˆæ³•ï¼Œå› ä¸ºå¸ƒå°”ç±»å‹ä¸åœ¨è”åˆç±»å‹å†…
  ```
2. å…·æœ‰ä¸åŒå­—æ®µçš„å¯¹è±¡ç±»å‹çš„è”åˆç±»å‹:
  ```ts
  interface Circle {
    kind: "circle";
    radius: number;
  }
  interface Square {
    kind: "square";
    size: number;
  }
  type Shape = Circle | Square;

  function getArea(shape: Shape): number {
    switch (shape.kind) {
      case "circle":
        return Math.PI * shape.radius ** 2;
      case "square":
        return shape.size ** 2;
    }
  }

  const circle: Circle = { kind: "circle", radius: 3 };
  const square: Square = { kind: "square", size: 4 };
  console.log(getArea(circle)); // è¾“å‡º 28.274333882308138
  console.log(getArea(square)); // è¾“å‡º 16
  ```
3. å‡½æ•°ç±»å‹çš„è”åˆç±»å‹ï¼š
  ```ts
  type Func = () => string | (() => number);

  const func1: Func = () => "hello";
  const func2: Func = () => 42;

  console.log(func1()); // è¾“å‡º "hello"
  console.log(func2()); // è¾“å‡º 42
  ```


## 73ã€TypeScriptä¸­å¦‚ä½•è”åˆæšä¸¾/è”åˆç±»å‹ç±»å‹Key?
å¯ä»¥ä½¿ç”¨è”åˆç±»å‹æ“ä½œç¬¦`"|"`æ¥ç»„åˆå¤šä¸ªæšä¸¾/ç±»å‹çš„ Keyï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„è”åˆç±»å‹ã€‚
```ts
enum Fruit {
  APPLE = "apple",
  ORANGE = "orange"
}

enum Color {
  RED = "red",
  GREEN = "green"
}

type FruitOrColor = Fruit | Color;

function getColorOrFruit(key: FruitOrColor): string {
  return key === Fruit.APPLE || key === Fruit.ORANGE ? "fruit" : "color";
}
```

**keyof**å…³é”®å­—
> `keyof`æ˜¯ TypeScript ä¸­çš„ä¸€ä¸ªå…³é”®å­—ï¼Œç”¨äºè·å–ä¸€ä¸ªç±»å‹çš„æ‰€æœ‰å±æ€§åä½œä¸ºè”åˆç±»å‹ã€‚
```ts
type Keys = keyof T;
```
ä½¿ç”¨`keyof`å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œç±»å‹æ£€æŸ¥å’Œç±»å‹æ¨å¯¼ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨`keyof`æ¥ç¼–å†™ç±»å‹å®‰å…¨çš„å‡½æ•°æ“ä½œå¯¹è±¡çš„å±æ€§ï¼š
```ts
function getProperty<T, K extends keyof T>(obj: T, key: K) {
  return obj[key];
}

const person = { name: "Alice", age: 30 };
getProperty(person, "name"); // è¿”å› "Alice"
getProperty(person, "age"); // è¿”å› 30
getProperty(person, "gender"); // ç¼–è¯‘æ—¶ä¼šäº§ç”Ÿä¸€ä¸ªé”™è¯¯ï¼šArgument of type '"gender"' is not assignable to parameter of type 'keyof typeof person'.
```
é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨`keyof`æ¥å®ç°ä¸€äº›é«˜çº§çš„ç±»å‹æ“ä½œï¼Œä¾‹å¦‚ä»ä¸€ä¸ªå¯¹è±¡ç±»å‹ä¸­æ’é™¤æŸäº›å±æ€§ï¼š
```ts
type ExcludeKeys<T, U> = Exclude<keyof T, keyof U>;
```


## 74ã€TypeScriptä¸­é¢„å®šä¹‰çš„æœ‰æ¡ä»¶ç±»å‹æœ‰å“ªäº›ï¼Ÿ
1. `Exclude<T, U>`ï¼šä»ç±»å‹Tä¸­æ’é™¤å¯ä»¥èµ‹å€¼ç»™ç±»å‹Uçš„éƒ¨åˆ†ã€‚
2. `Extract<T, U>`ï¼šä»ç±»å‹Tä¸­æå–å¯ä»¥èµ‹å€¼ç»™ç±»å‹Uçš„éƒ¨åˆ†ã€‚
  ```ts
  type MyType = string | number | boolean;
  type MyStringType = Exclude<MyType, number | boolean>; // MyStringType çš„å€¼ä¸º stringã€‚
  type MyNumberType = Extract<MyType, number | Object>; // MyNumberType çš„å€¼ä¸º numberã€‚
  ```
3. `NonNullable<T>`ï¼šä»ç±»å‹Tä¸­æ’é™¤nullå’Œundefinedç±»å‹ã€‚
  ```ts
  type MyNullableType = string | null | undefined;
  type MyNonNullType = NonNullable<MyNullableType>; // MyNonNullType çš„å€¼ä¸º stringã€‚
  ```
4. `ReturnType<T>`ï¼šè·å–å‡½æ•°ç±»å‹Tçš„è¿”å›ç±»å‹ã€‚
  ```ts
  function myFunction(arg: string): number {
    return arg.length;
  }
  type MyReturnType = ReturnType<typeof myFunction>; // MyReturnType çš„å€¼ä¸º numberã€‚
  ```
5. `InstanceType<T>`ï¼šè·å–æ„é€ å‡½æ•°ç±»å‹Tçš„å®ä¾‹ç±»å‹ã€‚
  ```ts
  class MyClass {
    name: string;
    constructor(name: string) {
      this.name = name;
    }
  }
  type MyInstanceType = InstanceType<typeof MyClass>; // MyInstanceType çš„å€¼ä¸º MyClass ç±»å‹æœ¬èº«ã€‚
  const myInstance: MyInstanceType = new MyClass("foo"); // æ­¤æ—¶ myInstance æ˜¯ä¸€ä¸ª MyClass çš„å®ä¾‹ã€‚
  ```
6. `Parameters<T>`ï¼šè·å–å‡½æ•°ç±»å‹Tçš„å‚æ•°ç±»å‹çš„å…ƒç»„ã€‚
  ```ts
  function myFunction(arg1: string, arg2: number) {
    // ...
  }
  type MyParameters = Parameters<typeof myFunction>; // MyParameters çš„å€¼ä¸ºå…ƒç»„ [string, number]ã€‚
  ```
7. `Required<T>`ï¼šå°†ç±»å‹Tä¸­æ‰€æœ‰å±æ€§è®¾ä¸ºå¿…éœ€å±æ€§ï¼Œå³å»é™¤æ‰€æœ‰å¯é€‰ä¿®é¥°ç¬¦(?)ã€‚
8. `Partial<T>`ï¼šå°†ç±»å‹Tä¸­æ‰€æœ‰å±æ€§è®¾ä¸ºå¯é€‰å±æ€§ï¼Œå³åŠ ä¸Šæ‰€æœ‰å¯é€‰ä¿®é¥°ç¬¦(?)ã€‚
9. `Readonly<T>`ï¼šå°†ç±»å‹Tä¸­æ‰€æœ‰å±æ€§è®¾ä¸ºåªè¯»å±æ€§ï¼Œå³åŠ ä¸Šæ‰€æœ‰åªè¯»ä¿®é¥°ç¬¦(readonly)ã€‚
  ```ts
  interface MyObject {
    name?: string;
    age?: number;
  }

  type MyRequiredObject = Required<MyObject>; // æ‰€æœ‰å±æ€§éƒ½å˜æˆå¿…é€‰å±æ€§ï¼Œå³ { name: string; age: number; }ã€‚
  type MyPartialObject = Partial<MyObject>; // æ‰€æœ‰å±æ€§éƒ½å˜æˆå¯é€‰å±æ€§ï¼Œå³ { name?: string; age?: number; }ã€‚
  type MyReadonlyObject = Readonly<MyObject>; // æ‰€æœ‰å±æ€§éƒ½å˜æˆåªè¯»å±æ€§ï¼Œå³ { readonly name?: string; readonly age?: number; }ã€‚
  ```
10. `Record<K, T>`ï¼šç”Ÿæˆä¸€ä¸ªé”®ä¸ºKç±»å‹ï¼Œå€¼ä¸ºTç±»å‹çš„å¯¹è±¡ç±»å‹ã€‚
  ```ts
  type MyRecordType = Record<string, number>; // è¡¨ç¤ºé”®ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œå€¼ä¸ºæ•°å­—ç±»å‹çš„å¯¹è±¡ã€‚
  const myRecord: MyRecordType = {
    foo: 123,
    bar: 456,
  };
  ```
11. `Pick<T, K>`ï¼šä»ç±»å‹Tä¸­æŒ‘é€‰å‡ºå±æ€§Kçš„ç±»å‹ã€‚
12. `Omit<T, K>`ï¼šä»ç±»å‹Tä¸­åˆ é™¤å±æ€§Kçš„ç±»å‹ã€‚
  ```ts
  interface MyObject {
    name: string;
    age: number;
    gender: string;
  }
  type MyPickedObject = Pick<MyObject, "name" | "age">; // åªä¿ç•™ name å’Œ age å±æ€§ï¼Œå³ { name: string; age: number; }ã€‚
  type MyOmittedObject = Omit<MyObject, "gender">; // åˆ é™¤ gender å±æ€§ï¼Œå³ { name: string; age: number; }ã€‚
  ```


## 75ã€ç®€å•ä»‹ç»TypeScriptç±»å‹å…¼å®¹çš„ç†è§£ï¼ŸæŠ—å˜ï¼ŒåŒå˜ï¼Œåä½œï¼Œå’Œé€†å˜çš„ç®€å•ç†è§£ï¼Ÿ
- Covariant åå˜ï¼ŒTSå¯¹è±¡å…¼å®¹æ€§æ˜¯åå˜ï¼Œçˆ¶ç±» <= å­ç±»ï¼Œæ˜¯å¯ä»¥çš„ã€‚å­ç±» <= çˆ¶ç±»ï¼Œé”™è¯¯ã€‚
- Contravariant é€†å˜ï¼Œç¦ç”¨`strictFunctionTypes`ç¼–è¯‘ï¼Œå‡½æ•°å‚æ•°ç±»å‹æ˜¯é€†å˜çš„ï¼Œçˆ¶ç±» <= å­ç±»ï¼Œæ˜¯é”™è¯¯ã€‚å­ç±» <= çˆ¶ç±»ï¼Œæ˜¯å¯ä»¥çš„ã€‚
- Bivariant åŒå‘åå˜ï¼Œå‡½æ•°å‚æ•°çš„ç±»å‹é»˜è®¤æ˜¯åŒå‘åå˜çš„ã€‚çˆ¶ç±» <= å­ç±»ï¼Œæ˜¯å¯ä»¥çš„ã€‚å­ç±» <= çˆ¶ç±»ï¼Œæ˜¯å¯ä»¥çš„ã€‚


## 76ã€ç®€å•ä»‹ç»ä¸€ä¸‹TypeScriptæ¨¡å—çš„åŠ è½½æœºåˆ¶ï¼Ÿ
TypeScriptæ¨¡å—çš„åŠ è½½æœºåˆ¶æ˜¯æŒ‡å¦‚ä½•åœ¨TypeScriptä»£ç ä¸­å¼•å…¥å’Œä½¿ç”¨å…¶ä»–æ¨¡å—ã€‚
1. æ¨¡å—å®šä¹‰ï¼šæ¨¡å—å¯ä»¥è¢«å®šä¹‰ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­æ¯ä¸ªæ–‡ä»¶éƒ½åŒ…å«ä¸€ä¸ª`export`å£°æ˜ã€‚è¿™äº›æ–‡ä»¶å¯ä»¥æŒ‰ç…§éœ€è¦ç»„åˆæˆä¸€ä¸ªæ¨¡å—ã€‚
2. å¯¼å‡ºå£°æ˜ï¼šåœ¨æ¨¡å—å†…éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨å…³é”®å­—`export`æ ‡è®°ä»»ä½•å£°æ˜ï¼ˆå‡½æ•°ã€ç±»ã€æ¥å£ã€å˜é‡ç­‰ï¼‰ï¼Œä½¿å…¶èƒ½å¤Ÿä»æ¨¡å—å¤–è®¿é—®ã€‚
3. å¯¼å…¥å£°æ˜ï¼šåœ¨æ¨¡å—å¤–éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨å…³é”®å­—`import`æ¥å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å—é‡Œå¯¼å‡ºçš„å£°æ˜ã€‚å¯¼å…¥çš„å£°æ˜å¯ä»¥æ˜¯å‘½åå¯¼å…¥ã€é»˜è®¤å¯¼å…¥ï¼Œä¹Ÿå¯ä»¥æ˜¯æ··åˆå¯¼å…¥ã€‚
4. è§£æç­–ç•¥ï¼šå½“ç¼–è¯‘å™¨è§£ææ¨¡å—å¯¼å…¥æ—¶ï¼Œå°†æ ¹æ®ä»¥ä¸‹å‡ ç§æ¨¡å—è§£æç­–ç•¥æ¥ç¡®å®šæ¨¡å—çš„ä½ç½®ï¼š 
  - ç›¸å¯¹å¯¼å…¥ï¼šç›¸å¯¹å¯¼å…¥æ˜¯ç›¸å¯¹äºå¯¼å…¥æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•æ¥è§£æçš„ã€‚
  - éç›¸å¯¹å¯¼å…¥ï¼šéç›¸å¯¹å¯¼å…¥æ˜¯æ ¹æ®`â€œbaseUrlâ€ã€â€œpathsâ€`ç­‰é…ç½®æ¥è§£æçš„ã€‚
  - Node.js æ¨¡å—å¯¼å…¥ï¼šè¿™æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¼å…¥æ–¹å¼ï¼Œç”¨äºåŠ è½½ Node.js æ¨¡å—ã€‚
5. å‘å¸ƒæ¨¡å—ï¼šå¦‚æœè¦å‘å¸ƒ TypeScript æ¨¡å—ï¼Œåº”è¯¥åœ¨`package.json`æ–‡ä»¶ä¸­è®¾ç½®`"module"`å±æ€§ä¸º`"esnext"`æˆ–`"commonjs"`ï¼ˆå–å†³äºä½ çš„ç›®æ ‡å¹³å°ï¼‰ï¼Œå¹¶ä½¿ç”¨ npm å‘å¸ƒä½ çš„æ¨¡å—ã€‚


## 77ã€å¦‚ä½•ä½¿ç”¨TypeScripté¡¹ç›®å¼•å…¥å¹¶ç¼–è¯‘ä¸ºJavaScriptçš„npmåº“åŒ…ï¼Ÿ
1. å®‰è£…ç›¸å…³ç±»å‹åº“åŒ…
```ts
npm install @types/xxxx
```
2. è‡ªå·±æ·»åŠ æè¿°æ–‡ä»¶
```ts
declare module xxx
```


## 79ã€TypeScriptä¸­å¦‚ä½•è®¾ç½®æ¨¡å—å¯¼å…¥çš„è·¯å¾„åˆ«åï¼Ÿ
åœ¨ TypeScript ä¸­ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®è·¯å¾„åˆ«åæ¥ç®€åŒ–æ¨¡å—å¯¼å…¥çš„è·¯å¾„ã€‚è·¯å¾„åˆ«åæ˜¯ä¸€ç§æ˜ å°„å…³ç³»ï¼Œå®ƒå°†æŸä¸ªè¾ƒé•¿çš„è·¯å¾„æ˜ å°„ä¸ºä¸€ä¸ªçŸ­çš„åˆ«åã€‚
1. åœ¨`tsconfig.json`æ–‡ä»¶ä¸­é…ç½®`paths`å±æ€§ï¼Œè¯¥å±æ€§åŒ…å«ä¸€ä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªé”®å€¼å¯¹è¡¨ç¤ºä¸€ä¸ªè·¯å¾„åˆ«åçš„æ˜ å°„å…³ç³»ï¼Œä¾‹å¦‚ï¼š
  ```json
  {
    "compilerOptions": {
      // ...
      "baseUrl": "./src",
      "paths": {
        "@utils/*": ["utils/*"]
      }
    }
  }
  ```
  ä¸Šè¿°é…ç½®æŒ‡å®šäº†`@utils/*`åˆ«åè¡¨ç¤º`utils/*`ç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„`./src`ç›®å½•ã€‚
2. åœ¨ä»£ç ä¸­ä½¿ç”¨è·¯å¾„åˆ«åå¯¼å…¥æ¨¡å—ï¼š
  ```ts
  import { myFunction } from '@utils/my-utils';
  ```
  ä¸Šè¿°ä»£ç ä¸­ï¼Œ`@utils`æ˜¯è·¯å¾„åˆ«åï¼Œ`my-utils`æ˜¯å®é™…çš„ç›¸å¯¹è·¯å¾„ï¼ŒTypeScriptç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†`@utils`æ›¿æ¢ä¸ºç›¸åº”çš„è·¯å¾„ã€‚


## 80ã€constæ–­è¨€
constæ–­è¨€ï¼Œtypescriptä¼šä¸ºå˜é‡æ·»åŠ ä¸€ä¸ªè‡ªèº«çš„å­—é¢é‡ç±»å‹
1. å¯¹è±¡å­—é¢é‡çš„å±æ€§ï¼Œè·å¾—readonlyçš„å±æ€§ï¼Œæˆä¸ºåªè¯»å±æ€§
2. æ•°ç»„å­—é¢é‡æˆä¸ºreadonly tupleåªè¯»å…ƒç»„
3. å­—é¢é‡ç±»å‹ä¸èƒ½è¢«æ‰©å±•ï¼ˆæ¯”å¦‚ä»helloç±»å‹åˆ°stringç±»å‹ï¼‰
```ts
// type '"hello"'
let x = "hello" as const
// type 'readonly [10, 20]'
let y = [10, 20] as const
// type '{ readonly text: "hello" }'
let z = { text: "hello" } as const
```


## 81ã€implements ä¸ extends çš„åŒºåˆ«
- extendsï¼šå­ç±»ä¼šç»§æ‰¿çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚
- implementsï¼šä½¿ç”¨implementså…³é”®å­—çš„ç±»å°†éœ€è¦å®ç°éœ€è¦å®ç°çš„ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚


## 82ã€æšä¸¾å’Œ object çš„åŒºåˆ«
1. æšä¸¾å¯ä»¥é€šè¿‡æšä¸¾çš„åç§°ï¼Œè·å–æšä¸¾çš„å€¼ã€‚ä¹Ÿå¯ä»¥é€šè¿‡æšä¸¾çš„å€¼è·å–æšä¸¾çš„åç§°ã€‚
2. objectåªèƒ½é€šè¿‡keyè·å–value
3. æ•°å­—æšä¸¾åœ¨ä¸æŒ‡å®šåˆå§‹å€¼çš„æƒ…å†µä¸‹ï¼Œæšä¸¾å€¼ä¼šä»0å¼€å§‹é€’å¢ã€‚
4. è™½ç„¶åœ¨è¿è¡Œæ—¶ï¼Œæšä¸¾æ˜¯ä¸€ä¸ªçœŸå®å­˜åœ¨çš„å¯¹è±¡ã€‚ä½†æ˜¯ä½¿ç”¨keyofæ—¶çš„è¡Œä¸ºå´å’Œæ™®é€šå¯¹è±¡ä¸ä¸€è‡´ã€‚å¿…é¡»ä½¿ç”¨keyof typeofæ‰å¯ä»¥è·å–æšä¸¾æ‰€æœ‰å±æ€§åã€‚


## 83ã€å¦‚ä½•åœ¨ window æ‰©å±•ç±»å‹
```ts
declare global {
  interface Window {
    myCustomFn: () => void;
  }
}
```


## 84ã€å¤æ‚çš„ç±»å‹æ¨å¯¼é¢˜ç›®
å‚è€ƒï¼šhttps://segmentfault.com/a/1190000040403067?sort=votes


## 85ã€.d.tså’Œ.tsæ–‡ä»¶çš„åŒºåˆ«
`TypeScript`æ˜¯`JavaScript`ç±»å‹çš„è¶…é›†ï¼Œå®ƒçš„æ‰©å±•åæ˜¯`.ts`ï¼Œ`TypeScript`å¯ä»¥å°†å¤§é‡å˜é‡çš„ç±»å‹å£°æ˜ç»Ÿä¸€æå–åˆ°å•ç‹¬çš„æ–‡ä»¶ï¼Œæ­¤ç±»æ–‡ä»¶è¢«ç§°ä¸º**ç±»å‹å®šä¹‰æ–‡ä»¶/æè¿°æ–‡ä»¶**ï¼Œå®ƒçš„æ–‡ä»¶æ‰©å±•åæ˜¯`.d.ts`ï¼Œå®ƒå¯ä»¥è¢«`TypeScript`è§£é‡Šå™¨è¯»å–ï¼Œå¹¶ä¸”èƒ½ç›´è§‚åœ°è¡¨ç¤ºå‡ºå„ç§å˜é‡çš„ä½¿ç”¨æ–¹å¼ã€‚
`npm`ä»“åº“é‡Œæœ‰ä¸€ä¸ª`@types`ç»„ç»‡ï¼Œä¸“é—¨ç”¨æ¥å­˜æ”¾åº“çš„å£°æ˜æ–‡ä»¶ï¼Œå¼•ç”¨æ—¶åªéœ€è¦å®‰è£…`npm install --save-dev @types/åº“å`å³å¯ï¼Œæ¯”å¦‚åœ¨ä½¿ç”¨`jquery`çš„æ—¶å€™ï¼Œæœ€å¥½åŒæ—¶å®‰è£…`npm install @types/jquery`æ¥å®ç°ä»£ç çš„æ™ºèƒ½æç¤ºã€‚

### ç”¨æ³•
æ³¨æ„è¿™ç§æ–¹å¼æ˜¯åœ¨`es6` + `ts`ä¸‹ä½¿ç”¨
```ts
// types.d.ts
export type TitleInfo = {
  value: string
  color: string
}
export type ContentInfo = {
  value: string
  color: string
}
export type Todo = {
  id: number
  name: string
  completed: boolean
}
```
```ts
// index.ts
import type { Todo } from './types'
const todo: Todo = {
  id: 1,
  name: 'vue3å­¦ä¹ ',
  completed: false
}
```
æ•ˆæœå¦‚ä¸‹ï¼š
![](https://gitee.com/itchenliang/img/raw/master/img/20210902160122.png)

### å¦‚ä½•å®šä¹‰è‡ªå·±çš„ç±»å‹å®šä¹‰æ–‡ä»¶
#### å…¨å±€ç±»å‹
**å˜é‡**
```js
declare var aaa: number
declare const max:200
declare var aaa: number|string //æ³¨æ„è¿™é‡Œç”¨çš„æ˜¯ä¸€ä¸ªç«–çº¿è¡¨ç¤º"æˆ–"çš„æ„æ€
```
å…¶ä¸­å…³é”®å­—`declare`è¡¨ç¤ºå£°æ˜çš„æ„æ€ã€‚å…¨å±€å˜é‡æ˜¯aaa,ç±»å‹æ˜¯æ•°å­—ç±»å‹ï¼ˆnumberï¼‰

**å‡½æ•°**
ç”±ä¸Šé¢çš„å…¨å±€å˜é‡çš„å†™æ³•æˆ‘ä»¬å¾ˆè‡ªç„¶çš„æ¨æ–­å‡ºä¸€ä¸ªå…¨å±€å‡½æ•°çš„å†™æ³•å¦‚ä¸‹ï¼š
```js
/** idæ˜¯ç”¨æˆ·çš„idï¼Œå¯ä»¥æ˜¯numberæˆ–è€…string */
decalre function getName(id:number|string):string
```
æœ€åçš„é‚£ä¸ª`string`è¡¨ç¤ºçš„æ˜¯å‡½æ•°çš„è¿”å›å€¼çš„ç±»å‹ã€‚å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å€¼å¯ä»¥ç”¨`void`è¡¨ç¤ºã€‚
åœ¨jsä¸­è°ƒç”¨å°±ä¼šæœ‰å¦‚ä¸‹çš„æç¤ºï¼ˆä¸Šé¢å†™çš„æ³¨é‡Šï¼Œå†™jsçš„æ—¶å€™è¿˜å¯ä»¥æç¤ºï¼‰ï¼š
![](https://gitee.com/itchenliang/img/raw/master/img/20210902153750.png)

æœ‰æ—¶å€™åŒä¸€ä¸ªå‡½æ•°æœ‰è‹¥å¹²ç§å†™æ³•ï¼š
```js
get(1234)
get("zhangsan",18)
```
å¯¹åº”çš„`d.ts`æ–‡ä»¶çš„å†™æ³•ï¼š
```js
declare function get(id: string | number): string
declare function get(name:string,age:number): string
```
å¦‚æœæœ‰äº›å‚æ•°å¯æœ‰å¯æ— ï¼Œå¯ä»¥åŠ ä¸ª`?`è¡¨ç¤ºéå¿…é¡»ã€‚
```js
declare function render(callback?:() => void): string
```
åœ¨è°ƒç”¨æ—¶ä¸ä¼ éƒ½å¯ä»¥ï¼š
```js
render()
render(function () {
 alert('finish.')
})
```

**class**
é™¤äº†å˜é‡å’Œå‡½æ•°å¤–ï¼Œæˆ‘ä»¬è¿˜æœ‰ç±»ï¼ˆclassï¼‰
```js
declare class Person {
 static maxAge: number //é™æ€å˜é‡
 static getMaxAge(): number //é™æ€æ–¹æ³•
 constructor(name: string, age: number) //æ„é€ å‡½æ•°
 getName(id: number): string 
}
```

**å¯¹è±¡**
```js
declare namespace OOO{
 var aaa: number | string
 function getName(id: number | string): string
 class Person {
   static maxAge: number //é™æ€å˜é‡
   static getMaxAge(): number //é™æ€æ–¹æ³•
   constructor(name: string, age: number) //æ„é€ å‡½æ•°
   getName(id: number): string //å®ä¾‹æ–¹æ³•
 }
}
```
å…¶å®å°±æ˜¯æŠŠä¸Šé¢çš„é‚£äº›å†™æ³•æ”¾åˆ°è¿™ä¸ª`namespace`åŒ…èµ·æ¥çš„å¤§æ‹¬å·é‡Œé¢ï¼Œæ³¨æ„æ‹¬å·é‡Œé¢å°±ä¸éœ€è¦`declare`å…³é”®å­—äº†ã€‚
å¯¹è±¡é‡Œé¢å¥—å¯¹è±¡ä¹Ÿæ˜¯å¯ä»¥çš„ï¼š
```js
declare namespace OOO{
 var aaa: number | string
 // ...
 namespace O2{
 let b:number
 }
}
```

**æ··åˆç±»å‹**
æœ‰æ—¶å€™æœ‰äº›å€¼æ—¢æ˜¯`å‡½æ•°`åˆæ˜¯`class`åˆæ˜¯`å¯¹è±¡`çš„å¤æ‚å¯¹è±¡ã€‚æ¯”å¦‚æˆ‘ä»¬å¸¸ç”¨çš„jqueryæœ‰å„ç§ç”¨æ³•ï¼š
```js
new $()
$.ajax()
$()
```
æ—¢æ˜¯å‡½æ•°åˆæ˜¯å¯¹è±¡
```js
declare function $2(s:string): void
declare namespace $2{
 let aaa:number
}
```
æ—¢æ˜¯å‡½æ•°ï¼Œåˆæ˜¯ç±»ï¼ˆå¯ä»¥newå‡ºæ¥ï¼‰
```js
// å®ä¾‹æ–¹æ³• 
interface People{
 name: string
 age: number
 getName(): string
 getAge():number
}
interface People_Static{
 new (name: string, age: number): People
 /** é™æ€æ–¹æ³• */
 staticA():number
 
 (w:number):number
}
declare var People:People_Static
```

#### æ¨¡å—åŒ–
é™¤äº†ä¸Šé¢çš„å…¨å±€çš„æ–¹å¼ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™è¿˜æ˜¯é€šè¿‡`require`çš„æ–¹å¼å¼•å…¥æ¨¡å—åŒ–çš„ä»£ç ã€‚
![](https://gitee.com/itchenliang/img/raw/master/img/20210902154838.png)
å¯¹åº”çš„`d.ts`å†™æ³•æ˜¯è¿™æ ·çš„ï¼š
```js
declare module 'jquery' {
  export let a: number
  export function b(): number
  export namespace c{
    let cd: string
  }
}
```

æœ‰æ—¶å€™æˆ‘ä»¬å¯¼å‡ºå»çš„æ˜¯ä¸€ä¸ªå‡½æ•°æœ¬èº«ï¼Œæ¯”å¦‚è¿™æ ·çš„ï¼š
![](https://gitee.com/itchenliang/img/raw/master/img/20210902155047.png)
å¯¹åº”çš„`d.ts`å†™æ³•æ˜¯è¿™æ ·çš„ï¼š
```js
declare module 'jquery' {
  function aaa(some:number):number
  export = aaa
}
```
å¯¼å‡ºä¸€ä¸ªå˜é‡æˆ–å¸¸é‡çš„è¯è¿™ä¹ˆå†™ï¼š
```js
declare module "ccc" {
 const c:400
 export=c
}
```

#### UMD
æœ‰ä¸€ç§ä»£ç ï¼Œæ—¢å¯ä»¥é€šè¿‡å…¨å±€å˜é‡è®¿é—®åˆ°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡`require`çš„æ–¹å¼è®¿é—®åˆ°ã€‚æ¯”å¦‚æˆ‘ä»¬æœ€å¸¸è§çš„`jquery`ï¼š
![](https://gitee.com/itchenliang/img/raw/master/img/20210902155219.png)
![](https://gitee.com/itchenliang/img/raw/master/img/20210902155220.png)
å…¶å®å°±æ˜¯æŒ‰ç…§å…¨å±€çš„æ–¹å¼å†™`d.ts`ï¼Œå†™å®Œååœ¨æœ€ååŠ ä¸Šdeclare namespace "xxx"çš„æè¿°ï¼š
```js
declare namespace UUU{
 let a:number
}
 
declare module "UUU" {
 export = UUU
}
```
æ•ˆæœè¿™æ ·ï¼š
![](https://gitee.com/itchenliang/img/raw/master/img/20210902155400.png)
![](https://gitee.com/itchenliang/img/raw/master/img/20210902155401.png)

#### å…¶ä»–
æœ‰æ—¶å€™æˆ‘ä»¬æ‰©å±•äº†ä¸€äº›å†…ç½®å¯¹è±¡ã€‚æ¯”å¦‚æˆ‘ä»¬ç»™`Date`å¢åŠ äº†ä¸€ä¸ª`format`çš„å®ä¾‹æ–¹æ³•ï¼š
![](https://gitee.com/itchenliang/img/raw/master/img/20210902155501.png)
å¯¹åº”çš„`d.ts`å†™æ³•æ˜¯è¿™æ ·çš„ï¼š
```js
interface Date {
  format(f: string): string
}
```


## 86ã€typescript é‡åˆ°è¿‡ä»€ä¹ˆå‘
main.ts æŠ¥é”™ï¼ˆ Cannot find module './App.vue'.ï¼‰<br>
åŸå› ï¼š typescript ä¸èƒ½è¯†åˆ«.vue æ–‡ä»¶<br>
è§£å†³åŠæ³•ï¼š å¼•å…¥ vue çš„ typescript declare åº“


